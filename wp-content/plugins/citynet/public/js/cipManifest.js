(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cipManifest"],{"0674":function(t,e,i){},"088b":function(t,e,i){"use strict";i("c80f")},"106a":function(t,e,i){"use strict";i("75dc")},"15d2":function(t,e,i){"use strict";var s=i("8336"),a=i("99d9"),n=i("62ad"),r=i("169a"),o=i("132d"),l=i("0fd9"),c=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(r["a"],{attrs:{"content-class":"theme-card moreRadius button no-overflow-xy datepicker-dialog no-margin dir-ltr","max-width":"400"},on:{"click:outside":function(e){return t.$emit("input",!1)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"pa-4 d-flex align-center justify-space-between"},[e("div",{staticClass:"text-start"},[e("span",[t._v("Edit Date & Time")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-12"},[t._v(" Please check and confirm all data ")])]),e(o["a"],{staticClass:"icon-remove icon-18 theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.$emit("input",!1)}}})],1),e(l["a"],{staticClass:"mx-0 px-4"},[e(n["a"],{staticClass:"pb-0 pl-0",attrs:{cols:"8"}},[e("date-picker",{ref:"Datepicker",attrs:{locale:t.$locale,label:"Date",startLabel:"Date",endLabel:"Date",dense:!0,"locale-config":{fa:{inputFormat:"jdddd jYYYY/jMM/jDD "},en:{inputFormat:"dddd YYYY/MM/DD "}},mode:"single",from:t.todayJ},model:{value:t.actualDate,callback:function(e){t.actualDate=e},expression:"actualDate"}})],1),e(n["a"],{staticClass:"pb-0 pr-0"},[e("AppTimePicker",{attrs:{attach:"flight-time",hourLabel:"hh",minuteLabel:"mm",label:"Time"},model:{value:t.actualTime,callback:function(e){t.actualTime=e},expression:"actualTime"}})],1)],1),e(a["a"],{staticClass:"d-flex justify-end theme-element-bg-light py-3 moreRadius button"},[e(s["a"],{staticClass:"moreRadius button lightButtons",attrs:{depressed:"",width:"140",height:"44","x-large":""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Cancel ")]),e(s["a"],{staticClass:"moreRadius button mx-2 white--text",attrs:{depressed:"",width:"140",color:"buttons","x-large":"",height:"44"},on:{click:t.changeActualDate}},[t._v("Confirm")])],1)],1)},u=[],p=i("60a3"),d=i("23c5"),h=i("5c1f"),f=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),m=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actualDate="",e.actualTime="",e}return f(e,t),Object.defineProperty(e.prototype,"todayJ",{get:function(){return(new this.$persianDate).calendar("j").toString()},enumerable:!1,configurable:!0}),e.prototype.changeActualDate=function(){var t=this;this.changeActualDates().then((function(){t.$toast.success("Changed Flight Date Successfully"),t.$emit("input",!1)})).catch((function(e){t.$toast.error("Error Changing Flight Date")}))},e.prototype.changeActualDates=function(){var t=this,e=[],i=[];this.result.CipItineraries.filter((function(t){var e=i.findIndex((function(e){return e.SessionId==t.SessionId&&e.CombinationId==t.CombinationId&&e.RecommendationId==t.RecommendationId&&e.SubsystemId==t.SubsystemId}));return e<=-1&&i.push(t),null}));for(var s=function(i){var s={CipItinerary:i,Type:"ActualDate",ActualDateTime:a.actualDate+" "+a.actualTime};e.push(new Promise((function(e,i){t.axios.post(t.$store.state.baseUrl+"report/cip/flightinfo",s).then((function(t){t.data.Success?e():i()})).catch((function(t){i()}))})))},a=this,n=0,r=i;n<r.length;n++){var o=r[n];s(o)}return Promise.all(e)},m([Object(p["c"])()],e.prototype,"value",void 0),m([Object(p["c"])()],e.prototype,"result",void 0),e=m([Object(p["a"])({components:{AppTimePicker:d["a"],datePicker:h["b"]}})],e),e}(p["d"]),v=g,y=v,b=i("2877"),C=Object(b["a"])(y,c,u,!1,null,null,null);e["a"]=C.exports},1681:function(t,e,i){},"16f3":function(t,e,i){},"17b3":function(t,e,i){},"1ab1":function(t,e,i){"use strict";i("16f3")},"1f4f":function(t,e,i){"use strict";i("8b37");var s=i("80d2"),a=i("7560"),n=i("58df");e["a"]=Object(n["a"])(a["a"]).extend({name:"v-simple-table",props:{dense:Boolean,fixedHeader:Boolean,height:[Number,String]},computed:{classes(){return{"v-data-table--dense":this.dense,"v-data-table--fixed-height":!!this.height&&!this.fixedHeader,"v-data-table--fixed-header":this.fixedHeader,"v-data-table--has-top":!!this.$slots.top,"v-data-table--has-bottom":!!this.$slots.bottom,...this.themeClasses}}},methods:{genWrapper(){return this.$slots.wrapper||this.$createElement("div",{staticClass:"v-data-table__wrapper",style:{height:Object(s["h"])(this.height)}},[this.$createElement("table",this.$slots.default)])}},render(t){return t("div",{staticClass:"v-data-table",class:this.classes},[this.$slots.top,this.genWrapper(),this.$slots.bottom])}})},"1f7a":function(t,e,i){},"23c5":function(t,e,i){"use strict";var s=i("b974"),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:t.$vuetify.rtl?"dir-rtl":"dir-ltr"},[e("div",{staticClass:"time-picker-field",class:[{dark:t.$vuetify.theme.dark},{mobile:t.$vuetify.breakpoint.mobile},t.$vuetify.rtl?"":"flex-row-reverse",t.cnLodash.isEmpty(t.errors)?"":"time-picker-field--error",t.disabled?"time-picker-field--disabled":""]},[e("span",{staticClass:"time-picker-field__label",class:[t.$vuetify.rtl?"is-rtl":"is-ltr",t.cnLodash.isEmpty(t.errors)?"":"error--text"]},[t._v(t._s(t.label))]),e(s["a"],{ref:"timePickerMin"+t.attach,class:`moreRadius input time-picker-field__minute-menu time-picker-field__minute${t.attach} text-center`,attrs:{"menu-props":{"offset-y":!0,closeOnClick:!0,closeOnContentClick:!0,minWidth:60,contentClass:"moreRadius button custom-scroll mt-1 custom-z-index menu-shadow"},dense:!t.$vuetify.breakpoint.mobile,attach:".time-picker-field__minute"+t.attach,items:t.items.minutes,"hide-details":"",disabled:t.disabled,error:!t.cnLodash.isEmpty(t.errors),placeholder:t.minuteLabel,"append-icon":""},on:{blur:t.handleMinuteBlur,change:function(e){return t.updateModel("minute")}},scopedSlots:t._u([{key:"selection",fn:function(i){return[e("div",{staticClass:"text-center w-100 font-weight-400",class:t.$vuetify.theme.dark?"white--text":"darkGrey--text"},[t._v(" "+t._s(i.item)+" ")])]}},{key:"item",fn:function(i){return[e("div",{staticClass:"font-size-12 d-flex align-center justify-center w-100 h-100",class:t.$vuetify.theme.dark?"white--text":"darkGrey--text"},[t._v(" "+t._s(i.item)+" ")])]}}]),model:{value:t.model.min,callback:function(e){t.$set(t.model,"min",e)},expression:"model.min"}}),e("span",{staticClass:"px-1 ma-auto font-size-18",class:t.$vuetify.theme.dark?"white--text":"darkGrey--text"},[t._v(":")]),e(s["a"],{ref:"timePickerHour"+t.attach,class:`moreRadius input time-picker-field__hour-menu time-picker-field__hour${t.attach} text-center`,attrs:{"menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:60,contentClass:"moreRadius button custom-scroll mt-1 custom-z-index menu-shadow"},dense:!t.$vuetify.breakpoint.mobile,items:t.items.hours,attach:".time-picker-field__hour"+t.attach,placeholder:t.hourLabel,disabled:t.disabled,"hide-details":"","append-icon":"",error:!t.cnLodash.isEmpty(t.errors)},on:{change:function(e){return t.updateModel("hour")},keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:(e.preventDefault(),t.openMinutesMenu.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.openMinutesMenu.apply(null,arguments)}]},scopedSlots:t._u([{key:"selection",fn:function(i){return[e("div",{staticClass:"text-center w-100 font-weight-400",class:t.$vuetify.theme.dark?"white--text":"darkGrey--text"},[t._v(" "+t._s(i.item)+" ")])]}},{key:"item",fn:function(i){return[e("div",{staticClass:"font-size-12 text-center w-100",class:t.$vuetify.theme.dark?"white--text":"darkGrey--text"},[t._v(" "+t._s(i.item)+" ")])]}}]),model:{value:t.model.hour,callback:function(e){t.$set(t.model,"hour",e)},expression:"model.hour"}})],1)])},n=[],r=i("3dd8"),o=i("60a3"),l=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),c=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},u=function(t,e,i,s){function a(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,n){function r(t){try{l(s.next(t))}catch(e){n(e)}}function o(t){try{l(s["throw"](t))}catch(e){n(e)}}function l(t){t.done?i(t.value):a(t.value).then(r,o)}l((s=s.apply(t,e||[])).next())}))},p=function(t,e){var i,s,a,n,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return l([t,e])}}function l(n){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,s&&(a=2&n[0]?s["return"]:n[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,n[1])).done)return a;switch(s=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){r.label=n[1];break}if(6===n[0]&&r.label<a[1]){r.label=a[1],a=n;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(n);break}a[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.disabled=!1,e.hourMax=23,e.model={hour:"",min:""},e}return l(e,t),e.prototype.mounted=function(){this.setModel()},Object.defineProperty(e.prototype,"items",{get:function(){return{hours:Array.from({length:this.hourMax+1},(function(t,e){return String(e).padStart(2,"0")})),minutes:Array.from({length:60},(function(t,e){return String(e).padStart(2,"0")}))}},enumerable:!1,configurable:!0}),e.prototype.handleMinuteBlur=function(){this.model.hour&&!this.model.min&&this.$emit("input","".concat(this.model.hour,":00"))},e.prototype.openMinutesMenu=function(){this.$refs["timePickerMin".concat(this.attach)].focus(),this.$refs["timePickerMin".concat(this.attach)].onClick((function(){}))},e.prototype.updateModel2=function(t){return u(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return this.$emit("input","".concat(this.model.hour,":").concat(this.model.min)),[4,this.timeout(500)];case 1:return e.sent(),"hour"!==t||this.$refs["timePickerHour".concat(this.attach)].isMenuActive||this.openMinutesMenu(),[2]}}))}))},e.prototype.updateModel=function(t){return u(this,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return this.$emit("input","".concat(this.model.hour,":").concat(this.model.min)),[4,this.timeout(100)];case 1:return e.sent(),"hour"!==t||this.$refs["timePickerHour".concat(this.attach)].isMenuActive||this.openMinutesMenu(),[2]}}))}))},e.prototype.setModel=function(){if(this.value&&this.value.includes(":")){var t=this.value.split(":"),e=t[0],i=t[1];this.model={hour:e,min:i}}else this.model={hour:"",min:""}},e.prototype.onValueModified=function(){this.setModel()},c([Object(o["c"])()],e.prototype,"label",void 0),c([Object(o["c"])()],e.prototype,"value",void 0),c([Object(o["c"])()],e.prototype,"hourLabel",void 0),c([Object(o["c"])()],e.prototype,"minuteLabel",void 0),c([Object(o["c"])()],e.prototype,"errors",void 0),c([Object(o["c"])({default:""})],e.prototype,"attach",void 0),c([Object(o["c"])({default:!1})],e.prototype,"disabled",void 0),c([Object(o["c"])({default:23})],e.prototype,"hourMax",void 0),c([Object(o["e"])("value",{deep:!0})],e.prototype,"onValueModified",null),e=c([Object(o["a"])({})],e),e}(Object(o["b"])(r["a"])),h=d,f=h,m=(i("30c9"),i("2877")),g=Object(m["a"])(f,a,n,!1,null,"3c25928c",null);e["a"]=g.exports},"30c9":function(t,e,i){"use strict";i("f14c")},3817:function(t,e,i){"use strict";var s=i("c6a6"),a=i("b0af"),n=i("cc20"),r=i("62ad"),o=i("132d"),l=i("1800"),c=i("5d23"),u=i("34c3"),p=i("0fd9"),d=i("0789"),h=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:`current-form__input--location-${t.cnReplaceAll(t.label,"/","")}${t.attach} w-100`},[e(s["a"],{staticClass:"current-form__input--location moreRadius input",class:{"is-rtl":t.$vuetify.rtl,"has-max-width":t.maxWidth},attrs:{label:t.$t(t.label,t.lang?t.lang:t.$i18n.locale),outlined:t.outlined,autocomplete:"chrome-off",type:"text",attach:`.current-form__input--location-${t.cnReplaceAll(t.label,"/","")}${t.attach}`,items:t.locations,disabled:t.disabled,dense:t.dense,"menu-props":{transition:"slide-y-transition"},"hide-no-data":"","hide-details":"auto","no-filter":"",height:t.height,"allow-overflow":"","return-object":"","item-text":"searchKey","error-messages":t.errors,"search-input":t.searchLocation,"append-icon":"",name:"current-location-"+t.randomId,"hide-selected":!0},on:{focus:t.freeInput,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"backspace",void 0,e.key,void 0)?null:t.emptyData.apply(null,arguments)},blur:t.outsideClick,"update:searchInput":function(e){t.searchLocation=e},"update:search-input":function(e){t.searchLocation=e},change:t.selectCity},scopedSlots:t._u([{key:"item",fn:function(i){return[e(l["a"],{staticClass:"pr-2 mx-0",on:{click:function(e){return t.selectCity(i.item)}}},[e(u["a"],{staticClass:"mx-1"},[e(n["a"],{staticClass:"font-weight-bold d-flex justify-center resultChip pa-0 white--text",attrs:{small:"",label:"",color:i.item.isCity?"#5189F6":"#D50C6A",dark:""}},[i.item.isCity?e("i",{staticClass:"icon-City icon-16",staticStyle:{color:"white !important"}}):e("i",{staticClass:"icon-flight-simple icon-20 white--text",staticStyle:{color:"white !important"}}),e("span",{staticClass:"mx-1",staticStyle:{"font-size":"11px"}},[t._v(t._s(i.item.airportCode.replace("*","")))])])],1)],1),e(c["a"],[i.item.subCategory?e("div",[e(c["c"],{staticClass:"ellipsisText text-left"},[t._v(" "+t._s(t._f("titleCase")(i.item.airportNameEn)))]),e(c["b"],{staticClass:"text-left ellipsisTextFa"},[t._v(t._s(i.item.airportNameFa?i.item.airportNameFa:"--"))])],1):e("div",[e(c["c"],{staticClass:"ellipsisText text-left"},[t._v(" "+t._s(t._f("titleCase")(i.item.airportNameEn))+" - "+t._s(t._f("titleCase")(i.item.cityNameEn)))]),e(c["b"],{staticClass:"text-left ellipsisTextFa"},[t._v(t._s(i.item.countryNameFa)+" "+t._s(i.item.cityNameFa&&"null"!==i.item.cityNameFa&&null!==i.item.cityNameFa?"- "+i.item.cityNameFa:"")+" "+t._s(i.item.airportNameFa?" - "+i.item.airportNameFa:""))])],1)])]}},{key:"selection",fn:function(i){return[i.item?e("div",{staticClass:"d-flex align-center",on:{click:function(e){t.location="",t.locations=[]}}},[e(n["a"],{staticClass:"font-weight-bold d-flex justify-center resultChip pa-0 white--text",attrs:{"x-small":"",label:"",color:i.item.isCity?"#5189F6":"#D50C6A",dark:""}},[i.item.isCity?e("i",{staticClass:"icon-City icon-16",staticStyle:{color:"white !important"}}):e("i",{staticClass:"icon-flight-simple icon-20 white--text",staticStyle:{color:"white !important"}}),e("span",{staticClass:"mx-1",staticStyle:{"font-size":"11px"}},[t._v(t._s(i.item.airportCode.replace("*","")))])]),e("span",{staticClass:"font-weight-300 font-size-13",style:t.maxWidth?{overflow:"hidden",textOverflow:"ellipsis",width:t.maxWidth}:{}},[e("span",{style:t.maxWidth?{whiteSpace:"nowrap"}:{}},[t._v(" "+t._s("fa"==t.$i18n.locale&&"en"!=t.lang&&i.item.cityNameFa&&null!==i.item.cityNameFa&&"null"!==i.item.cityNameFa?i.item.cityNameFa+"، ":"")+t._s("fa"==t.$i18n.locale&&"en"!=t.lang&&i.item.originalCountryNameFa&&"null"!==i.item.originalCountryNameFa&&null!==i.item.originalCountryNameFa?i.item.originalCountryNameFa+", ":"")+" "+t._s(t._f("titleCase")(i.item.airportNameFa&&"null"!==i.item.airportNameFa&&"en"!=t.lang?i.item.airportNameFa:i.item.airportNameEn))+" ")])])],1):t._e()]}}]),model:{value:t.location,callback:function(e){t.location=e},expression:"location"}}),e(d["g"],[t.openDefaultCitites&&t.showDefaultCitites?e(a["a"],{staticClass:"defaultMenu",staticStyle:{"background-color":"#fff !important"}},[e("div",{staticClass:"defaultMenu-inner pa-2"},[e(p["a"],{staticClass:"ma-0",staticStyle:{width:"100%"}},[e(r["a"],{staticClass:"d-flex justify-start",attrs:{cols:"12"}},[e("span",{staticClass:"grey--text"},[t._v(t._s(t.$t("mostVisitedCitiesAndAirports")))])])],1),e(p["a"],{staticClass:"ma-0",staticStyle:{width:"100%"}},t._l(4,(function(i){return e(r["a"],{key:i,staticClass:"pa-0",attrs:{cols:2==t.colNumbers?6:3}},t._l(t.defaultCities.slice((2==t.colNumbers?10:5)*(i-1),(2==t.colNumbers?10:5)*i),(function(i,s){return e("div",{key:s,staticClass:"mt-2 d-flex align-center justify-start px-0 py-1",staticStyle:{cursor:"pointer","font-size":"12px"},on:{click:function(e){return t.selectCity(i)}}},[e(o["a"],{staticClass:"icon-circle-bold",style:{opacity:100-s*t.colNumbers*5+"%"},attrs:{size:"10",color:"primary"}}),i.hasOwnProperty("title")?e("span",{staticClass:"mr-2"},[t._v(" "+t._s(t._f("titleCase")(i.title))+" ")]):"fa"==t.$i18n.locale?e("span",{staticClass:"mr-2"},[t._v(" "+t._s(t._f("titleCase")(i.cityNameFa))+" ")]):e("span",{staticClass:"ml-2"},[t._v(" "+t._s(t._f("titleCase")(i.cityNameEn))+" ")])],1)})),0)})),1)],1)]):t._e()],1)],1)},f=[],m=i("60a3"),g=i("403a"),v=i("f1a7"),y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),b=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},C=function(t,e,i){if(i||2===arguments.length)for(var s,a=0,n=e.length;a<n;a++)!s&&a in e||(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return t.concat(s||Array.prototype.slice.call(e))},x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.randomId=(1e3*Math.random()).toString().split(".")[0],e.locations=[],e.openDefaultCitites=!1,e.showIcon=!0,e.searchLocation=" ",e.location={},e}return y(e,t),e.prototype.created=function(){this.locations=[],this.locations.push(this.value),this.location=this.value},Object.defineProperty(e.prototype,"defaultCities",{get:function(){var t=this.$store.state.authStore.base.mostVisitedAirports.items[this.$i18n.locale];return this.onlyShowAirports&&(t=g["e"].concat(g["g"]).filter((function(t){return!t.isCity})),t=t.filter((function(t){return!t.isCity})),t.unshift({airportCode:"IST",airportNameEn:"ISTANBUL AIRPORT",airportNameFa:"فرودگاه استانبول",cityCode:"IST",cityNameEn:"ISTANBUL",cityNameFa:"استانبول",count:2,countryCode:"TR",countryNameEn:"TURKEY",countryNameFa:"ترکیه",isCity:!1,originalAirportCode:"IST",originalCityCode:"IST",originalCityNameFa:"استانبول",originalCountryCode:"TR",originalCountryName:"Turkey",originalCountryNameFa:"ترکیه"}),t.unshift({cityCode:"THR",originalCityCode:"THR",cityNameEn:"TEHRAN",title:"تهران (امام خمینی)",cityNameFa:"تهران",originalCityNameFa:"تهران",airportCode:"IKA",originalAirportCode:"IKA",airportNameEn:"IMAM KHOMEINI INTL",airportNameFa:"فرودگاه بین  المللی امام خمینی (ره)",countryCode:"IR",originalCountryCode:"IR",countryNameEn:"IRAN",originalCountryName:"Iran",countryNameFa:"ایران",originalCountryNameFa:"ایران",isCity:!1,count:2}),t.unshift({cityCode:"THR",originalCityCode:"THR",cityNameEn:"TEHRAN",title:"تهران ‌(مهرآباد)",cityNameFa:"تهران",originalCityNameFa:"تهران",airportCode:"THR",originalAirportCode:"THR",airportNameEn:"MEHRABAD INTL",airportNameFa:"فرودگاه مهرآباد",countryCode:"IR",originalCountryCode:"IR",countryNameEn:"IRAN",originalCountryName:"Iran",countryNameFa:"ایران",originalCountryNameFa:"ایران",isCity:!1,count:2})),t},enumerable:!1,configurable:!0}),e.prototype.selectCity=function(t){this.locations=[],this.locations.push(t),this.location=t,this.$emit("input",this.location),this.openDefaultCitites=!1},e.prototype.outsideClick=function(){this.location||(this.location="",this.$emit("input",this.location)),this.openDefaultCitites=!1},e.prototype.freeInput=function(){this.showIcon=!1,this.location&&""!=this.location&&" "!=this.location&&0!==this.location.length?(this.location="",this.$emit("input",this.location),this.locations=[],this.openDefaultCitites=!this.openDefaultCitites):this.openDefaultCitites=!0},e.prototype.outsideInputClicked=function(){this.location="",this.openDefaultCitites=!1},e.prototype.emptyData=function(){this.location="",this.locations=[],this.openDefaultCitites=!0},Object.defineProperty(e.prototype,"colNumbers",{get:function(){return 2},enumerable:!1,configurable:!0}),e.prototype.searchLocations=function(t){var e=this;t&&(this.openDefaultCitites=!1);var i={headers:{"Content-Type":"application/json; charset=utf-8"}};t&&t.length>2&&this.axios(this.$store.state.baseUrl+"airportlist?q="+t,i).then((function(t){t.data.Items.forEach((function(t){e.$set(t,"searchKey",t.cityCode+t.airportCode+t.cityNameEn+t.airportNameEn+t.cityNameFa+t.airportNameFa)}));for(var i=C([],t.data.Items,!0),s=0;s<i.length;s++)if(i[s].subCategory=!1,i[s].isCity){for(var a=s+1;a<i.length;a++){if(i[s].cityCode!=i[a].cityCode){i[a].subCategory=!1;break}i[a].subCategory=!0,e.$set(i[s],"searchKey",i[s].searchKey+i[a].airportCode)}s=a-1}e.locations=i.filter((function(t){return!t.isCity}))}))},e.prototype.changeValue=function(){this.locations=[],this.locations.push(this.value),this.location=this.value},b([Object(m["c"])()],e.prototype,"errors",void 0),b([Object(m["c"])()],e.prototype,"value",void 0),b([Object(m["c"])({default:!1})],e.prototype,"dense",void 0),b([Object(m["c"])({default:!1})],e.prototype,"disabled",void 0),b([Object(m["c"])({default:""})],e.prototype,"height",void 0),b([Object(m["c"])()],e.prototype,"label",void 0),b([Object(m["c"])()],e.prototype,"lang",void 0),b([Object(m["c"])({default:!1})],e.prototype,"onlyShowAirports",void 0),b([Object(m["c"])({default:!0})],e.prototype,"outlined",void 0),b([Object(m["c"])()],e.prototype,"position",void 0),b([Object(m["c"])({default:!0})],e.prototype,"showDefaultCitites",void 0),b([Object(m["c"])({default:""})],e.prototype,"attach",void 0),b([Object(m["c"])({default:""})],e.prototype,"maxWidth",void 0),b([Object(m["e"])("searchLocation")],e.prototype,"searchLocations",null),b([Object(m["e"])("value")],e.prototype,"changeValue",null),e=b([Object(m["a"])({})],e),e}(Object(m["b"])(v["a"])),_=x,w=_,S=(i("088b"),i("2877")),I=Object(S["a"])(w,h,f,!1,null,"4a062a99",null);e["a"]=I.exports},"3a2f":function(t,e,i){"use strict";i("9734");var s=i("4ad4"),a=i("a9ad"),n=i("16b7"),r=i("b848"),o=i("f573"),l=i("80d2"),c=i("d9bd"),u=i("58df");e["a"]=Object(u["a"])(a["a"],n["a"],r["a"],o["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,i=!this.bottom&&!this.left&&!this.top&&!this.right,s=!1!==this.attach?t.offsetLeft:t.left;let a=0;return this.top||this.bottom||i?a=s+t.width/2-e.width/2:(this.left||this.right)&&(a=s+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(a-=parseInt(this.nudgeLeft)),this.nudgeRight&&(a+=parseInt(this.nudgeRight)),this.calcXOverflow(a,this.dimensions.content.width)+"px"},calculatedTop(){const{activator:t,content:e}=this.dimensions,i=!1!==this.attach?t.offsetTop:t.top;let s=0;return this.top||this.bottom?s=i+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(s=i+t.height/2-e.height/2),this.nudgeTop&&(s-=parseInt(this.nudgeTop)),this.nudgeBottom&&(s+=parseInt(this.nudgeBottom)),!1===this.attach&&(s+=this.pageYOffset),this.calcYOverflow(s)+"px"},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(l["h"])(this.maxWidth),minWidth:Object(l["h"])(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(l["t"])(this,"activator",!0)&&Object(c["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=s["a"].options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")}),t.keydown=t=>{t.keyCode===l["y"].esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(()=>[this.genTransition()]),this.genActivator()])}})},"3a66":function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i("fe6c"),a=i("58df");function n(t,e=[]){return Object(a["a"])(Object(s["b"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty(){return t}},watch:{app(t,e){e?this.removeApplication(!0):this.callUpdate()},applicationProperty(t,e){this.$vuetify.application.unregister(this._uid,e)}},activated(){this.callUpdate()},created(){for(let t=0,i=e.length;t<i;t++)this.$watch(e[t],this.callUpdate);this.callUpdate()},mounted(){this.callUpdate()},deactivated(){this.removeApplication()},destroyed(){this.removeApplication()},methods:{callUpdate(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication(t=!1){(t||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:()=>0}})}},"3dd8":function(t,e,i){"use strict";var s=i("60a3"),a=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),n=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.timeout=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e=n([s["a"]],e),e}(s["d"]);e["a"]=r},"495dc":function(t,e,i){},"5df0":function(t,e,i){"use strict";var s=i("60a3"),a=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),n=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.imgUrl=function(t,e){return void 0===e&&(e="fa"),window.location.origin+"/wp-content/plugins/citynet/assets/airlines/"+("fa"==e?e:"en")+"logo/"+t+".png"},e=n([s["a"]],e),e}(s["d"]);e["a"]=r},"6a6a":function(t,e,i){"use strict";i("ea57")},"6ab5":function(t,e,i){},7006:function(t,e,i){"use strict";var s=i("c6a6"),a=i("8336"),n=i("b0af"),r=i("99d9"),o=i("cc20"),l=i("62ad"),c=i("169a"),u=i("132d"),p=i("8860"),d=i("da13"),h=i("1800"),f=i("5d23"),m=i("0fd9"),g=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(c["a"],{attrs:{"content-class":"theme-card moreRadius button no-overflow-xy datepicker-dialog no-margin dir-ltr","max-width":"600","retain-focus":!1},on:{"click:outside":function(e){return t.$emit("input",!1)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"pa-4 d-flex align-center justify-space-between"},[e("div",{staticClass:"text-start"},[e("span",[t._v("Edit Flight")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-12"},[t._v(" Please check and confirm all data ")])]),e(u["a"],{staticClass:"icon-remove icon-18 theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.$emit("input",!1)}}})],1),e("div",[e(n["a"],{staticClass:"moreRadius button pa-4",attrs:{flat:"",color:"white"}},[e(m["a"],{staticClass:"mx-0"},[e(l["a"],{staticClass:"position-relative pb-0 px-2",attrs:{cols:"12"}},[e("AppAriportSelect",{attrs:{onlyShowAirports:!0,position:"org",errors:t.valueErrors.AirportCode,dense:!0,lang:"en",showDefaultCitites:!1,label:"airport"},model:{value:t.FlightInfo.AirportCode,callback:function(e){t.$set(t.FlightInfo,"AirportCode",e)},expression:"FlightInfo.AirportCode"}})],1),e(l["a"],{staticClass:"position-relative pb-0 px-2",attrs:{cols:"3"}},[e("number-field",{attrs:{label:"Flight No.",height:40,lang:"en",dense:"",errors:t.valueErrors.FlightNumber,noDot:!0},model:{value:t.FlightInfo.FlightNumber,callback:function(e){t.$set(t.FlightInfo,"FlightNumber",e)},expression:"FlightInfo.FlightNumber"}})],1),e(l["a"],{staticClass:"position-relative pb-0 px-2",attrs:{cols:"3"}},[e("AppTimePicker",{attrs:{hourLabel:"hour",minuteLabel:"minute",label:"Time"},model:{value:t.FlightInfo.Time,callback:function(e){t.$set(t.FlightInfo,"Time",e)},expression:"FlightInfo.Time"}})],1),e(l["a"],{staticClass:"position-relative pb-0 px-2",attrs:{cols:"6"}},[e(s["a"],{staticClass:"cip-airline moreRadius input",attrs:{dense:"",outlined:"",label:"Airline","hide-no-data":"","hide-details":"auto",items:t.airlines,"item-text":"searchAirlines","cache-items":!1,"item-value":"iata","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll horizontal-center"},"return-object":"","error-messages":t.valueErrors.AirlineIata,"append-icon":"icon-chevron-down icon-18",attach:".cip-airline","search-input":t.searchAirlines},on:{click:function(e){t.FlightInfo.AirlineIata=""},"update:searchInput":function(e){t.searchAirlines=e},"update:search-input":function(e){t.searchAirlines=e}},scopedSlots:t._u([{key:"item",fn:function(i){return[e(p["a"],{staticClass:"pa-0",attrs:{width:"100%"}},[e(d["a"],{staticClass:"pa-0"},[i.item.iata?e(h["a"],{staticClass:"ma-0"},[e(o["a"],{staticClass:"white--text",attrs:{label:"",small:"",color:"#d50c6a"}},[t._v(t._s(i.item.iata))])],1):t._e(),e(f["a"],{},[e(f["c"],{staticClass:"mb-0"},[t._v(t._s(i.item.name))])],1)],1)],1)]}},{key:"selection",fn:function(i){return[e("span",{staticClass:"caption"},[t._v(t._s(i.item.name))]),i.item.iata?e("span",{},[e(o["a"],{staticClass:"caption white--text",attrs:{label:"",small:"",color:"#d50c6a"}},[t._v(t._s(i.item.iata))])],1):t._e()]}}],null,!0),model:{value:t.FlightInfo.AirlineIata,callback:function(e){t.$set(t.FlightInfo,"AirlineIata",e)},expression:"FlightInfo.AirlineIata"}})],1)],1)],1)],1),e(r["a"],{staticClass:"d-flex justify-end theme-element-bg-light py-3 moreRadius button"},[e(a["a"],{staticClass:"moreRadius button lightButtons",attrs:{depressed:"",width:"140",height:"44","x-large":""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Cancel ")]),e(a["a"],{staticClass:"moreRadius button mx-2 white--text",attrs:{depressed:"",width:"140",color:"buttons","x-large":"",loading:t.loading,height:"44"},on:{click:t.setDataForEdit}},[t._v("Confirm")])],1)],1)},v=[],y=i("60a3"),b=i("3817"),C=i("23c5"),x=i("b5ae"),_=i("c514"),w=i("5c1f"),S=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),I=function(){return I=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},I.apply(this,arguments)},O=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},D=function(t,e,i,s){function a(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,n){function r(t){try{l(s.next(t))}catch(e){n(e)}}function o(t){try{l(s["throw"](t))}catch(e){n(e)}}function l(t){t.done?i(t.value):a(t.value).then(r,o)}l((s=s.apply(t,e||[])).next())}))},P=function(t,e){var i,s,a,n,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return l([t,e])}}function l(n){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,s&&(a=2&n[0]?s["return"]:n[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,n[1])).done)return a;switch(s=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){r.label=n[1];break}if(6===n[0]&&r.label<a[1]){r.label=a[1],a=n;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(n);break}a[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showForm=!1,e.loading=!1,e.searchAirlines="",e.airlines=[],e.timeM="",e.FlightInfo={DateTime:"",FlightNumber:"",AirportCode:{airportCode:""},AirportFa:"",AirportEn:"",AirlineIata:"",AirlineEn:"",AirlineFa:"",Time:"",Date:""},e}return S(e,t),e.prototype.setDataForEdit=function(){return D(this,void 0,void 0,(function(){var t,e,i,s,a,n=this;return P(this,(function(r){switch(r.label){case 0:return t={name:""},e={airportNameEn:""},this.FlightInfo.AirlineIata.name?[3,2]:[4,this.axios(this.$store.state.baseUrl+"airlines?name="+this.FlightInfo.AirlineIata.iata)];case 1:i=r.sent(),t=i.data.Items.find((function(t){return t.iata===n.FlightInfo.AirlineIata.iata})),r.label=2;case 2:return this.FlightInfo.AirportCode.airportNameEn?[3,4]:[4,this.axios(this.$store.state.baseUrl+"airportlist?q="+this.FlightInfo.AirportCode.airportCode)];case 3:s=r.sent(),e=s.data.Items.find((function(t){return t.airportCode===n.FlightInfo.AirportCode.airportCode})),r.label=4;case 4:return a={CipItineraries:this.result.CipItineraries,FlightInfo:I(I({},this.FlightInfo),{AirportCode:this.FlightInfo.AirportCode.airportCode,AirlineIata:this.FlightInfo.AirlineIata.iata,AirportEn:this.FlightInfo.AirportCode.airportNameEn?this.FlightInfo.AirportCode.airportNameEn:e.airportNameEn,AirlineEn:this.FlightInfo.AirlineIata.name?this.FlightInfo.AirlineIata.name:t.name,DateTime:this.FlightInfo.Date+" "+this.FlightInfo.Time}),Type:"FlightInfo"},this.loading=!0,this.editItems(a).then((function(){n.$toast.success("Edited Flight Successfully"),n.$emit("input",!1),n.$emit("get-data"),n.$emit("add-to-list"),n.loading=!1})).catch((function(){n.$toast.error("Error Editing Flight"),n.loading=!1})),[2]}}))}))},e.prototype.editItems=function(t){var e=this,i=[],s=[];t.CipItineraries.filter((function(t){var e=s.findIndex((function(e){return e.SessionId==t.SessionId&&e.CombinationId==t.CombinationId&&e.RecommendationId==t.RecommendationId&&e.SubsystemId==t.SubsystemId}));return e<=-1&&s.push(t),null})),console.log("itineraryArr",s);for(var a=function(s){i.push(new Promise((function(i,a){e.axios.post(e.$store.state.baseUrl+"report/cip/flightinfo",{CipItinerary:s,FlightInfo:t.FlightInfo,Type:t.Type}).then((function(t){t.data.Success?i():a()})).catch((function(t){a()}))})))},n=0,r=s;n<r.length;n++){var o=r[n];a(o)}return Promise.all(i)},e.prototype.touchValidation=function(){this.$v.$touch()},Object.defineProperty(e.prototype,"valueErrors",{get:function(){var t,e,i,s,a,n,r,o,l={AirlineIata:"airlines",FlightNumber:"flightNumber",AirportCode:"destination",Date:"checkOut",Time:"leavingTime"},c=this.cnLodash.cloneDeep(this.value);for(var u in c)c[u]=[],(null===(t=this.$v.value[u])||void 0===t?void 0:t.$dirty)&&((null===(e=this.$v.value[u])||void 0===e?void 0:e.required)||c[u].push(this.$t("sthIsRequired",[this.$t(l[u])])),(null===(i=this.$v.value[u])||void 0===i?void 0:i.hasOwnProperty("customRequired"))&&!(null===(s=this.$v.value[u])||void 0===s?void 0:s.customRequired)&&c[u].push(this.$t("ساعت نامعتبر است")),(null===(a=this.$v.value[u])||void 0===a?void 0:a.hasOwnProperty("minLength"))&&!(null===(n=this.$v.value[u])||void 0===n?void 0:n.minLength)&&c[u].push(this.$t("شماره پرواز شامل حداقل ۳ عدد می‌باشد")),(null===(r=this.$v.value[u])||void 0===r?void 0:r.hasOwnProperty("maxLength"))&&!(null===(o=this.$v.value[u])||void 0===o?void 0:o.maxLength)&&c[u].push(this.$t("شماره پرواز شامل حداکثر ۴ عدد می‌باشد.")));return c},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todayJ",{get:function(){return(new this.$persianDate).calendar("j").toString()},enumerable:!1,configurable:!0}),e.prototype.resultChanged=function(){this.result&&(this.FlightInfo=this.cnLodash.cloneDeep(this.result.FlightInfo),this.FlightInfo.Date=this.FlightInfo.DateTime.split(" ")[0],this.FlightInfo.AirportCode={airportCode:this.result.FlightInfo.AirportCode},this.FlightInfo.AirlineIata={iata:this.result.FlightInfo.AirlineIata},this.FlightInfo.Time=this.FlightInfo.DateTime.split(" ")[1],this.FlightInfo.AirlineIata&&this.airlines.push(this.FlightInfo.AirlineIata))},e.prototype.searchAirlinesChanged=function(t){var e=this;t&&t.length>1&&this.axios(this.$store.state.baseUrl+"airlines?name="+t).then((function(t){t.data.Items.forEach((function(t,i){e.$set(t,"searchAirlines",t.name+t.iata)})),e.airlines=t.data.Items}))},O([Object(y["c"])()],e.prototype,"value",void 0),O([Object(y["c"])()],e.prototype,"result",void 0),O([Object(y["e"])("result")],e.prototype,"resultChanged",null),O([Object(y["e"])("searchAirlines")],e.prototype,"searchAirlinesChanged",null),e=O([Object(y["a"])({components:{AppAriportSelect:b["a"],AppTimePicker:C["a"],NumberField:_["a"],datePicker:w["b"]},validations:function(){return{value:{AirlineIata:{required:x["required"]},FlightNumber:{required:x["required"],minLength:Object(x["minLength"])(3),maxLength:Object(x["maxLength"])(4)},AirportCode:{required:x["required"]},Date:{required:x["required"]},Time:{required:x["required"],customRequired:function(t){return!(!this.value.Time||this.value.Time.includes("mm")||this.value.Time.includes("HH"))}}}}}})],e),e}(y["d"]),k=$,A=k,N=(i("a92d"),i("2877")),j=Object(N["a"])(A,g,v,!1,null,"0f13af94",null);e["a"]=j.exports},"72a2":function(t,e,i){},7544:function(t,e,i){"use strict";var s=i("0798"),a=i("c6a6"),n=i("8336"),r=i("b0af"),o=i("99d9"),l=i("ac7c"),c=i("cc20"),u=i("62ad"),p=i("ce7e"),d=i("132d"),h=i("8860"),f=i("da13"),m=i("1800"),g=i("5d23"),v=i("1baa"),y=i("e449"),b=(i("7958"),i("adda")),C=i("3a66"),x=i("a9ad"),_=i("b848"),w=i("e4cd"),S=i("e707"),I=i("d10f"),O=i("7560"),D=i("a293"),P=i("dc22"),$=i("c3f0"),k=i("80d2"),A=i("58df");const N=Object(A["a"])(Object(C["a"])("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),x["a"],_["a"],w["a"],S["a"],I["a"],O["a"]);var j=N.extend({name:"v-navigation-drawer",directives:{ClickOutside:D["a"],Resize:P["a"],Touch:$["a"]},provide(){return{isInNav:"nav"===this.tag}},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:56},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:null},data:()=>({isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}),computed:{applicationProperty(){return this.right?"right":"left"},classes(){return{"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--custom-mini-variant":56!==Number(this.miniVariantWidth),"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary,...this.themeClasses}},computedMaxHeight(){if(!this.hasApp)return null;const t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},computedTop(){if(!this.hasApp)return 0;let t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},computedTransform(){return this.isActive?0:this.isBottom||this.right?100:-100},computedWidth(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp(){return this.app&&!this.isMobile&&!this.temporary},isBottom(){return this.bottom&&this.isMobile},isMiniVariant(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile(){return!this.stateless&&!this.permanent&&w["a"].options.computed.isMobile.call(this)},reactsToClick(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay(){return!this.hideOverlay&&this.isActive&&(this.isMobile||this.temporary)},styles(){const t=this.isBottom?"translateY":"translateX";return{height:Object(k["h"])(this.height),top:this.isBottom?"auto":Object(k["h"])(this.computedTop),maxHeight:null!=this.computedMaxHeight?`calc(100% - ${Object(k["h"])(this.computedMaxHeight)})`:void 0,transform:`${t}(${Object(k["h"])(this.computedTransform,"%")})`,width:Object(k["h"])(this.computedWidth)}}},watch:{$route:"onRouteChange",isActive(t){this.$emit("input",t)},isMobile(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!t)},permanent(t){t&&(this.isActive=!0)},showOverlay(t){t?this.genOverlay():this.removeOverlay()},value(t){this.permanent||(null!=t?t!==this.isActive&&(this.isActive=t):this.init())},expandOnHover:"updateMiniVariant",isMouseover(t){this.updateMiniVariant(!t)}},beforeMount(){this.init()},methods:{calculateTouchArea(){const t=this.$el.parentNode;if(!t)return;const e=t.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}},closeConditional(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend(){return this.genPosition("append")},genBackground(){const t={height:"100%",width:"100%",src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img(t):this.$createElement(b["a"],{props:t});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[e])},genDirectives(){const t=[{name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||t.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),t},genListeners(){const t={mouseenter:()=>this.isMouseover=!0,mouseleave:()=>this.isMouseover=!1,transitionend:t=>{if(t.target!==t.currentTarget)return;this.$emit("transitionend",t);const e=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}};return this.miniVariant&&(t.click=()=>this.$emit("update:mini-variant",!1)),t},genPosition(t){const e=Object(k["s"])(this,t);return e?this.$createElement("div",{staticClass:"v-navigation-drawer__"+t},e):e},genPrepend(){return this.genPosition("prepend")},genContent(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},onRouteChange(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;const t=Number(this.miniVariant?this.miniVariantWidth:this.width);return isNaN(t)?this.$el.clientWidth:t},updateMiniVariant(t){this.expandOnHover&&this.miniVariant!==t&&this.$emit("update:mini-variant",t)}},render(t){const e=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||Object(k["s"])(this,"img"))&&e.unshift(this.genBackground()),t(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),e)}}),F=i("490a"),E=i("0fd9"),T=i("b73d"),L=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.drawer?e(j,{attrs:{id:"drawer",fixed:"",right:"",stateless:"",floating:"",height:"100vh",width:"500px","hide-overlay":""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[0==t.state?e(r["a"],{attrs:{flat:""}},[e("div",{staticClass:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},[e("div",{staticClass:"text-start"},[e("span",{staticClass:"headline"},[t._v("Add Voucher & LOM")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-13"},[t._v(" Please check and confirm all the specifications below. ")])]),e(d["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e("div",{staticClass:"pa-6 d-flex align-center flex-column"},[e(a["a"],{ref:"passengersSelect",staticClass:"moreRadius button w-100 passengers-select",attrs:{outlined:"",height:"44px",items:t.selectPassengers,"item-text":"searchKey","item-value":"searchKey","hide-details":"auto","append-icon":"icon-Search icon-18",attach:".passengers-select",multiple:"","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"menu-shadow moreRadius button passengers-select"},block:"",dense:""},on:{focus:function(e){t.searchLabel=""},blur:function(e){t.searchLabel="Passengers"}},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(t.searchLabel)+" ")]},proxy:!0},{key:"item",fn:function({item:i,on:s,attrs:a}){return[e(f["a"],t._g(t._b({scopedSlots:t._u([{key:"default",fn:function({active:s}){return[e(m["a"],{staticClass:"ma-0"},[e(l["a"],{attrs:{"input-value":s,ripple:!1},on:{change:t.updateSelected}})],1),e(g["a"],[e(g["c"],[["CIP"].includes(i.serviceName)?e("div",{staticClass:"font-size-13 mx-2 text-start"},[t._v(" "+t._s(t._f("titleCase")(i.GivenName))+" "+t._s(t._f("titleCase")(i.SurName))+" ")]):e("div",{staticClass:"font-size-13 mx-2 d-flex justify-space-between"},[e("span",[t._v(t._s(t._f("titleCase")(i.GivenName))+" "+t._s(t._f("titleCase")(i.SurName)))]),e("span",{staticClass:"darkGrey--text"},[t._v(t._s(t._f("titleCase")(i.serviceName)))])])])],1)]}}],null,!0)},"v-list-item",a,!1),s))]}},{key:"selection",fn:function(){},proxy:!0},{key:"append-item",fn:function(){return[e(n["a"],{staticClass:"blue-bg-light",attrs:{block:"",depressed:""},on:{click:t.closePassengersSelect}},[e(g["a"],[e(g["c"],[e("div",{staticClass:"font-size-14 mx-2 text-center blue--text"},[t._v(" Close ")])])],1)],1)]},proxy:!0}],null,!1,2193691786),model:{value:t.selectedPassengers,callback:function(e){t.selectedPassengers=e},expression:"selectedPassengers"}})],1),e("div",{staticClass:"pl-2"},[e("div",{staticClass:"pb-2 custom-scroll scroll-element dir-rtl"},[t.items.persons&&t.items.persons.length?[e("div",{staticClass:"d-flex justify-space-between align-center pb-3 px-6 dir-ltr"},[e("div",{staticClass:"text-start w-100 font-size-16 font-weight-500 darkGrey--text d-flex justify-space-between align-center"},[e("span",[e("span",{staticClass:"pr-2"},[t._v("#")]),t._v(" Passengers ("+t._s(t.items.persons.length)+")")]),e(T["a"],{staticClass:"d-inline-flex align-center mr-5",attrs:{depressed:"","x-small":"",flat:"",ripple:!1,"hide-details":"",loading:t.vipLoading,color:"green","true-value":1,"false-value":0,dense:"","input-value":t.items.persons.every(t=>t.vipStatus)?1:0},on:{change:t.addVIP},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("span",{staticClass:"font-size-13 font-weight-400 darkGrey--text"},[t._v("VIP")])]},proxy:!0}],null,!1,3693761260)})],1)]),e(h["a"],{staticClass:"dir-ltr"},[e(v["a"],t._l(t.items.persons,(function(i,s){return e(f["a"],{key:"ixI"+s,staticClass:"d-flex align-center py-1 px-6 darkGrey--text rounded",attrs:{dense:""}},[e("span",{staticClass:"pr-4 font-size-15"},[t._v(" "+t._s(s+1))]),e("span",{staticClass:"font-size-15"},[t._v(" "+t._s(t._f("titleCase")(i.GivenName))+" "+t._s(t._f("titleCase")(i.SurName)))]),e("span",{staticClass:"ml-auto d-flex align-center"},[e(n["a"],{staticClass:"mr-1",class:i.lomStatus?"green-bg green--text":"theme-element-bg darkGrey--text",attrs:{depressed:"",loading:i.loadingLOM,text:!i.lomStatus,small:"",height:"24","max-width":"60"},on:{click:function(e){return t.addLOM(i)}},scopedSlots:t._u([{key:"loader",fn:function(){return[e(F["a"],{attrs:{indeterminate:"",color:"green",size:"10",width:1}})]},proxy:!0}],null,!0)},[i.lomStatus?e("i",{staticClass:"icon-tick-circle icon-16 pr-1"}):t._e(),e("span",{staticClass:"font-size-13 font-weight-400"},[t._v("LOM")])]),e(n["a"],{staticClass:"pa-0",attrs:{depressed:"","min-height":"24px","max-height":"24px",width:"24px","max-width":"24px","min-width":"24px",text:""},on:{click:function(e){return t.removeSelected(i)}}},[e("i",{staticClass:"icon-remove icon-20 darkGrey--text"})])],1)])})),1)],1)]:t._e(),t.items.services&&t.items.services.length?[e("div",{staticClass:"d-flex justify-space-between align-center pb-3 px-6 dir-ltr"},[e("div",{staticClass:"text-start w-100 font-size-16 font-weight-500 darkGrey--text d-flex justify-space-between align-center"},[e("span",[e("span",{staticClass:"pr-2"},[t._v("#")]),t._v(" Extra Services ("+t._s(t.items.services.length)+")")]),t.items.persons&&t.items.persons.length?t._e():e(T["a"],{staticClass:"d-inline-flex align-center mr-5",attrs:{depressed:"","x-small":"",flat:"",ripple:!1,"hide-details":"",color:"green","true-value":1,loading:t.vipLoading,"false-value":0,dense:"","input-value":t.items.services.every(t=>t.vipStatus)?1:0},on:{change:t.addVIP},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("span",{staticClass:"font-size-13 font-weight-400 darkGrey--text"},[t._v("VIP")])]},proxy:!0}],null,!1,3693761260)})],1)]),e(h["a"],{staticClass:"dir-ltr"},[e(v["a"],t._l(t.items.services,(function(i,s){return e(f["a"],{key:"srv"+s,staticClass:"d-flex align-center py-1 px-6 darkGrey--text rounded",attrs:{dense:""}},[e("span",{staticClass:"pr-4 font-size-15"},[t._v(" "+t._s(s+1))]),e("span",{staticClass:"font-size-15"},[t._v(" "+t._s(t._f("titleCase")(i.GivenName))+" "+t._s(t._f("titleCase")(i.SurName))+" "),e(c["a"],{staticClass:"ml-2",attrs:{color:"#009EDB1A",small:"","text-color":"#009EDB"}},[t._v(" "+t._s(t._f("titleCase")(i.serviceName))+" ")])],1),e("span",{staticClass:"ml-auto"},[e(n["a"],{staticClass:"pa-0",attrs:{depressed:"","min-height":"24px","max-height":"24px",width:"24px","max-width":"24px","min-width":"24px",text:""},on:{click:function(e){return t.removeSelected(i)}}},[e("i",{staticClass:"icon-remove icon-20 darkGrey--text"})])],1)])})),1)],1)]:t._e()],2)]),e(o["a"],{staticClass:"fixed-bottom"},[e(E["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"py-2",attrs:{cols:"12"}},[t.errorMsg?e("div",{staticClass:"px-6"},[e(s["a"],{staticClass:"moreRadius button red--text pa-3 font-size-13 w-fit-content mx-auto",attrs:{icon:"icon-danger-triangle red--text icon-18 pb-1",color:"#FEE9EC"}},[e("span",{staticClass:"px-3"},[t._v(t._s(t.errorMsg))])])],1):t._e(),e(p["a"])],1),e(u["a"],{attrs:{cols:"4"}},[e(n["a"],{staticClass:"moreRadius button has-black-content",attrs:{depressed:"",block:"",height:"44",outlined:"","x-large":"",color:"#E8E8E8"},on:{click:function(e){return t.closeDrawer(!1)}}},[t._v("Cancel")])],1),e(u["a"],[e(n["a"],{staticClass:"moreRadius button blue-bg-light blue--text",attrs:{depressed:"",block:"",height:"44",loading:t.showing},on:{click:t.addVoucher}},[t._v("Show & Add Voucher ")])],1),e(u["a"],{attrs:{cols:"2"}},[e(y["a"],{attrs:{"content-class":"actions",left:"",top:"","min-width":"180","z-index":"3032"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(n["a"],t._g(t._b({staticClass:"moreRadius button blue-bg-light blue--text",attrs:{depressed:"",block:"",height:"44",width:"44","min-width":"44","max-width":"44"}},"v-btn",s,!1),i),[e("i",{staticClass:"icon-more icon-20"})])]}}],null,!1,1149043670)},[e(h["a"],{attrs:{dense:""}},[e(v["a"],{staticClass:"caption dir-ltr"},[e(f["a"],{staticClass:"font-size-12",on:{click:function(e){t.state=4}}},[e(d["a"],{staticClass:"icon-edit icon-18 pr-2"}),t._v(" Edit voucher number ")],1)],1)],1)],1)],1)],1)],1)],1):1==t.state?e(r["a"],{staticClass:"d-flex flex-column align-center justify-center h-100",attrs:{flat:""}},[e("div",{staticClass:"px-6 pt-6 pb-2 d-flex align-center justify-space-between w-100"},[e(d["a"],{staticClass:"theme-element-bg-light pa-1 rounded w-fit-content d-inline-block icon-arrow-left mr-auto",on:{click:function(e){t.state=0}}}),e("div",{staticClass:"text-center"},[e("span",{staticClass:"headline"},[t._v("Add Voucher")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-13"},[t._v(" Please check and confirm all. ")])]),e(d["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e("AddCipVoucher",{attrs:{selected:t.selectedPassengersAsObj},on:{"change-state":t.changeState,"back-level":function(e){t.state=0}}})],1):2==t.state?e(r["a"],{staticClass:"d-flex flex-column align-center h-100",attrs:{flat:""}},[e("div",{staticClass:"pt-6 pb-2 d-flex align-center justify-space-between w-100"},[e("div",{staticClass:"px-6 w-100"},[e("span",{staticClass:"d-flex align-center justify-space-between w-100"},[e("span",{staticClass:"headline d-flex"},[e("i",{class:`${t.finalMsg.icon} ${t.finalMsg.type}--text pr-4 pb-1`}),t._v(" "+t._s("error"===t.finalMsg.type?"Error":"Confirmation")+" ")]),e(d["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e(s["a"],{staticClass:"moreRadius button red--text pa-3 mt-3 font-size-13 w-fit-content mb-6 font-size-14",attrs:{text:"",color:t.finalMsg.type}},[e("span",{staticClass:"px-3"},[t._v(t._s(t.finalMsg.text))])])],1)]),e("div",{staticClass:"px-6 w-100 pl-2"},[e("div",{staticClass:"pb-2 custom-scroll scroll-element dir-rtl"},[t.finalMsg.selected&&t.finalMsg.selected.persons&&t.finalMsg.selected.persons.length?[e("div",{staticClass:"d-flex justify-space-between align-center pb-3 px-6 dir-ltr"},[e("span",{staticClass:"text-start font-size-16 font-weight-500 darkGrey--text"},[e("span",{staticClass:"pr-2"},[t._v("#")]),t._v(" Passengers ("+t._s(t.finalMsg.selected.persons.length)+") ")]),t.finalMsg.voucherData||t.finalMsg.voucherNo?e("span",{staticClass:"text-start font-size-16 font-weight-500 darkGrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData?"Baggage tag name":"Voucher number")+" ")]):t._e()]),e(h["a"],{staticClass:"dir-ltr"},[e(v["a"],t._l(t.finalMsg.selected.persons,(function(i,s){return e(f["a"],{key:"finalMsg.selected.pr"+s,staticClass:"d-flex align-center py-1 pl-6 darkGrey--text rounded no-before",attrs:{dense:""}},[e("span",{staticClass:"pr-4 font-size-15"},[t._v(" "+t._s(s+1))]),e("span",{staticClass:"font-size-15"},[t._v(" "+t._s(t._f("titleCase")(i.GivenName))+" "+t._s(t._f("titleCase")(i.SurName)))]),e("span",{staticClass:"ml-auto d-flex align-center"},[t.finalMsg.voucherData&&t.finalMsg.voucherData.ReceiverName==`${i.GivenName} ${i.SurName}`?e("i",{staticClass:"icon-tick-circle icon-20"}):t._e(),t.finalMsg.voucherNo&&i.ticket&&JSON.parse(i.ticket)?e("span",[t._v(t._s(JSON.parse(i.ticket)))]):t._e()])])})),1)],1)]:t._e(),t.finalMsg.selected&&t.finalMsg.selected.services&&t.finalMsg.selected.services.length?[e("div",{staticClass:"d-flex justify-space-between align-center px-6 pt-4 pb-3 dir-ltr"},[e("span",{staticClass:"text-start font-size-16 font-weight-500 darkGrey--text"},[e("span",{staticClass:"pr-2"},[t._v("#")]),t._v(" Extra Services ("+t._s(t.finalMsg.selected.services.length)+") ")]),t.finalMsg.voucherNo?e("span",{staticClass:"text-start font-size-16 font-weight-500 darkGrey--text"},[t._v("Voucher number ")]):t._e()]),e(h["a"],{staticClass:"dir-ltr"},[e(v["a"],t._l(t.finalMsg.selected.services,(function(i,s){return e(f["a"],{key:"finalMsg.selected.srv"+s,staticClass:"d-flex align-center py-1 pl-6 darkGrey--text rounded no-before",attrs:{dense:""}},[e("span",{staticClass:"pr-4 font-size-15"},[t._v(" "+t._s(s+1))]),e("span",{staticClass:"font-size-15"},[t._v(" "+t._s(t._f("titleCase")(i.GivenName))+" "+t._s(t._f("titleCase")(i.SurName))+" "),e(c["a"],{staticClass:"ml-2",attrs:{color:"#009EDB1A",small:"","text-color":"#009EDB"}},[t._v(" "+t._s(t._f("titleCase")(i.serviceName))+" ")])],1),t.finalMsg.voucherNo&&i.ticket&&JSON.parse(i.ticket)?e("span",{staticClass:"ml-auto d-flex align-center"},[e("span",[t._v(t._s(JSON.parse(i.ticket)))])]):t._e()])})),1)],1)]:t._e(),t.finalMsg.voucherData?e(E["a"],{staticClass:"mx-0 dir-ltr mt-6 px-3"},[e(u["a"],{attrs:{cols:"3"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v(" Baggage ")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData.BaggageCount)+" ")])]),e(u["a"],{attrs:{cols:"2"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v("VIP")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t.finalMsg.voucherData.VipStatus?e("i",{staticClass:"icon-tick-circle icon-18"}):e("span",[t._v("--")])])]),e(u["a"],{attrs:{cols:"4"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v(" Mobile ")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData.PhoneNumber?`${t.finalMsg.voucherData.CountryAccessCode}${t.finalMsg.voucherData.PhoneNumber}`:"--")+" ")])]),e(u["a"],{attrs:{cols:"3 pr-0"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v(" Final Destination ")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData.LastAirport.airportCode)+" ")])]),e(u["a"],{attrs:{cols:"12 pr-0"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v(" Description ")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData.Comment?t.finalMsg.voucherData.Comment:"--")+" ")])])],1):t._e()],2)]),e(o["a"],{staticClass:"fixed-bottom"},[e(E["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"py-2",attrs:{cols:"12"}},[e(p["a"])],1),e(u["a"],{attrs:{cols:t.finalMsg.voucherNo?12:4}},[e(n["a"],{staticClass:"moreRadius button has-black-content mx-2",attrs:{depressed:"",block:"",height:"44","max-height":"44","x-large":"",outlined:"",color:"#E8E8E8"},on:{click:function(e){return t.closeDrawer(!0)}}},[t._v("Close")])],1),t.finalMsg.voucherNo?t._e():e(u["a"],{attrs:{cols:"4"}},["success"==t.finalMsg.type?e(n["a"],{staticClass:"moreRadius button blue--text blue-bg-light mx-2",attrs:{depressed:"",block:"",height:"44","max-height":"44",color:"#E8E8E8"},on:{click:function(e){t.$emit("show-vouchers",{editIndex:t.editIndex,row:void 0!==t.finalMsg.row?t.finalMsg.row:t.selectedPassengersAsObj[0].row}),t.closeDrawer(!1)}}},[e("i",{staticClass:"icon-printer icon-18 pb-1 px-1"}),t._v("Print vouchers")]):t._e()],1),t.finalMsg.voucherNo?t._e():e(u["a"],{attrs:{cols:"4"}},["success"==t.finalMsg.type?e(n["a"],{staticClass:"moreRadius button blue--text blue-bg-light mx-2",attrs:{depressed:"",block:"",height:"44","max-height":"44",color:"#E8E8E8"},on:{click:function(e){t.$emit("show-vouchers-new",{editIndex:t.editIndex,row:void 0!==t.finalMsg.row?t.finalMsg.row:t.selectedPassengersAsObj[0].row}),t.closeDrawer(!1)}}},[e("i",{staticClass:"icon-printer icon-18 pb-1 px-1"}),t._v("Print vouchers "),e("span",{staticClass:"red white--text rounded px-1 caption",staticStyle:{position:"absolute",top:"-16px",right:"-10px"}},[t._v("new")])]):t._e()],1)],1)],1)],1):3==t.state?e(r["a"],{staticClass:"d-flex flex-column align-center justify-center h-100",attrs:{flat:""}},[e("div",{staticClass:"px-6 pt-6 pb-2 d-flex align-center justify-space-between w-100"},[e(d["a"],{staticClass:"theme-element-bg-light pa-1 rounded w-fit-content d-inline-block icon-arrow-left mr-auto",on:{click:function(e){t.state=0}}}),e("div",{staticClass:"text-center"},[e("span",{staticClass:"headline"},[t._v("Edit Voucher")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-13"},[t._v(" Please check and confirm all. ")])]),e(d["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e("EditCipVoucher",{attrs:{editItem:t.editItem},on:{"cancel-voucher":function(e){return t.closeDrawer(!1)},"change-state":t.changeState}})],1):4==t.state?e(r["a"],{staticClass:"d-flex flex-column align-center justify-center h-100",attrs:{flat:""}},[e("div",{staticClass:"px-6 pt-6 pb-2 d-flex align-center justify-space-between w-100"},[e(d["a"],{staticClass:"theme-element-bg-light pa-1 rounded w-fit-content d-inline-block icon-arrow-left mr-auto",on:{click:function(e){t.state=0}}}),e("div",{staticClass:"text-center"},[e("span",{staticClass:"headline"},[t._v("Edit Voucher Number")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-13"},[t._v(" Please check and confirm all. ")])]),e(d["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e("EditVoucherNo",{attrs:{editItems:t.items},on:{"cancel-voucher":function(e){return t.closeDrawer(!1)},"change-state":t.changeState}})],1):t._e()],1):t._e()],1)},M=[],R=i("60a3"),B=i("b974"),G=i("8654"),H=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"my-5 h-100"},[e(r["a"],{staticClass:"pa-0 moreRadius button h-100",attrs:{flat:""}},[e(E["a"],{staticClass:"mx-2"},[e(u["a"],{attrs:{cols:"4"}},[e("number-field",{attrs:{height:40,dense:"",errors:t.voucherDataErrors.BaggageCount,label:"Baggage",noDot:!0},model:{value:t.voucherData.BaggageCount,callback:function(e){t.$set(t.voucherData,"BaggageCount",e)},expression:"voucherData.BaggageCount"}})],1),e(u["a"],{staticClass:"pb-1 px-2",attrs:{cols:"3"}},[e("country-code-select",{staticStyle:{"max-width":"100%"},attrs:{allCountries:!0,height:40},model:{value:t.voucherData.CountryAccessCode,callback:function(e){t.$set(t.voucherData,"CountryAccessCode",e)},expression:"voucherData.CountryAccessCode"}})],1),e(u["a"],{staticClass:"pb-1 pl-2",attrs:{cols:"5"}},[e("number-field",{attrs:{height:40,dense:"",errors:t.voucherDataErrors.PhoneNumber,hint:t.$t("mobileLength10","en"),label:"Mobile",noDot:!0},model:{value:t.voucherData.PhoneNumber,callback:function(e){t.$set(t.voucherData,"PhoneNumber",e)},expression:"voucherData.PhoneNumber"}})],1),e(u["a"],{attrs:{cols:"12"}},[e(B["a"],{staticClass:"moreRadius input passesAdd ltr-input font-size-13",attrs:{items:t.selectItems,outlined:"",autocomplete:"off",dense:"",attach:".passesAdd","error-messages":t.voucherDataErrors.ReceiverName,"menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll"},"hide-details":"auto",label:"Baggage Tag Name"},model:{value:t.voucherData.ReceiverName,callback:function(e){t.$set(t.voucherData,"ReceiverName",e)},expression:"voucherData.ReceiverName"}})],1),e(u["a"],{staticClass:"pr-2",attrs:{cols:"9"}},[e("AppAriportSelect",{attrs:{errors:t.voucherDataErrors.LastAirport,onlyShowAirports:!0,showDefaultCitites:!1,position:"org",dense:!0,lang:"en",maxWidth:"100px",attach:"add",label:"finalDest"},model:{value:t.voucherData.LastAirport,callback:function(e){t.$set(t.voucherData,"LastAirport",e)},expression:"voucherData.LastAirport"}})],1),e(u["a"],{attrs:{cols:"3"}},[e(T["a"],{staticClass:"d-flex align-center mt-2",attrs:{color:"buttons",flat:t.voucherData.VipStatus,dense:"",ripple:!1,"true-value":!0,"false-value":!1},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("span",{staticClass:"font-weight-normal font-weight-400 darkGrey--text"},[t._v("VIP")])]},proxy:!0}]),model:{value:t.voucherData.VipStatus,callback:function(e){t.$set(t.voucherData,"VipStatus",e)},expression:"voucherData.VipStatus"}})],1),e(u["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e(G["a"],{staticClass:"moreRadius input font-size-13",attrs:{outlined:"",dense:"",counter:"30",maxlength:"30","hide-details":"auto",label:"Description"},model:{value:t.voucherData.Comment,callback:function(e){t.$set(t.voucherData,"Comment",e)},expression:"voucherData.Comment"}})],1)],1),e(o["a"],{staticClass:"d-flex justify-end py-6"},[e(E["a"],{staticClass:"mx-0"},[e(u["a"],{attrs:{cols:"4"}},[e(n["a"],{staticClass:"moreRadius button has-black-content",attrs:{depressed:"",height:"44","max-height":"44",block:"","x-large":"",outlined:"",color:"#E8E8E8"},on:{click:function(e){return t.$emit("cancel-voucher")}}},[t._v("Cancel")])],1),e(u["a"],[e(n["a"],{staticClass:"moreRadius button mx-2 blue--text blue-bg-light",attrs:{depressed:"",block:"","x-large":"",height:"44",loading:t.loading},on:{click:t.editVouchers}},[t._v("Edit Voucher")])],1)],1)],1)],1)],1)},V=[],z=i("3817"),U=i("c514"),W=i("cf29"),q=i("b5ae"),K=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Y=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},Z=function(t,e,i){if(i||2===arguments.length)for(var s,a=0,n=e.length;a<n;a++)!s&&a in e||(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return t.concat(s||Array.prototype.slice.call(e))},J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.voucherData={ReceiverName:"",LastAirport:"",Comment:"",PhoneNumber:null,BaggageCount:0,VipStatus:!1,CountryAccessCode:null,Id:null},e}return K(e,t),e.prototype.created=function(){console.log("this.editItem",this.editItem),this.voucherData.Id=this.editItem.id;var t=this.editItem.documents.filter((function(t){return"baggage"==t.Type}));this.voucherData.BaggageCount=t.length?String(t[0].ServiceCount):"0",this.voucherData.VipStatus=!!this.editItem.vipCount,this.voucherData.LastAirport={airportCode:this.editItem.lastAirport},this.voucherData.Comment=t.length?t[0].Comment:"",this.editItem.contact&&(this.voucherData.PhoneNumber=this.editItem.contact.PhoneNumber,this.voucherData.CountryAccessCode=this.editItem.contact.CountryAccessCode),this.voucherData.ReceiverName=this.editItem.receiverName},e.prototype.clearModel=function(){this.voucherData.BaggageCount=0,this.voucherData.VipStatus=!1,this.voucherData.LastAirport="",this.voucherData.Comment="",this.voucherData.PhoneNumber=null,this.voucherData.CountryAccessCode=null,this.voucherData.ReceiverName=""},e.prototype.createVoucherSrvRequest=function(){var t=this.cnLodash.groupBy(this.selected,"ServiceId");console.log(t);for(var e=[],i=0,s=0,a=Object.entries(t);s<a.length;s++){var n=a[s],r=n[0],o=n[1],l=this.cnLodash.groupBy(o,"isService");e[i]={ServiceId:+r,ExtraServices:l[0]&&l[0].length&&l[1]?l[1].map((function(t){return{Id:t.PassengerId}})):l[1]?l[1].filter((function(t,e){return 0!=e})).map((function(t){return{Id:t.PassengerId}})):[],Passengers:l[0]&&l[0].length?l[0].map((function(t){return{Id:t.PassengerId}})):[{Id:l[1][0].PassengerId}]},i++}return console.log(e),e},e.prototype.editVouchers=function(){var t=this;if(this.$v.$touch(),!this.$v.$error){this.loading=!0;var e=this.$store.state.baseUrl+"contract/servicedocument";this.axios.put(e,{type:"receive",ReceiverName:this.voucherData.ReceiverName,Vip:this.voucherData.VipStatus,Services:this.editItem.services,LastAirport:this.voucherData.LastAirport.airportCode,Documents:[{Type:"baggage",Name:"",ServiceCount:parseInt(this.voucherData.BaggageCount),Comment:this.voucherData.Comment}],Contact:{PhoneTechType:"Mobile",PhoneNumber:this.voucherData.PhoneNumber?String(parseInt(this.voucherData.PhoneNumber)):null,AreaCityCode:null,CountryAccessCode:this.voucherData.PhoneNumber?this.voucherData.CountryAccessCode:null},Id:this.voucherData.Id}).then((function(e){t.$emit("change-state",{type:"success",text:"Vouchers have been successfully edited.",icon:"icon-tick-circle",selected:t.selected,row:t.editItem.row,voucherData:t.cnLodash.cloneDeep(t.voucherData)}),t.loading=!1,t.clearModel()})).catch((function(e){t.loading=!1,t.clearModel(),t.$emit("change-state",{type:"error",text:"Error editing vouchers.",icon:"icon-info-circle"})}))}},Object.defineProperty(e.prototype,"voucherDataErrors",{get:function(){var t,e,i,s,a,n={ReceiverName:"Baggage tag name",LastAirport:"Final destination",BaggageCount:"Baggage count",PhoneNumber:"Phone number"},r=this.cnLodash.cloneDeep(this.voucherData);for(var o in r)r[o]=[],(null===(t=this.$v.voucherData[o])||void 0===t?void 0:t.$dirty)&&((null===(e=this.$v.voucherData[o])||void 0===e?void 0:e.hasOwnProperty("required"))&&!(null===(i=this.$v.voucherData[o])||void 0===i?void 0:i.required)&&r[o].push(n[o]+" is required."),(null===(s=this.$v.voucherData[o])||void 0===s?void 0:s.hasOwnProperty("maxLength"))&&!(null===(a=this.$v.voucherData[o])||void 0===a?void 0:a.maxLength)&&r[o].push(n[o]+" must be at most 10 digits."));return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return{persons:this.editItem&&this.editItem.passengers?this.editItem.passengers.map((function(t){return{GivenName:t.name,SurName:t.surname,PassengerId:t.id}})):[],services:this.editItem&&this.editItem.extraService?this.editItem.extraService.map((function(t){return{GivenName:t.name,SurName:t.surname,ServiceId:t.id,serviceName:t.serviceName}})):[]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedMerged",{get:function(){var t=[];return this.selected.persons&&(t=Z(Z([],t,!0),this.selected.persons,!0)),this.selected.services&&(t=Z(Z([],t,!0),this.selected.services,!0)),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectItems",{get:function(){return this.selectedMerged.map((function(t){return t.GivenName+" "+t.SurName}))},enumerable:!1,configurable:!0}),Y([Object(R["c"])()],e.prototype,"editItem",void 0),e=Y([Object(R["a"])({components:{AppAriportSelect:z["a"],NumberField:U["a"],countryCodeSelect:W["a"]},validations:function(){return{voucherData:{PhoneNumber:{maxLength:function(t){return!t||!(t&&t.length>10)}},ReceiverName:{required:q["required"]},LastAirport:{required:q["required"]},BaggageCount:{required:q["required"]}}}}})],e),e}(R["d"]),X=J,Q=X,tt=(i("8db0"),i("2877")),et=Object(tt["a"])(Q,H,V,!1,null,"6feef592",null),it=et.exports,st=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"my-5 h-100 w-100"},[e(r["a"],{staticClass:"pa-0 moreRadius button h-100",attrs:{flat:""}},[e(E["a"],{staticClass:"mx-2"},[t.selected.persons&&t.selected.persons.length?e(u["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex justify-space-between pb-4 font-size-14"},[e("span",[e("span",{staticClass:"mr-6 font-weight-500",staticStyle:{width:"10px"}},[t._v("#")]),e("span",{staticClass:"font-weight-500"},[t._v("Passenger ("+t._s(t.selected.persons.length)+")")])]),e("span",{staticClass:"font-weight-400 pr-8"},[t._v("Current voucher No")])]),t._l(t.selected.persons,(function(i,s){return e("div",{key:"person"+s,staticClass:"d-flex pb-4 justify-space-between"},[e("span",[e("span",{staticClass:"mr-6 text-center d-inline-block",staticStyle:{width:"10px"}},[t._v(t._s(s+1))]),e("span",[t._v(t._s("Male"==i.Gender?"MR":"MS")+" "+t._s(i.GivenName)+" "+t._s(i.SurName))])]),i.ticket&&JSON.parse(i.ticket)?e("span",[t._v(t._s(JSON.parse(i.ticket))+" "),e(d["a"],{staticClass:"icon-remove pl-3",attrs:{size:"18"},on:{click:function(e){return t.removeObj(i,"persons")}}})],1):t._e()])}))],2):t._e(),t.selected.services&&t.selected.services.length?e(u["a"],{staticClass:"pb-0 mt-4",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex justify-space-between pb-4 font-size-14"},[e("span",[e("span",{staticClass:"mr-6 font-weight-500",staticStyle:{width:"10px"}},[t._v("#")]),e("span",{staticClass:"font-weight-500"},[t._v("Services ("+t._s(t.selected.services.length)+")")])]),e("span",{staticClass:"font-weight-400 pr-8"},[t._v("Current voucher No")])]),t._l(t.selected.services,(function(i,s){return e("div",{key:"service"+s,staticClass:"d-flex pb-4 justify-space-between"},[e("span",[e("span",{staticClass:"mr-6 text-center d-inline-block",staticStyle:{width:"10px"}},[t._v(t._s(s+1))]),e("span",[t._v(t._s("Male"==i.Gender?"MR":"MS")+" "+t._s(i.GivenName)+" "+t._s(i.SurName)),e(c["a"],{staticClass:"ml-2",attrs:{color:"#009EDB1A",small:"","text-color":"#009EDB"}},[t._v(" "+t._s(t._f("titleCase")(i.serviceName))+" ")])],1)]),i.ticket&&JSON.parse(i.ticket)?e("span",[t._v(t._s(JSON.parse(i.ticket))+" "),e(d["a"],{staticClass:"icon-remove pl-3",attrs:{size:"18"},on:{click:function(e){return t.removeObj(i,"services")}}})],1):t._e()])}))],2):t._e(),e(u["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e(G["a"],{staticClass:"moreRadius input font-size-13",attrs:{outlined:"",dense:"","hide-details":"auto",label:"New Voucher Number"},model:{value:t.voucherNumber,callback:function(e){t.voucherNumber=e},expression:"voucherNumber"}})],1)],1),e(o["a"],{staticClass:"d-flex justify-end py-6"},[e(E["a"],{staticClass:"mx-0"},[e(u["a"],{attrs:{cols:"4"}},[e(n["a"],{staticClass:"moreRadius button has-black-content",attrs:{depressed:"",height:"44","max-height":"44",block:"","x-large":"",outlined:"",color:"#E8E8E8"},on:{click:function(e){return t.$emit("cancel-voucher")}}},[t._v("Cancel")])],1),e(u["a"],[e(n["a"],{staticClass:"moreRadius button mx-2 blue--text blue-bg-light",attrs:{depressed:"",block:"","x-large":"",height:"44",disabled:!t.voucherNumber,loading:t.loading},on:{click:t.editVouchers}},[t._v("Confirm")])],1)],1)],1)],1)],1)},at=[],nt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),rt=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},ot=function(t,e,i){if(i||2===arguments.length)for(var s,a=0,n=e.length;a<n;a++)!s&&a in e||(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return t.concat(s||Array.prototype.slice.call(e))},lt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.voucherNumber="",e.selected=null,e}return nt(e,t),e.prototype.created=function(){console.log(this.editItems),this.selected=this.cnLodash.cloneDeep(this.editItems)},e.prototype.clearModel=function(){this.voucherNumber=""},e.prototype.removeObj=function(t,e){this.selected[e]=ot([],this.selected[e].filter((function(e){return e.PassengerId!=t.PassengerId})),!0)},e.prototype.editVouchers=function(){var t=this;this.editVoucherNo().then((function(){t.loading=!1,t.$emit("change-state",{type:"success",text:"Voucher numbers have been successfully edited.",icon:"icon-tick-circle",selected:t.selected,voucherNo:!0})})).catch((function(){t.loading=!1,t.$emit("change-state",{type:"error",text:"Error editing voucher numbers.",icon:"icon-info-circle",voucherNo:!0})}))},e.prototype.editVoucherNo=function(){var t,e,i,s,a=this;this.loading=!0;var n=this.$store.state.baseUrl+"report/cipmanifest/updatepassenger",r=[];return(null===(t=this.selected)||void 0===t?void 0:t.persons)&&(null===(e=this.selected)||void 0===e||e.persons.forEach((function(t){var e={CipItinerary:{SessionId:t.sessionId,CombinationId:t.combinationId,RecommendationId:t.recommendationId,SubsystemId:t.SubsystemId},ReferenceId:t.pnrString,Eticket:a.voucherNumber,PassengerId:t.PassengerId};r.push(new Promise((function(i,s){a.axios.post(n,e).then((function(e){e.data.Success?(i(),a.$set(t,"ticket",JSON.stringify(a.voucherNumber))):s()})).catch((function(){s()}))})))}))),(null===(i=this.selected)||void 0===i?void 0:i.services)&&(null===(s=this.selected)||void 0===s||s.services.forEach((function(t){var e={CipItinerary:{SessionId:t.sessionId,CombinationId:t.combinationId,RecommendationId:t.recommendationId,SubsystemId:t.SubsystemId},ReferenceId:t.pnrString,Eticket:a.voucherNumber,PassengerId:t.PassengerId};r.push(new Promise((function(i,s){a.axios.post(n,e).then((function(e){e.data.Success?(i(),a.$set(t,"ticket",JSON.stringify(a.voucherNumber))):s()})).catch((function(){s()}))})))}))),Promise.all(r)},Object.defineProperty(e.prototype,"itemsMerged",{get:function(){var t=[];return this.selected&&this.selected.persons&&(t=ot(ot([],t,!0),this.selected.persons,!0)),this.selected&&this.selected.services&&(t=ot(ot([],t,!0),this.selected.services,!0)),t},enumerable:!1,configurable:!0}),rt([Object(R["c"])()],e.prototype,"editItems",void 0),e=rt([Object(R["a"])({})],e),e}(R["d"]),ct=lt,ut=ct,pt=(i("1ab1"),Object(tt["a"])(ut,st,at,!1,null,"52322371",null)),dt=pt.exports,ht=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"my-5 h-100"},[e(r["a"],{staticClass:"pa-0 moreRadius button h-100",attrs:{flat:""}},[e(E["a"],{staticClass:"mx-2"},[e(u["a"],{attrs:{cols:"4"}},[e("number-field",{attrs:{height:40,dense:"",errors:t.voucherDataErrors.BaggageCount,label:"Baggage",noDot:!0},model:{value:t.voucherData.BaggageCount,callback:function(e){t.$set(t.voucherData,"BaggageCount",e)},expression:"voucherData.BaggageCount"}})],1),e(u["a"],{staticClass:"pb-1 px-2",attrs:{cols:"3"}},[e("country-code-select",{staticStyle:{"max-width":"100%"},attrs:{allCountries:!0,height:40},model:{value:t.voucherData.CountryAccessCode,callback:function(e){t.$set(t.voucherData,"CountryAccessCode",e)},expression:"voucherData.CountryAccessCode"}})],1),e(u["a"],{staticClass:"pb-1 pl-2",attrs:{cols:"5"}},[e("number-field",{attrs:{height:40,dense:"",errors:t.voucherDataErrors.PhoneNumber,hint:t.$t("mobileLength10","en"),label:"Mobile",noDot:!0},model:{value:t.voucherData.PhoneNumber,callback:function(e){t.$set(t.voucherData,"PhoneNumber",e)},expression:"voucherData.PhoneNumber"}})],1),e(u["a"],{attrs:{cols:"12"}},[e(B["a"],{staticClass:"moreRadius input passesAdd ltr-input font-size-13",attrs:{items:t.selectItems,outlined:"",autocomplete:"off",dense:"",attach:".passesAdd","error-messages":t.voucherDataErrors.ReceiverName,"menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll"},"hide-details":"auto",label:"Baggage Tag Name"},model:{value:t.voucherData.ReceiverName,callback:function(e){t.$set(t.voucherData,"ReceiverName",e)},expression:"voucherData.ReceiverName"}})],1),e(u["a"],{staticClass:"pr-2",attrs:{cols:"9"}},[e("AppAriportSelect",{attrs:{errors:t.voucherDataErrors.LastAirport,onlyShowAirports:!0,showDefaultCitites:!1,position:"org",dense:!0,lang:"en",maxWidth:"100px",attach:"add",label:"finalDest"},model:{value:t.voucherData.LastAirport,callback:function(e){t.$set(t.voucherData,"LastAirport",e)},expression:"voucherData.LastAirport"}})],1),e(u["a"],{attrs:{cols:"3"}},[e(T["a"],{staticClass:"d-flex align-center mt-2",attrs:{color:"buttons",flat:t.voucherData.VipStatus,dense:"",ripple:!1,"true-value":!0,"false-value":!1},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("span",{staticClass:"font-weight-normal font-weight-400 darkGrey--text"},[t._v("VIP")])]},proxy:!0}]),model:{value:t.voucherData.VipStatus,callback:function(e){t.$set(t.voucherData,"VipStatus",e)},expression:"voucherData.VipStatus"}})],1),e(u["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e(G["a"],{staticClass:"moreRadius input font-size-13",attrs:{outlined:"",dense:"",counter:"30",maxlength:"30","hide-details":"auto",label:"Description"},model:{value:t.voucherData.Comment,callback:function(e){t.$set(t.voucherData,"Comment",e)},expression:"voucherData.Comment"}})],1)],1),e(o["a"],{staticClass:"d-flex justify-end pt-6"},[e(E["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"py-2",attrs:{cols:"12"}},[e(p["a"])],1),e(u["a"],{attrs:{cols:"4"}},[e(n["a"],{staticClass:"moreRadius button has-black-content",attrs:{depressed:"",height:"44","max-height":"44",block:"","x-large":"",outlined:"",color:"#E8E8E8"},on:{click:function(e){return t.$emit("back-level")}}},[t._v("Edit")])],1),e(u["a"],[e(n["a"],{staticClass:"moreRadius button mx-2 blue--text blue-bg-light",attrs:{depressed:"",block:"","x-large":"",loading:t.loading,height:"44"},on:{click:t.addVouchers}},[t._v("Add Voucher")])],1)],1)],1)],1)],1)},ft=[],mt=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),gt=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.voucherData={ReceiverName:"",LastAirport:"",Comment:"",PhoneNumber:null,BaggageCount:0,VipStatus:!1,CountryAccessCode:null},e}return mt(e,t),e.prototype.created=function(){this.selected[0].airport&&(this.voucherData.LastAirport={airportCode:this.selected[0].airport})},e.prototype.clearModel=function(){this.voucherData.BaggageCount=0,this.voucherData.VipStatus=!1,this.voucherData.LastAirport="",this.voucherData.Comment="",this.voucherData.PhoneNumber=null,this.voucherData.CountryAccessCode=null,this.voucherData.ReceiverName=""},e.prototype.createVoucherSrvRequest=function(){var t=this.cnLodash.groupBy(this.selected,"ServiceId");console.log(t);for(var e=[],i=0,s=0,a=Object.entries(t);s<a.length;s++){var n=a[s],r=n[0],o=n[1],l=this.cnLodash.groupBy(o,"isService");e[i]={ServiceId:+r,ExtraServices:l[0]&&l[0].length&&l[1]?l[1].map((function(t){return{Id:t.PassengerId}})):l[1]?l[1].filter((function(t,e){return 0!=e})).map((function(t){return{Id:t.PassengerId}})):[],Passengers:l[0]&&l[0].length?l[0].map((function(t){return{Id:t.PassengerId}})):[{Id:l[1][0].PassengerId}]},i++}return console.log(e),e},e.prototype.addVouchers=function(){var t=this;if(this.$v.$touch(),!this.$v.$error){this.loading=!0;var e=this.$store.state.baseUrl+"contract/servicedocument";this.axios.post(e,{type:"receive",ReceiverName:this.voucherData.ReceiverName,Vip:this.voucherData.VipStatus,Services:this.createVoucherSrvRequest(),LastAirport:this.voucherData.LastAirport.airportCode,Documents:[{Type:"baggage",Name:"",ServiceCount:parseInt(this.voucherData.BaggageCount),Comment:this.voucherData.Comment}],Contact:{PhoneTechType:"Mobile",PhoneNumber:this.voucherData.PhoneNumber?String(parseInt(this.voucherData.PhoneNumber)):null,AreaCityCode:null,CountryAccessCode:this.voucherData.PhoneNumber?this.voucherData.CountryAccessCode:null}}).then((function(e){t.$emit("change-state",{type:"success",text:"Vouchers have been successfully added.",icon:"icon-tick-circle",selected:t.selected,voucherData:t.cnLodash.cloneDeep(t.voucherData)}),t.loading=!1,t.clearModel()})).catch((function(e){t.$emit("change-state",{type:"error",text:e.response.data.Items.includes("passengers is already submitted")?"Vouchers have been already added for some of the passengers.":"Error adding vouchers.",icon:"icon-info-circle"}),t.loading=!1,t.clearModel()}))}},Object.defineProperty(e.prototype,"voucherDataErrors",{get:function(){var t,e,i,s,a,n={ReceiverName:"Baggage tag name",LastAirport:"Final destination",BaggageCount:"Baggage count",PhoneNumber:"Phone number"},r=this.cnLodash.cloneDeep(this.voucherData);for(var o in r)r[o]=[],(null===(t=this.$v.voucherData[o])||void 0===t?void 0:t.$dirty)&&((null===(e=this.$v.voucherData[o])||void 0===e?void 0:e.hasOwnProperty("required"))&&!(null===(i=this.$v.voucherData[o])||void 0===i?void 0:i.required)&&r[o].push(n[o]+" is required."),(null===(s=this.$v.voucherData[o])||void 0===s?void 0:s.hasOwnProperty("maxLength"))&&!(null===(a=this.$v.voucherData[o])||void 0===a?void 0:a.maxLength)&&r[o].push(n[o]+" must be at most 10 digits."));return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectItems",{get:function(){return this.selected.map((function(t){return t.GivenName+" "+t.SurName}))},enumerable:!1,configurable:!0}),gt([Object(R["c"])()],e.prototype,"selected",void 0),e=gt([Object(R["a"])({components:{AppAriportSelect:z["a"],NumberField:U["a"],countryCodeSelect:W["a"]},validations:function(){return{voucherData:{PhoneNumber:{maxLength:function(t){return!t||!(t&&t.length>10)}},ReceiverName:{required:q["required"]},LastAirport:{required:q["required"]},BaggageCount:{required:q["required"]}}}}})],e),e}(R["d"]),yt=vt,bt=yt,Ct=(i("c372"),Object(tt["a"])(bt,ht,ft,!1,null,"42b0bfc8",null)),xt=Ct.exports,_t=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),wt=function(){return wt=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},wt.apply(this,arguments)},St=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},It=function(t,e,i,s){function a(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,n){function r(t){try{l(s.next(t))}catch(e){n(e)}}function o(t){try{l(s["throw"](t))}catch(e){n(e)}}function l(t){t.done?i(t.value):a(t.value).then(r,o)}l((s=s.apply(t,e||[])).next())}))},Ot=function(t,e){var i,s,a,n,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return l([t,e])}}function l(n){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,s&&(a=2&n[0]?s["return"]:n[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,n[1])).done)return a;switch(s=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){r.label=n[1];break}if(6===n[0]&&r.label<a[1]){r.label=a[1],a=n;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(n);break}a[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},Dt=function(t,e,i){if(i||2===arguments.length)for(var s,a=0,n=e.length;a<n;a++)!s&&a in e||(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return t.concat(s||Array.prototype.slice.call(e))},Pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.drawerHandler=!1,e.drawer=!1,e.errorMsg="",e.searchLabel="",e.showing=!1,e.vipLoading=!1,e.selectedPassengers=[],e.editItem=null,e.editIndex=null,e.finalMsg=null,e.state=0,e}return _t(e,t),e.prototype.changeState=function(t){this.finalMsg=this.cnLodash.cloneDeep(t),this.state=2},e.prototype.editState=function(t,e,i){console.log("editItem",t),console.log("index",e),this.editItem=this.cnLodash.cloneDeep(wt(wt({},t),{row:i})),this.editIndex=e,this.state=3},e.prototype.removeSelected=function(t){this.$emit("remove-selected",t)},e.prototype.addShow=function(){return It(this,void 0,void 0,(function(){var t,e=this;return Ot(this,(function(i){this.editIndex=null,t=[];try{this.selectedPassengersAsObj.forEach((function(i){var s=e.$store.state.baseUrl+"cip/manifest/changestatus",a={SessionId:i.sessionId,CombinationId:i.combinationId,PassengerId:i.PassengerId,RecommendationId:i.recommendationId};0===parseInt(i.status)&&t.push(new Promise((function(t,n){e.axios.post(s,wt(wt({},a),{Status:1})).then((function(s){s.data.Success?(e.$set(i,"status",1),t()):n()})).catch((function(t){console.log(t),n()}))})))}))}catch(s){console.log(s)}return[2,Promise.all(t)]}))}))},e.prototype.addLOM=function(t){return It(this,void 0,void 0,(function(){var e,i,s=this;return Ot(this,(function(a){try{this.$set(t,"loadingLOM",!0),e=this.$store.state.baseUrl+"cip/manifest/changelomstatus",i={SessionId:t.sessionId,CombinationId:t.combinationId,PassengerId:t.PassengerId,RecommendationId:t.recommendationId},0!==parseInt(t.lomStatus)?"admin"==this.user.roleType&&this.axios.post(e,wt(wt({},i),{Status:0})).then((function(e){e.data.Success&&(s.$set(t,"lomStatus",0),s.$set(t,"loadingLOM",!1))})).catch((function(e){console.log(e),s.$set(t,"loadingLOM",!1)})):this.axios.post(e,wt(wt({},i),{Status:1})).then((function(e){e.data.Success&&(s.$set(t,"lomStatus",1),s.$set(t,"loadingLOM",!1))})).catch((function(e){console.log(e),s.$set(t,"loadingLOM",!1)}))}catch(n){console.log(n),this.$set(t,"loadingLOM",!1)}return[2]}))}))},e.prototype.addVIP=function(){var t=this;this.vipLoading=!0,this.changeVIP().then((function(){t.vipLoading=!1})).catch((function(e){t.errorMsg="Error changing vip",t.vipLoading=!1}))},e.prototype.changeVIP=function(){return It(this,void 0,void 0,(function(){var t,e,i,s=this;return Ot(this,(function(a){t=this.selectedPassengersAsObj.filter((function(t){return!t.isService||t.serviceName.includes("attendant")})),e=t.every((function(t){return t.vipStatus}))?0:1,i=[];try{t.forEach((function(t){var a=s.$store.state.baseUrl+"cip/manifest/changebarcodestatus",n={Barcode:parseInt(t.barcodeId),Type:"vip",Status:e};i.push(new Promise((function(i,r){s.axios.post(a,wt(wt({},n),{Status:e})).then((function(a){a.data.Success?(i(),s.$set(t,"vipStatus",e)):r()})).catch((function(t){r()}))})))}))}catch(n){console.log(n)}return[2,Promise.all(i)]}))}))},e.prototype.addVoucher=function(){var t=this;this.showing=!0,this.addShow().then((function(){t.showing=!1,t.state=1})).catch((function(e){t.errorMsg="Error showing passengers",t.showing=!1}))},e.prototype.closeDrawer=function(t){void 0===t&&(t=!1),this.drawer=!1,this.finalMsg=null,this.state=0,this.$emit("close-drawer",t)},e.prototype.closePassengersSelect=function(){this.$refs.passengersSelect.isMenuActive=!1,this.$emit("update-selected",this.selectedPassengers)},e.prototype.updateSelected=function(){var t=this;setTimeout((function(){t.$emit("update-selected",t.selectedPassengers)}),100)},Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectPassengers",{get:function(){var t=[];return this.allPass.map((function(e){t=Dt(Dt([],t,!0),e.data,!0)})),this.selectedPassengers=this.selected,t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInProcess",{get:function(){return this.selectedPassengersAsObj.some((function(t){return t.ticket&&JSON.parse(t.ticket)&&"inprocess"==JSON.parse(t.ticket).toLowerCase()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedPassengersAsObj",{get:function(){var t=this;return this.selectPassengers.filter((function(e){return t.selectedPassengers.includes(e.searchKey)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this.cnLodash.groupBy(this.selectedPassengersAsObj,"isService");return t.persons=t[0],t.services=t[1],delete t[0],delete t[1],t},enumerable:!1,configurable:!0}),e.prototype.handleDrawer=function(){var t=this;this.drawer=this.drawerHandler,this.errorMsg="",this.searchLabel="Passengers",setTimeout((function(){t.$refs.passengersSelect&&(t.$refs.passengersSelect.lastItem=200)}),1e3)},St([Object(R["c"])()],e.prototype,"selected",void 0),St([Object(R["c"])()],e.prototype,"allPass",void 0),St([Object(R["c"])()],e.prototype,"row",void 0),St([Object(R["c"])()],e.prototype,"drawerHandler",void 0),St([Object(R["e"])("drawerHandler")],e.prototype,"handleDrawer",null),e=St([Object(R["a"])({components:{EditCipVoucher:it,AddCipVoucher:xt,EditVoucherNo:dt}})],e),e}(R["d"]),$t=Pt,kt=$t,At=(i("106a"),Object(tt["a"])(kt,L,M,!1,null,"d8a59c66",null));e["a"]=At.exports},"75dc":function(t,e,i){},7958:function(t,e,i){},"891e":function(t,e,i){"use strict";i("17b3");var s=i("9d26"),a=i("dc22"),n=i("a9ad"),r=i("de2c"),o=i("7560"),l=i("58df");e["a"]=Object(l["a"])(n["a"],Object(r["a"])({onVisible:["init"]}),o["a"]).extend({name:"v-pagination",directives:{Resize:a["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:t=>t%1===0},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data(){return{maxButtons:0,selected:null}},computed:{classes(){return{"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled,...this.themeClasses}},items(){const t=parseInt(this.totalVisible,10);if(0===t||isNaN(this.length)||this.length>Number.MAX_SAFE_INTEGER)return[];const e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);const i=e%2===0?1:0,s=Math.floor(e/2),a=this.length-s+1+i;if(this.value>s&&this.value<a){const t=1,e=this.length,a=this.value-s+2,n=this.value+s-2-i,r=a-1===t+1?2:"...",o=n+1===e-1?n+1:"...";return[1,r,...this.range(a,n),o,this.length]}if(this.value===s){const t=this.value+s-1-i;return[...this.range(1,t),"...",this.length]}if(this.value===a){const t=this.value-s+1;return[1,"...",...this.range(t,this.length)]}return[...this.range(1,s),"...",...this.range(a,this.length)]}},watch:{value(){this.init()}},beforeMount(){this.init()},methods:{init(){this.selected=null,this.onResize(),this.$nextTick(this.onResize),setTimeout(()=>this.selected=this.value,100)},onResize(){const t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range(t,e){const i=[];t=t>0?t:1;for(let s=t;s<=e;s++)i.push(s);return i},genIcon(t,e,i,a,n){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":n},on:i?{}:{click:a}},[t(s["a"],[e])])])},genItem(t,e){const i=e===this.value&&(this.color||"primary"),s=e===this.value,a=s?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(i,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":s,"aria-label":this.$vuetify.lang.t(a,e)},on:{click:()=>this.$emit("input",e)}}),[e.toString()])},genItems(t){return this.items.map((e,i)=>t("li",{key:i},[isNaN(Number(e))?t("span",{class:"v-pagination__more"},[e.toString()]):this.genItem(t,e)]))},genList(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render(t){const e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}})},"8b37":function(t,e,i){},"8db0":function(t,e,i){"use strict";i("72a2")},"8fea":function(t,e,i){"use strict";i("91f4");var s=i("80d2"),a=i("2b0e"),n=a["a"].extend({name:"v-data",inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},options:{type:Object,default:()=>({})},sortBy:{type:[String,Array]},sortDesc:{type:[Boolean,Array]},customSort:{type:Function,default:s["F"]},mustSort:Boolean,multiSort:Boolean,page:{type:Number,default:1},itemsPerPage:{type:Number,default:10},groupBy:{type:[String,Array],default:()=>[]},groupDesc:{type:[Boolean,Array],default:()=>[]},customGroup:{type:Function,default:s["v"]},locale:{type:String,default:"en-US"},disableSort:Boolean,disablePagination:Boolean,disableFiltering:Boolean,search:String,customFilter:{type:Function,default:s["E"]},serverItemsLength:{type:Number,default:-1}},data(){let t={page:this.page,itemsPerPage:this.itemsPerPage,sortBy:Object(s["H"])(this.sortBy),sortDesc:Object(s["H"])(this.sortDesc),groupBy:Object(s["H"])(this.groupBy),groupDesc:Object(s["H"])(this.groupDesc),mustSort:this.mustSort,multiSort:this.multiSort};this.options&&(t=Object.assign(t,this.options));const{sortBy:e,sortDesc:i,groupBy:a,groupDesc:n}=t,r=e.length-i.length,o=a.length-n.length;return r>0&&t.sortDesc.push(...Object(s["m"])(r,!1)),o>0&&t.groupDesc.push(...Object(s["m"])(o,!1)),{internalOptions:t}},computed:{itemsLength(){return this.serverItemsLength>=0?this.serverItemsLength:this.filteredItems.length},pageCount(){return this.internalOptions.itemsPerPage<=0?1:Math.ceil(this.itemsLength/this.internalOptions.itemsPerPage)},pageStart(){return-1!==this.internalOptions.itemsPerPage&&this.items.length?(this.internalOptions.page-1)*this.internalOptions.itemsPerPage:0},pageStop(){return-1===this.internalOptions.itemsPerPage?this.itemsLength:this.items.length?Math.min(this.itemsLength,this.internalOptions.page*this.internalOptions.itemsPerPage):0},isGrouped(){return!!this.internalOptions.groupBy.length},pagination(){return{page:this.internalOptions.page,itemsPerPage:this.internalOptions.itemsPerPage,pageStart:this.pageStart,pageStop:this.pageStop,pageCount:this.pageCount,itemsLength:this.itemsLength}},filteredItems(){let t=this.items.slice();return!this.disableFiltering&&this.serverItemsLength<=0&&(t=this.customFilter(t,this.search)),t},computedItems(){let t=this.filteredItems.slice();return(!this.disableSort||this.internalOptions.groupBy.length)&&this.serverItemsLength<=0&&(t=this.sortItems(t)),!this.disablePagination&&this.serverItemsLength<=0&&(t=this.paginateItems(t)),t},groupedItems(){return this.isGrouped?this.groupItems(this.computedItems):null},scopedProps(){return{sort:this.sort,sortArray:this.sortArray,group:this.group,items:this.computedItems,options:this.internalOptions,updateOptions:this.updateOptions,pagination:this.pagination,groupedItems:this.groupedItems,originalItemsLength:this.items.length}},computedOptions(){return{...this.options}}},watch:{computedOptions:{handler(t,e){Object(s["k"])(t,e)||this.updateOptions(t)},deep:!0,immediate:!0},internalOptions:{handler(t,e){Object(s["k"])(t,e)||this.$emit("update:options",t)},deep:!0,immediate:!0},page(t){this.updateOptions({page:t})},"internalOptions.page"(t){this.$emit("update:page",t)},itemsPerPage(t){this.updateOptions({itemsPerPage:t})},"internalOptions.itemsPerPage"(t){this.$emit("update:items-per-page",t)},sortBy(t){this.updateOptions({sortBy:Object(s["H"])(t)})},"internalOptions.sortBy"(t,e){!Object(s["k"])(t,e)&&this.$emit("update:sort-by",Array.isArray(this.sortBy)?t:t[0])},sortDesc(t){this.updateOptions({sortDesc:Object(s["H"])(t)})},"internalOptions.sortDesc"(t,e){!Object(s["k"])(t,e)&&this.$emit("update:sort-desc",Array.isArray(this.sortDesc)?t:t[0])},groupBy(t){this.updateOptions({groupBy:Object(s["H"])(t)})},"internalOptions.groupBy"(t,e){!Object(s["k"])(t,e)&&this.$emit("update:group-by",Array.isArray(this.groupBy)?t:t[0])},groupDesc(t){this.updateOptions({groupDesc:Object(s["H"])(t)})},"internalOptions.groupDesc"(t,e){!Object(s["k"])(t,e)&&this.$emit("update:group-desc",Array.isArray(this.groupDesc)?t:t[0])},multiSort(t){this.updateOptions({multiSort:t})},"internalOptions.multiSort"(t){this.$emit("update:multi-sort",t)},mustSort(t){this.updateOptions({mustSort:t})},"internalOptions.mustSort"(t){this.$emit("update:must-sort",t)},pageCount:{handler(t){this.$emit("page-count",t)},immediate:!0},computedItems:{handler(t){this.$emit("current-items",t)},immediate:!0},pagination:{handler(t,e){Object(s["k"])(t,e)||this.$emit("pagination",this.pagination)},immediate:!0}},methods:{toggle(t,e,i,a,n,r){let o=e.slice(),l=i.slice();const c=o.findIndex(e=>e===t);return c<0?(r||(o=[],l=[]),o.push(t),l.push(!1)):c>=0&&!l[c]?l[c]=!0:n?l[c]=!1:(o.splice(c,1),l.splice(c,1)),Object(s["k"])(o,e)&&Object(s["k"])(l,i)||(a=1),{by:o,desc:l,page:a}},group(t){const{by:e,desc:i,page:s}=this.toggle(t,this.internalOptions.groupBy,this.internalOptions.groupDesc,this.internalOptions.page,!0,!1);this.updateOptions({groupBy:e,groupDesc:i,page:s})},sort(t){if(Array.isArray(t))return this.sortArray(t);const{by:e,desc:i,page:s}=this.toggle(t,this.internalOptions.sortBy,this.internalOptions.sortDesc,this.internalOptions.page,this.internalOptions.mustSort,this.internalOptions.multiSort);this.updateOptions({sortBy:e,sortDesc:i,page:s})},sortArray(t){const e=t.map(t=>{const e=this.internalOptions.sortBy.findIndex(e=>e===t);return e>-1&&this.internalOptions.sortDesc[e]});this.updateOptions({sortBy:t,sortDesc:e})},updateOptions(t){this.internalOptions={...this.internalOptions,...t,page:this.serverItemsLength<0?Math.max(1,Math.min(t.page||this.internalOptions.page,this.pageCount)):t.page||this.internalOptions.page}},sortItems(t){let e=[],i=[];return this.disableSort||(e=this.internalOptions.sortBy,i=this.internalOptions.sortDesc),this.internalOptions.groupBy.length&&(e=[...this.internalOptions.groupBy,...e],i=[...this.internalOptions.groupDesc,...i]),this.customSort(t,e,i,this.locale)},groupItems(t){return this.customGroup(t,this.internalOptions.groupBy,this.internalOptions.groupDesc)},paginateItems(t){return-1===this.serverItemsLength&&t.length<=this.pageStart&&(this.internalOptions.page=Math.max(1,Math.ceil(t.length/this.internalOptions.itemsPerPage))||1),t.slice(this.pageStart,this.pageStop)}},render(){return this.$scopedSlots.default&&this.$scopedSlots.default(this.scopedProps)}}),r=(i("495dc"),i("b974")),o=i("9d26"),l=i("afdd"),c=a["a"].extend({name:"v-data-footer",props:{options:{type:Object,required:!0},pagination:{type:Object,required:!0},itemsPerPageOptions:{type:Array,default:()=>[5,10,15,-1]},prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},itemsPerPageAllText:{type:String,default:"$vuetify.dataFooter.itemsPerPageAll"},showFirstLastPage:Boolean,showCurrentPage:Boolean,disablePagination:Boolean,disableItemsPerPage:Boolean,pageText:{type:String,default:"$vuetify.dataFooter.pageText"}},computed:{disableNextPageIcon(){return this.options.itemsPerPage<=0||this.options.page*this.options.itemsPerPage>=this.pagination.itemsLength||this.pagination.pageStop<0},computedDataItemsPerPageOptions(){return this.itemsPerPageOptions.map(t=>"object"===typeof t?t:this.genDataItemsPerPageOption(t))}},methods:{updateOptions(t){this.$emit("update:options",Object.assign({},this.options,t))},onFirstPage(){this.updateOptions({page:1})},onPreviousPage(){this.updateOptions({page:this.options.page-1})},onNextPage(){this.updateOptions({page:this.options.page+1})},onLastPage(){this.updateOptions({page:this.pagination.pageCount})},onChangeItemsPerPage(t){this.updateOptions({itemsPerPage:t,page:1})},genDataItemsPerPageOption(t){return{text:-1===t?this.$vuetify.lang.t(this.itemsPerPageAllText):String(t),value:t}},genItemsPerPageSelect(){let t=this.options.itemsPerPage;const e=this.computedDataItemsPerPageOptions;return e.length<=1?null:(e.find(e=>e.value===t)||(t=e[0]),this.$createElement("div",{staticClass:"v-data-footer__select"},[this.$vuetify.lang.t(this.itemsPerPageText),this.$createElement(r["a"],{attrs:{"aria-label":this.$vuetify.lang.t(this.itemsPerPageText)},props:{disabled:this.disableItemsPerPage,items:e,value:t,hideDetails:!0,auto:!0,minWidth:"75px"},on:{input:this.onChangeItemsPerPage}})]))},genPaginationInfo(){let t=["–"];const e=this.pagination.itemsLength;let i=this.pagination.pageStart,s=this.pagination.pageStop;return this.pagination.itemsLength&&this.pagination.itemsPerPage?(i=this.pagination.pageStart+1,s=e<this.pagination.pageStop||this.pagination.pageStop<0?e:this.pagination.pageStop,t=this.$scopedSlots["page-text"]?[this.$scopedSlots["page-text"]({pageStart:i,pageStop:s,itemsLength:e})]:[this.$vuetify.lang.t(this.pageText,i,s,e)]):this.$scopedSlots["page-text"]&&(t=[this.$scopedSlots["page-text"]({pageStart:i,pageStop:s,itemsLength:e})]),this.$createElement("div",{class:"v-data-footer__pagination"},t)},genIcon(t,e,i,s){return this.$createElement(l["a"],{props:{disabled:e||this.disablePagination,icon:!0,text:!0},on:{click:t},attrs:{"aria-label":i}},[this.$createElement(o["a"],s)])},genIcons(){const t=[],e=[];return t.push(this.genIcon(this.onPreviousPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.prevPage"),this.$vuetify.rtl?this.nextIcon:this.prevIcon)),e.push(this.genIcon(this.onNextPage,this.disableNextPageIcon,this.$vuetify.lang.t("$vuetify.dataFooter.nextPage"),this.$vuetify.rtl?this.prevIcon:this.nextIcon)),this.showFirstLastPage&&(t.unshift(this.genIcon(this.onFirstPage,1===this.options.page,this.$vuetify.lang.t("$vuetify.dataFooter.firstPage"),this.$vuetify.rtl?this.lastIcon:this.firstIcon)),e.push(this.genIcon(this.onLastPage,this.options.page>=this.pagination.pageCount||-1===this.options.itemsPerPage,this.$vuetify.lang.t("$vuetify.dataFooter.lastPage"),this.$vuetify.rtl?this.firstIcon:this.lastIcon))),[this.$createElement("div",{staticClass:"v-data-footer__icons-before"},t),this.showCurrentPage&&this.$createElement("span",[this.options.page.toString()]),this.$createElement("div",{staticClass:"v-data-footer__icons-after"},e)]}},render(){return this.$createElement("div",{staticClass:"v-data-footer"},[Object(s["s"])(this,"prepend"),this.genItemsPerPageSelect(),this.genPaginationInfo(),this.genIcons()])}}),u=i("e4cd"),p=i("7560"),d=i("58df"),h=i("d9bd"),f=Object(d["a"])(u["a"],p["a"]).extend({name:"v-data-iterator",props:{...n.options.props,itemKey:{type:String,default:"id"},value:{type:Array,default:()=>[]},singleSelect:Boolean,expanded:{type:Array,default:()=>[]},mobileBreakpoint:{...u["a"].options.props.mobileBreakpoint,default:600},singleExpand:Boolean,loading:[Boolean,String],noResultsText:{type:String,default:"$vuetify.dataIterator.noResultsText"},noDataText:{type:String,default:"$vuetify.noDataText"},loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideDefaultFooter:Boolean,footerProps:Object,selectableKey:{type:String,default:"isSelectable"}},data:()=>({selection:{},expansion:{},internalCurrentItems:[],shiftKeyDown:!1,lastEntry:-1}),computed:{everyItem(){return!!this.selectableItems.length&&this.selectableItems.every(t=>this.isSelected(t))},someItems(){return this.selectableItems.some(t=>this.isSelected(t))},sanitizedFooterProps(){return Object(s["d"])(this.footerProps)},selectableItems(){return this.internalCurrentItems.filter(t=>this.isSelectable(t))}},watch:{value:{handler(t){this.selection=t.reduce((t,e)=>(t[Object(s["p"])(e,this.itemKey)]=e,t),{})},immediate:!0},selection(t,e){Object(s["k"])(Object.keys(t),Object.keys(e))||this.$emit("input",Object.values(t))},expanded:{handler(t){this.expansion=t.reduce((t,e)=>(t[Object(s["p"])(e,this.itemKey)]=!0,t),{})},immediate:!0},expansion(t,e){if(Object(s["k"])(t,e))return;const i=Object.keys(t).filter(e=>t[e]),a=i.length?this.items.filter(t=>i.includes(String(Object(s["p"])(t,this.itemKey)))):[];this.$emit("update:expanded",a)}},created(){const t=[["disable-initial-sort","sort-by"],["filter","custom-filter"],["pagination","options"],["total-items","server-items-length"],["hide-actions","hide-default-footer"],["rows-per-page-items","footer-props.items-per-page-options"],["rows-per-page-text","footer-props.items-per-page-text"],["prev-icon","footer-props.prev-icon"],["next-icon","footer-props.next-icon"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(h["a"])(t,e,this)});const e=["expand","content-class","content-props","content-tag"];e.forEach(t=>{this.$attrs.hasOwnProperty(t)&&Object(h["e"])(t)})},mounted(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},beforeDestroy(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},methods:{onKeyDown(t){this.shiftKeyDown=t.keyCode===s["y"].shift||t.shiftKey},onKeyUp(t){t.keyCode!==s["y"].shift&&t.shiftKey||(this.shiftKeyDown=!1)},toggleSelectAll(t){const e=Object.assign({},this.selection);for(let i=0;i<this.selectableItems.length;i++){const a=this.selectableItems[i];if(!this.isSelectable(a))continue;const n=Object(s["p"])(a,this.itemKey);t?e[n]=a:delete e[n]}this.selection=e,this.$emit("toggle-select-all",{items:this.internalCurrentItems,value:t})},isSelectable(t){return!1!==Object(s["p"])(t,this.selectableKey)},isSelected(t){return!!this.selection[Object(s["p"])(t,this.itemKey)]||!1},select(t,e=!0,i=!0){if(!this.isSelectable(t))return;const a=this.singleSelect?{}:Object.assign({},this.selection),n=Object(s["p"])(t,this.itemKey);e?a[n]=t:delete a[n];const r=this.selectableItems.findIndex(t=>Object(s["p"])(t,this.itemKey)===n);if(-1===this.lastEntry)this.lastEntry=r;else if(this.shiftKeyDown&&!this.singleSelect&&i){const t=Object(s["p"])(this.selectableItems[this.lastEntry],this.itemKey),e=Object.keys(this.selection).includes(String(t));this.multipleSelect(e,i,a,r)}if(this.lastEntry=r,this.singleSelect&&i){const t=Object.keys(this.selection),e=t.length&&Object(s["p"])(this.selection[t[0]],this.itemKey);e&&e!==n&&this.$emit("item-selected",{item:this.selection[e],value:!1})}this.selection=a,i&&this.$emit("item-selected",{item:t,value:e})},multipleSelect(t=!0,e=!0,i,a){const n=a<this.lastEntry?a:this.lastEntry,r=a<this.lastEntry?this.lastEntry:a;for(let o=n;o<=r;o++){const a=this.selectableItems[o],n=Object(s["p"])(a,this.itemKey);t?i[n]=a:delete i[n],e&&this.$emit("item-selected",{currentItem:a,value:t})}},isExpanded(t){return this.expansion[Object(s["p"])(t,this.itemKey)]||!1},expand(t,e=!0){const i=this.singleExpand?{}:Object.assign({},this.expansion),a=Object(s["p"])(t,this.itemKey);e?i[a]=!0:delete i[a],this.expansion=i,this.$emit("item-expanded",{item:t,value:e})},createItemProps(t,e){return{item:t,index:e,select:e=>this.select(t,e),isSelected:this.isSelected(t),expand:e=>this.expand(t,e),isExpanded:this.isExpanded(t),isMobile:this.isMobile}},genEmptyWrapper(t){return this.$createElement("div",t)},genEmpty(t,e){if(0===t&&this.loading){const t=this.$slots.loading||this.$vuetify.lang.t(this.loadingText);return this.genEmptyWrapper(t)}if(0===t){const t=this.$slots["no-data"]||this.$vuetify.lang.t(this.noDataText);return this.genEmptyWrapper(t)}if(0===e){const t=this.$slots["no-results"]||this.$vuetify.lang.t(this.noResultsText);return this.genEmptyWrapper(t)}return null},genItems(t){const e=this.genEmpty(t.originalItemsLength,t.pagination.itemsLength);return e?[e]:this.$scopedSlots.default?this.$scopedSlots.default({...t,isSelected:this.isSelected,select:this.select,isExpanded:this.isExpanded,isMobile:this.isMobile,expand:this.expand}):this.$scopedSlots.item?t.items.map((t,e)=>this.$scopedSlots.item(this.createItemProps(t,e))):[]},genFooter(t){if(this.hideDefaultFooter)return null;const e={props:{...this.sanitizedFooterProps,options:t.options,pagination:t.pagination},on:{"update:options":e=>t.updateOptions(e)}},i=Object(s["q"])("footer.",this.$scopedSlots);return this.$createElement(c,{scopedSlots:i,...e})},genDefaultScopedSlot(t){const e={...t,someItems:this.someItems,everyItem:this.everyItem,toggleSelectAll:this.toggleSelectAll};return this.$createElement("div",{staticClass:"v-data-iterator"},[Object(s["s"])(this,"header",e,!0),this.genItems(t),this.genFooter(t),Object(s["s"])(this,"footer",e,!0)])}},render(){return this.$createElement(n,{props:this.$props,on:{"update:options":(t,e)=>!Object(s["k"])(t,e)&&this.$emit("update:options",t),"update:page":t=>this.$emit("update:page",t),"update:items-per-page":t=>this.$emit("update:items-per-page",t),"update:sort-by":t=>this.$emit("update:sort-by",t),"update:sort-desc":t=>this.$emit("update:sort-desc",t),"update:group-by":t=>this.$emit("update:group-by",t),"update:group-desc":t=>this.$emit("update:group-desc",t),pagination:(t,e)=>!Object(s["k"])(t,e)&&this.$emit("pagination",t),"current-items":t=>{this.internalCurrentItems=t,this.$emit("current-items",t)},"page-count":t=>this.$emit("page-count",t)},scopedSlots:{default:this.genDefaultScopedSlot}})}}),m=(i("f823"),i("34ef")),g=i("9e88"),v=i("5607"),y=Object(d["a"])().extend({directives:{ripple:v["a"]},props:{headers:{type:Array,default:()=>[]},options:{type:Object,default:()=>({page:1,itemsPerPage:10,sortBy:[],sortDesc:[],groupBy:[],groupDesc:[],multiSort:!1,mustSort:!1})},checkboxColor:String,sortIcon:{type:String,default:"$sort"},everyItem:Boolean,someItems:Boolean,showGroupBy:Boolean,singleSelect:Boolean,disableSort:Boolean},methods:{genSelectAll(){var t;const e={props:{value:this.everyItem,indeterminate:!this.everyItem&&this.someItems,color:null!==(t=this.checkboxColor)&&void 0!==t?t:""},on:{input:t=>this.$emit("toggle-select-all",t)}};return this.$scopedSlots["data-table-select"]?this.$scopedSlots["data-table-select"](e):this.$createElement(g["a"],{staticClass:"v-data-table__checkbox",...e})},genSortIcon(){return this.$createElement(o["a"],{staticClass:"v-data-table-header__icon",props:{size:18}},[this.sortIcon])}}}),b=Object(d["a"])(y).extend({name:"v-data-table-header-mobile",props:{sortByText:{type:String,default:"$vuetify.dataTable.sortBy"}},methods:{genSortChip(t){const e=[t.item.text],i=this.options.sortBy.findIndex(e=>e===t.item.value),s=i>=0,a=this.options.sortDesc[i];return e.push(this.$createElement("div",{staticClass:"v-chip__close",class:{sortable:!0,active:s,asc:s&&!a,desc:s&&a}},[this.genSortIcon()])),this.$createElement(m["a"],{staticClass:"sortable",on:{click:e=>{e.stopPropagation(),this.$emit("sort",t.item.value)}}},e)},genSortSelect(t){return this.$createElement(r["a"],{props:{label:this.$vuetify.lang.t(this.sortByText),items:t,hideDetails:!0,multiple:this.options.multiSort,value:this.options.multiSort?this.options.sortBy:this.options.sortBy[0],menuProps:{closeOnContentClick:!0}},on:{change:t=>this.$emit("sort",t)},scopedSlots:{selection:t=>this.genSortChip(t)}})}},render(t){const e=[],i=this.headers.find(t=>"data-table-select"===t.value);i&&!this.singleSelect&&e.push(this.$createElement("div",{class:["v-data-table-header-mobile__select",...Object(s["H"])(i.class)],attrs:{width:i.width}},[this.genSelectAll()]));const a=this.headers.filter(t=>!1!==t.sortable&&"data-table-select"!==t.value).map(t=>({text:t.text,value:t.value}));!this.disableSort&&a.length&&e.push(this.genSortSelect(a));const n=e.length?t("th",[t("div",{staticClass:"v-data-table-header-mobile__wrapper"},e)]):void 0,r=t("tr",[n]);return t("thead",{staticClass:"v-data-table-header v-data-table-header-mobile"},[r])}}),C=Object(d["a"])(y).extend({name:"v-data-table-header-desktop",methods:{genGroupByToggle(t){return this.$createElement("span",{on:{click:e=>{e.stopPropagation(),this.$emit("group",t.value)}}},["group"])},getAria(t,e){const i=t=>this.$vuetify.lang.t("$vuetify.dataTable.ariaLabel."+t);let s="none",a=[i("sortNone"),i("activateAscending")];return t?(e?(s="descending",a=[i("sortDescending"),i(this.options.mustSort?"activateAscending":"activateNone")]):(s="ascending",a=[i("sortAscending"),i("activateDescending")]),{ariaSort:s,ariaLabel:a.join(" ")}):{ariaSort:s,ariaLabel:a.join(" ")}},genHeader(t){const e={attrs:{role:"columnheader",scope:"col","aria-label":t.text||""},style:{width:Object(s["h"])(t.width),minWidth:Object(s["h"])(t.width)},class:["text-"+(t.align||"start"),...Object(s["H"])(t.class),t.divider&&"v-data-table__divider"],on:{}},i=[];if("data-table-select"===t.value&&!this.singleSelect)return this.$createElement("th",e,[this.genSelectAll()]);if(i.push(this.$scopedSlots.hasOwnProperty(t.value)?this.$scopedSlots[t.value]({header:t}):this.$createElement("span",[t.text])),!this.disableSort&&(t.sortable||!t.hasOwnProperty("sortable"))){e.on.click=()=>this.$emit("sort",t.value);const s=this.options.sortBy.findIndex(e=>e===t.value),a=s>=0,n=this.options.sortDesc[s];e.class.push("sortable");const{ariaLabel:r,ariaSort:o}=this.getAria(a,n);e.attrs["aria-label"]+=`${t.text?": ":""}${r}`,e.attrs["aria-sort"]=o,a&&(e.class.push("active"),e.class.push(n?"desc":"asc")),"end"===t.align?i.unshift(this.genSortIcon()):i.push(this.genSortIcon()),this.options.multiSort&&a&&i.push(this.$createElement("span",{class:"v-data-table-header__sort-badge"},[String(s+1)]))}return this.showGroupBy&&!1!==t.groupable&&i.push(this.genGroupByToggle(t)),this.$createElement("th",e,i)}},render(){return this.$createElement("thead",{staticClass:"v-data-table-header"},[this.$createElement("tr",this.headers.map(t=>this.genHeader(t)))])}});function x(t){if(t.model&&t.on&&t.on.input)if(Array.isArray(t.on.input)){const e=t.on.input.indexOf(t.model.callback);e>-1&&t.on.input.splice(e,1)}else delete t.on.input}var _=i("d9f7");function w(t,e){const i=[];for(const s in t)t.hasOwnProperty(s)&&i.push(e("template",{slot:s},t[s]));return i}var S=a["a"].extend({name:"v-data-table-header",functional:!0,props:{...y.options.props,mobile:Boolean},render(t,{props:e,data:i,slots:s}){x(i);const a=w(s(),t);return i=Object(_["a"])(i,{props:e}),e.mobile?t(b,i,a):t(C,i,a)}});function I(t){var e;return 1!==t.length||!["td","th"].includes(null===(e=t[0])||void 0===e?void 0:e.tag)}var O=a["a"].extend({name:"row",functional:!0,props:{headers:Array,index:Number,item:Object,rtl:Boolean},render(t,{props:e,slots:i,data:a}){const n=i(),r=e.headers.map(i=>{const r=[],o=Object(s["p"])(e.item,i.value),l=i.value,c=a.scopedSlots&&a.scopedSlots.hasOwnProperty(l)&&a.scopedSlots[l],u=n.hasOwnProperty(l)&&n[l];c?r.push(...Object(s["H"])(c({item:e.item,isMobile:!1,header:i,index:e.index,value:o}))):u?r.push(...Object(s["H"])(u)):r.push(null==o?o:String(o));const p="text-"+(i.align||"start");return I(r)?t("td",{class:[p,i.cellClass,{"v-data-table__divider":i.divider}]},r):r});return t("tr",a,r)}}),D=a["a"].extend({name:"row-group",functional:!0,props:{value:{type:Boolean,default:!0},headerClass:{type:String,default:"v-row-group__header"},contentClass:String,summaryClass:{type:String,default:"v-row-group__summary"}},render(t,{slots:e,props:i}){const s=e(),a=[];return s["column.header"]?a.push(t("tr",{staticClass:i.headerClass},s["column.header"])):s["row.header"]&&a.push(...s["row.header"]),s["row.content"]&&i.value&&a.push(...s["row.content"]),s["column.summary"]?a.push(t("tr",{staticClass:i.summaryClass},s["column.summary"])):s["row.summary"]&&a.push(...s["row.summary"]),a}}),P=i("1f4f"),$=a["a"].extend({name:"row",functional:!0,props:{headers:Array,hideDefaultHeader:Boolean,index:Number,item:Object,rtl:Boolean},render(t,{props:e,slots:i,data:a}){const n=i(),r=e.headers.map(i=>{const r={"v-data-table__mobile-row":!0},o=[],l=Object(s["p"])(e.item,i.value),c=i.value,u=a.scopedSlots&&a.scopedSlots.hasOwnProperty(c)&&a.scopedSlots[c],p=n.hasOwnProperty(c)&&n[c];u?o.push(u({item:e.item,isMobile:!0,header:i,index:e.index,value:l})):p?o.push(p):o.push(null==l?l:String(l));const d=[t("div",{staticClass:"v-data-table__mobile-row__cell"},o)];return"dataTableSelect"===i.value||e.hideDefaultHeader||d.unshift(t("div",{staticClass:"v-data-table__mobile-row__header"},[i.text])),t("td",{class:r},d)});return t("tr",{...a,staticClass:"v-data-table__mobile-table-row"},r)}}),k=i("297c");function A(t,e,i){return a=>{const n=Object(s["p"])(t,a.value);return a.filter?a.filter(n,e,t):i(n,e,t)}}function N(t,e,i,a,n){return e="string"===typeof e?e.trim():null,t.filter(t=>{const r=i.every(A(t,e,s["l"])),o=!e||a.some(A(t,e,n));return r&&o})}e["a"]=Object(d["a"])(f,k["a"]).extend({name:"v-data-table",directives:{ripple:v["a"]},props:{headers:{type:Array,default:()=>[]},showSelect:Boolean,checkboxColor:String,showExpand:Boolean,showGroupBy:Boolean,height:[Number,String],hideDefaultHeader:Boolean,caption:String,dense:Boolean,headerProps:Object,calculateWidths:Boolean,fixedHeader:Boolean,headersLength:Number,expandIcon:{type:String,default:"$expand"},customFilter:{type:Function,default:s["l"]},itemClass:{type:[String,Function],default:()=>""},loaderHeight:{type:[Number,String],default:4}},data(){return{internalGroupBy:[],openCache:{},widths:[]}},computed:{computedHeaders(){if(!this.headers)return[];const t=this.headers.filter(t=>void 0===t.value||!this.internalGroupBy.find(e=>e===t.value)),e={text:"",sortable:!1,width:"1px"};if(this.showSelect){const i=t.findIndex(t=>"data-table-select"===t.value);i<0?t.unshift({...e,value:"data-table-select"}):t.splice(i,1,{...e,...t[i]})}if(this.showExpand){const i=t.findIndex(t=>"data-table-expand"===t.value);i<0?t.unshift({...e,value:"data-table-expand"}):t.splice(i,1,{...e,...t[i]})}return t},colspanAttrs(){return this.isMobile?void 0:{colspan:this.headersLength||this.computedHeaders.length}},columnSorters(){return this.computedHeaders.reduce((t,e)=>(e.sort&&(t[e.value]=e.sort),t),{})},headersWithCustomFilters(){return this.headers.filter(t=>t.filter&&(!t.hasOwnProperty("filterable")||!0===t.filterable))},headersWithoutCustomFilters(){return this.headers.filter(t=>!t.filter&&(!t.hasOwnProperty("filterable")||!0===t.filterable))},sanitizedHeaderProps(){return Object(s["d"])(this.headerProps)},computedItemsPerPage(){const t=this.options&&this.options.itemsPerPage?this.options.itemsPerPage:this.itemsPerPage,e=this.sanitizedFooterProps.itemsPerPageOptions;if(e&&!e.find(e=>"number"===typeof e?e===t:e.value===t)){const t=e[0];return"object"===typeof t?t.value:t}return t},groupByText(){var t,e,i;return null!==(i=null===(e=null===(t=this.headers)||void 0===t?void 0:t.find(t=>{var e;return t.value===(null===(e=this.internalGroupBy)||void 0===e?void 0:e[0])}))||void 0===e?void 0:e.text)&&void 0!==i?i:""}},created(){const t=[["sort-icon","header-props.sort-icon"],["hide-headers","hide-default-header"],["select-all","show-select"]];t.forEach(([t,e])=>{this.$attrs.hasOwnProperty(t)&&Object(h["a"])(t,e,this)})},mounted(){this.calculateWidths&&(window.addEventListener("resize",this.calcWidths),this.calcWidths())},beforeDestroy(){this.calculateWidths&&window.removeEventListener("resize",this.calcWidths)},methods:{calcWidths(){this.widths=Array.from(this.$el.querySelectorAll("th")).map(t=>t.clientWidth)},customFilterWithColumns(t,e){return N(t,e,this.headersWithCustomFilters,this.headersWithoutCustomFilters,this.customFilter)},customSortWithHeaders(t,e,i,s){return this.customSort(t,e,i,s,this.columnSorters)},createItemProps(t,e){const i=f.options.methods.createItemProps.call(this,t,e);return Object.assign(i,{headers:this.computedHeaders})},genCaption(t){return this.caption?[this.$createElement("caption",[this.caption])]:Object(s["s"])(this,"caption",t,!0)},genColgroup(t){return this.$createElement("colgroup",this.computedHeaders.map(t=>this.$createElement("col",{class:{divider:t.divider}})))},genLoading(){const t=this.$createElement("th",{staticClass:"column",attrs:this.colspanAttrs},[this.genProgress()]),e=this.$createElement("tr",{staticClass:"v-data-table__progress"},[t]);return this.$createElement("thead",[e])},genHeaders(t){const e={props:{...this.sanitizedHeaderProps,headers:this.computedHeaders,options:t.options,mobile:this.isMobile,showGroupBy:this.showGroupBy,checkboxColor:this.checkboxColor,someItems:this.someItems,everyItem:this.everyItem,singleSelect:this.singleSelect,disableSort:this.disableSort},on:{sort:t.sort,group:t.group,"toggle-select-all":this.toggleSelectAll}},i=[Object(s["s"])(this,"header",{...e,isMobile:this.isMobile})];if(!this.hideDefaultHeader){const t=Object(s["q"])("header.",this.$scopedSlots);i.push(this.$createElement(S,{...e,scopedSlots:t}))}return this.loading&&i.push(this.genLoading()),i},genEmptyWrapper(t){return this.$createElement("tr",{staticClass:"v-data-table__empty-wrapper"},[this.$createElement("td",{attrs:this.colspanAttrs},t)])},genItems(t,e){const i=this.genEmpty(e.originalItemsLength,e.pagination.itemsLength);return i?[i]:e.groupedItems?this.genGroupedRows(e.groupedItems,e):this.genRows(t,e)},genGroupedRows(t,e){return t.map(t=>(this.openCache.hasOwnProperty(t.name)||this.$set(this.openCache,t.name,!0),this.$scopedSlots.group?this.$scopedSlots.group({group:t.name,options:e.options,isMobile:this.isMobile,items:t.items,headers:this.computedHeaders}):this.genDefaultGroupedRow(t.name,t.items,e)))},genDefaultGroupedRow(t,e,i){const s=!!this.openCache[t],a=[this.$createElement("template",{slot:"row.content"},this.genRows(e,i))],n=()=>this.$set(this.openCache,t,!this.openCache[t]),r=()=>i.updateOptions({groupBy:[],groupDesc:[]});if(this.$scopedSlots["group.header"])a.unshift(this.$createElement("template",{slot:"column.header"},[this.$scopedSlots["group.header"]({group:t,groupBy:i.options.groupBy,isMobile:this.isMobile,items:e,headers:this.computedHeaders,isOpen:s,toggle:n,remove:r})]));else{const e=this.$createElement(l["a"],{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:n}},[this.$createElement(o["a"],[s?"$minus":"$plus"])]),i=this.$createElement(l["a"],{staticClass:"ma-0",props:{icon:!0,small:!0},on:{click:r}},[this.$createElement(o["a"],["$close"])]),c=this.$createElement("td",{staticClass:"text-start",attrs:this.colspanAttrs},[e,`${this.groupByText}: ${t}`,i]);a.unshift(this.$createElement("template",{slot:"column.header"},[c]))}return this.$scopedSlots["group.summary"]&&a.push(this.$createElement("template",{slot:"column.summary"},[this.$scopedSlots["group.summary"]({group:t,groupBy:i.options.groupBy,isMobile:this.isMobile,items:e,headers:this.computedHeaders,isOpen:s,toggle:n})])),this.$createElement(D,{key:t,props:{value:s}},a)},genRows(t,e){return this.$scopedSlots.item?this.genScopedRows(t,e):this.genDefaultRows(t,e)},genScopedRows(t,e){const i=[];for(let s=0;s<t.length;s++){const e=t[s];i.push(this.$scopedSlots.item({...this.createItemProps(e,s),isMobile:this.isMobile})),this.isExpanded(e)&&i.push(this.$scopedSlots["expanded-item"]({headers:this.computedHeaders,isMobile:this.isMobile,index:s,item:e}))}return i},genDefaultRows(t,e){return this.$scopedSlots["expanded-item"]?t.map((t,e)=>this.genDefaultExpandedRow(t,e)):t.map((t,e)=>this.genDefaultSimpleRow(t,e))},genDefaultExpandedRow(t,e){const i=this.isExpanded(t),s={"v-data-table__expanded v-data-table__expanded__row":i},a=this.genDefaultSimpleRow(t,e,s),n=this.$createElement("tr",{staticClass:"v-data-table__expanded v-data-table__expanded__content"},[this.$scopedSlots["expanded-item"]({headers:this.computedHeaders,isMobile:this.isMobile,item:t})]);return this.$createElement(D,{props:{value:i}},[this.$createElement("template",{slot:"row.header"},[a]),this.$createElement("template",{slot:"row.content"},[n])])},genDefaultSimpleRow(t,e,i={}){const a=Object(s["q"])("item.",this.$scopedSlots),n=this.createItemProps(t,e);if(this.showSelect){const e=a["data-table-select"];a["data-table-select"]=e?()=>e({...n,isMobile:this.isMobile}):()=>{var e;return this.$createElement(g["a"],{staticClass:"v-data-table__checkbox",props:{value:n.isSelected,disabled:!this.isSelectable(t),color:null!==(e=this.checkboxColor)&&void 0!==e?e:""},on:{input:t=>n.select(t)}})}}if(this.showExpand){const t=a["data-table-expand"];a["data-table-expand"]=t?()=>t(n):()=>this.$createElement(o["a"],{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":n.isExpanded},on:{click:t=>{t.stopPropagation(),n.expand(!n.isExpanded)}}},[this.expandIcon])}return this.$createElement(this.isMobile?$:O,{key:Object(s["p"])(t,this.itemKey),class:Object(_["b"])({...i,"v-data-table__selected":n.isSelected},Object(s["r"])(t,this.itemClass)),props:{headers:this.computedHeaders,hideDefaultHeader:this.hideDefaultHeader,index:e,item:t,rtl:this.$vuetify.rtl},scopedSlots:a,on:{click:e=>this.$emit("click:row",t,n,e),contextmenu:t=>this.$emit("contextmenu:row",t,n),dblclick:t=>this.$emit("dblclick:row",t,n)}})},genBody(t){const e={...t,expand:this.expand,headers:this.computedHeaders,isExpanded:this.isExpanded,isMobile:this.isMobile,isSelected:this.isSelected,select:this.select};return this.$scopedSlots.body?this.$scopedSlots.body(e):this.$createElement("tbody",[Object(s["s"])(this,"body.prepend",e,!0),this.genItems(t.items,t),Object(s["s"])(this,"body.append",e,!0)])},genFoot(t){var e,i;return null===(i=(e=this.$scopedSlots).foot)||void 0===i?void 0:i.call(e,t)},genFooters(t){const e={props:{options:t.options,pagination:t.pagination,itemsPerPageText:"$vuetify.dataTable.itemsPerPageText",...this.sanitizedFooterProps},on:{"update:options":e=>t.updateOptions(e)},widths:this.widths,headers:this.computedHeaders},i=[Object(s["s"])(this,"footer",e,!0)];return this.hideDefaultFooter||i.push(this.$createElement(c,{...e,scopedSlots:Object(s["q"])("footer.",this.$scopedSlots)})),i},genDefaultScopedSlot(t){const e={height:this.height,fixedHeader:this.fixedHeader,dense:this.dense};return this.$createElement(P["a"],{props:e,class:{"v-data-table--mobile":this.isMobile}},[this.proxySlot("top",Object(s["s"])(this,"top",{...t,isMobile:this.isMobile},!0)),this.genCaption(t),this.genColgroup(t),this.genHeaders(t),this.genBody(t),this.genFoot(t),this.proxySlot("bottom",this.genFooters(t))])},proxySlot(t,e){return this.$createElement("template",{slot:t},e)}},render(){return this.$createElement(n,{props:{...this.$props,customFilter:this.customFilterWithColumns,customSort:this.customSortWithHeaders,itemsPerPage:this.computedItemsPerPage},on:{"update:options":(t,e)=>{this.internalGroupBy=t.groupBy||[],!Object(s["k"])(t,e)&&this.$emit("update:options",t)},"update:page":t=>this.$emit("update:page",t),"update:items-per-page":t=>this.$emit("update:items-per-page",t),"update:sort-by":t=>this.$emit("update:sort-by",t),"update:sort-desc":t=>this.$emit("update:sort-desc",t),"update:group-by":t=>this.$emit("update:group-by",t),"update:group-desc":t=>this.$emit("update:group-desc",t),pagination:(t,e)=>!Object(s["k"])(t,e)&&this.$emit("pagination",t),"current-items":t=>{this.internalCurrentItems=t,this.$emit("current-items",t)},"page-count":t=>this.$emit("page-count",t)},scopedSlots:{default:this.genDefaultScopedSlot}})}})},"91f4":function(t,e,i){},9734:function(t,e,i){},a69a:function(t,e,i){"use strict";var s=i("0798"),a=i("8fea"),n=i("169a"),r=i("132d"),o=i("a797"),l=i("490a"),c=i("1f4f"),u=i("8654"),p=i("3a2f"),d=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e(o["a"],{staticStyle:{"z-index":"50"},attrs:{value:t.loadingVoucher}},[e(l["a"],{staticClass:"mr-1",attrs:{indeterminate:"",size:"64"}}),e("p",{staticClass:"mt-10 text-center d-flex align-center"},[t._v("Please Wait...")])],1),e(n["a"],{attrs:{"max-width":"1080","content-class":"moreRadius button no-overflow-xy theme-card has-big-fonts dir-ltr "+(t.allItems.length>7?"vouchers-table-dialog":"")},on:{"click:outside":function(e){return t.$emit("close-dialog")}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("div",{staticClass:"my-5 px-5"},[e("div",{staticClass:"d-flex align-center justify-space-between px-2"},[t.allItems.length?e("span",{staticClass:"font-size-14 black--text font-weight-500 d-flex align-center"},[t._v(" Vouchers List ")]):t.loading?t._e():e(s["a"],{staticClass:"px-2 py-1 mb-0 d-flex align-center",attrs:{color:"orange",text:"",border:"left"}},[e("i",{staticClass:"icon-info-circle icon-16 px-1"}),t._v(" No information has been registered yet.")]),e(r["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.$emit("close-dialog")}}})],1),t.allItems.length&&!t.loading?e(u["a"],{staticClass:"px-2",attrs:{placeholder:"Search Passengers","hide-details":"auto","append-icon":"icon-Search icon-18 pr-2"},model:{value:t.searchPassengers,callback:function(e){t.searchPassengers=e},expression:"searchPassengers"}}):t._e(),t.loading?e(l["a"],{staticClass:"mx-auto my-5 d-block",attrs:{indeterminate:"",color:"blue"}}):t._e(),t.allItems.length&&!t.loading?e(a["a"],{staticClass:"mt-4 inner-table",attrs:{"hide-default-footer":"",items:t.tableItems,"items-per-page":-1,"max-he":"","fixed-header":"",headers:t.headers,"disable-sort":""},scopedSlots:t._u([{key:"item.row",fn:function({index:e}){return[t._v(t._s(e+1))]}},{key:"item.baggage",fn:function({item:e}){return[t._v(t._s(e.documents.filter(t=>"baggage"==t.Type).length?e.documents.filter(t=>"baggage"==t.Type)[0].ServiceCount:0))]}},{key:"item.vipCount",fn:function({item:i}){return[i.vipCount?e("i",{staticClass:"icon-tick-circle icon-18"}):e("span",[t._v("--")])]}},{key:"item.lomCount",fn:function({item:e}){return[t._v(t._s(e.lomCount))]}},{key:"item.passengerCount",fn:function({item:i}){return[t._v(t._s(i.passengers?i.passengers.length:0)+" "),e(p["a"],{attrs:{"open-on-click":"",right:"",color:"#fff","content-class":"noBG shadowAndRadius dir-ltr"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(r["a"],t._g(t._b({staticClass:"icon-info-circle pa-1",attrs:{size:"16"}},"v-icon",s,!1),i))]}}],null,!0)},[e(c["a"],[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Last Name")])])]),e("tbody",t._l(i.passengers,(function(i){return e("tr",{key:i.id},[e("td",{staticClass:"text-center"},[t._v(" "+t._s(i.name)+" ")]),e("td",{staticClass:"text-center"},[t._v(" "+t._s(i.surname)+" ")])])})),0)])],1)]}},{key:"item.receiverName",fn:function({item:e}){return[t._v(t._s(e.receiverName?e.receiverName:"--"))]}},{key:"item.contact",fn:function({item:i}){return[i.contact&&i.contact.PhoneNumber?e("span",[t._v(t._s(`${i.contact.CountryAccessCode}${i.contact.PhoneNumber}`))]):e("span",[t._v("--")])]}},{key:"item.information",fn:function({item:i}){return[i.documents.filter(t=>"baggage"==t.Type).length?e(p["a"],{attrs:{top:"","max-width":"200px"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(r["a"],t._g(t._b({staticClass:"icon-info-circle icon-18 cursor-pointer",attrs:{depressed:"",ripple:!1,dense:"",small:"",color:"darkGrey"}},"v-icon",s,!1),i))]}}],null,!0)},[e("span",{staticStyle:{"font-size":"12px !important"}},[t._v(t._s(i.documents.filter(t=>"baggage"==t.Type)[0].Comment))])]):e("span",[t._v("--")])]}},{key:"item.print",fn:function({item:i}){return[e("i",{staticClass:"icon-printer icon-20 darkGrey--text cursor-pointer",on:{click:function(e){return t.openPrint(i)}}})]}},{key:"item.newPrint",fn:function({item:i}){return[e("i",{staticClass:"icon-printer icon-20 darkGrey--text cursor-pointer",on:{click:function(e){return t.openPrint(i,"new")}}}),e("span",{staticClass:"red white--text px-1 rounded ml-n2 caption",on:{click:function(e){return t.openPrint(i,"new")}}},[t._v("new")])]}},{key:"item.PDF",fn:function({item:i,index:s}){return[e("i",{staticClass:"icon-download icon-20 darkGrey--text cursor-pointer",on:{click:function(e){return t.openPdf(i,s)}}})]}},{key:"item.edit",fn:function({item:i,index:s}){return[e("i",{staticClass:"icon-edit icon-18 darkGrey--text cursor-pointer",on:{click:function(e){return t.openEditDialog(i,s)}}})]}}],null,!0)}):t._e()],1)])],1)},h=[],f=i("60a3"),m=i("3817"),g=i("c514"),v=i("cf29"),y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),b=function(){return b=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},b.apply(this,arguments)},C=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},x=function(t,e,i){if(i||2===arguments.length)for(var s,a=0,n=e.length;a<n;a++)!s&&a in e||(s||(s=Array.prototype.slice.call(e,0,a)),s[a]=e[a]);return t.concat(s||Array.prototype.slice.call(e))},_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialog=!1,e.loading=!1,e.loadingVoucher=!1,e.finalDest="",e.searchPassengers="",e.allItems=[],e}return y(e,t),e.prototype.dialogControllerChanged=function(){this.dialog=this.dialogController,this.dialog&&this.getItems()},Object.defineProperty(e.prototype,"tableItems",{get:function(){var t=this;return this.searchPassengers&&this.searchPassengers.length>1?this.allItems.filter((function(e){return e.passengers&&e.passengers.length&&e.passengers.some((function(e){return"".concat(e.name.toLowerCase()," ").concat(e.surname.toLowerCase()).includes(t.searchPassengers.trim().toLowerCase())}))})):this.allItems},enumerable:!1,configurable:!0}),e.prototype.openEditDialog=function(t,e){this.$emit("open-edit-dialog",{item:t,index:e})},e.prototype.openLastPrint=function(t){var e=this,i=this.$store.state.baseUrl+"contract/servicedocument?ServiceId="+this.ServiceId;this.loadingVoucher=!0,this.axios(i).then((function(i){console.log("index",t),e.allItems=i.data.Items,i.data.Items.map((function(t){var i=[],s=[];t.services.map((function(t){t.passengers&&!t.isService&&(i=x(x([],i,!0),t.passengers,!0)),t.isService&&(s=x(x([],s,!0),t.passengers.map((function(e){return b(b({},e),{serviceName:t.name})})),!0))})),e.$set(t,"passengers",i),e.$set(t,"extraService",s)})),"number"===typeof t?e.openPrint(e.allItems[t]):e.openPrint(e.allItems[e.allItems.length-1]),e.loadingVoucher=!1})).catch((function(t){e.loadingVoucher=!1}))},e.prototype.openLastPrintNew=function(t){var e=this,i=this.$store.state.baseUrl+"contract/servicedocument?ServiceId="+this.ServiceId;this.loadingVoucher=!0,this.axios(i).then((function(i){console.log("index",t),e.allItems=i.data.Items,i.data.Items.map((function(t){var i=[],s=[];t.services.map((function(t){t.passengers&&!t.isService&&(i=x(x([],i,!0),t.passengers,!0)),t.isService&&(s=x(x([],s,!0),t.passengers.map((function(e){return b(b({},e),{serviceName:t.name})})),!0))})),e.$set(t,"passengers",i),e.$set(t,"extraService",s)})),"number"==typeof t?e.openPrint(e.allItems[t],"new"):e.openPrint(e.allItems[e.allItems.length-1],"new"),e.loadingVoucher=!1})).catch((function(t){e.loadingVoucher=!1}))},e.prototype.openPrint=function(t,e){void 0===e&&(e="");var i=t.documents.filter((function(t){return"baggage"==t.Type}));console.log("item",t);var s={passengers:t.passengers,extraServices:t.extraService?t.extraService.filter((function(t){return"attendant"!=t.serviceName})):[],attendants:t.extraService?t.extraService.filter((function(t){return"attendant"==t.serviceName})):[]};sessionStorage.setItem("printData",JSON.stringify(s));var a=this.$router.resolve({name:e?"newcipprint":"cipprint",query:{finalDest:t.lastAirport,serial:this.serial,flightType:this.Cip.CipInfo.FlightInfo.FlightType,flightDateTime:this.Cip.CipInfo.FlightInfo.DateTime,flightNo:this.Cip.CipInfo.FlightInfo.AirlineIata+this.Cip.CipInfo.FlightInfo.FlightNumber,passName:t.receiverName?t.receiverName:this.allPass[0].GivenName+" "+this.allPass[0].SurName,passCount:s.passengers.length?s.passengers.length:s.attendants.length,passType:"Business"==this.passType?"BC":"CIP",PhoneNumber:t.contact&&t.contact.PhoneNumber?"".concat(t.contact.CountryAccessCode).concat(parseInt(t.contact.PhoneNumber)):"",lomCount:t.lomCount||0,vipCount:t.vipCount||0,desc:i.length?i[0].Comment:"",baggageCount:t.documents.reduce((function(t,e){return t+("baggage"==e.Type?e.ServiceCount:0)}),0)}});window.open(a.href,"_blank")},e.prototype.openPdf=function(t,e){var i=this.$store.state.baseUrl+"report/contract/servicedocument/pdf?Id="+t.id;this.axios.get(i,{headers:{"Content-Type":"application/pdf","Content-Disposition":'inline; filename="printLabel.pdf"'},responseType:"arraybuffer"}).then((function(t){var e=new Blob([t.data],{type:"application/pdf"}),i=URL.createObjectURL(e);window.open(i)})).catch((function(t){console.log(t)}))},e.prototype.getItems=function(){var t=this;this.searchPassengers="",this.loading=!0;var e=this.$store.state.baseUrl+"contract/servicedocument?ServiceId="+this.ServiceId;this.axios(e).then((function(e){t.allItems=e.data.Items,e.data.Items.map((function(e){var i=[],s=[];e.services.map((function(t){t.passengers&&!t.isService&&(i=x(x([],i,!0),t.passengers,!0)),t.isService&&(s=x(x([],s,!0),t.passengers.map((function(e){return b(b({},e),{serviceName:t.name})})),!0))})),t.$set(e,"passengers",i),t.$set(e,"extraService",s)})),t.loading=!1})).catch((function(e){t.loading=!1}))},Object.defineProperty(e.prototype,"headers",{get:function(){return[{text:"#",value:"row",width:5,align:"center"},{text:"Passengers",value:"passengerCount",align:"center"},{text:"Baggage",value:"baggage",align:"center"},{text:"VIP",value:"vipCount",align:"center"},{text:"LOM",value:"lomCount",align:"center"},{text:"Mobile",value:"contact",align:"center"},{text:"Final Destination",value:"lastAirport",align:"center"},{text:"Baggage Tag Name",value:"receiverName",align:"center"},{text:"Information",value:"information",align:"center"},{text:"Print",value:"print",align:"center"},{text:"New Print",value:"newPrint",align:"center"},{text:"PDF",value:"PDF",align:"center"},{text:"Edit",value:"edit",align:"center"}]},enumerable:!1,configurable:!0}),C([Object(f["c"])()],e.prototype,"dialogController",void 0),C([Object(f["c"])()],e.prototype,"ServiceId",void 0),C([Object(f["c"])()],e.prototype,"passType",void 0),C([Object(f["c"])()],e.prototype,"serial",void 0),C([Object(f["c"])()],e.prototype,"Cip",void 0),C([Object(f["c"])()],e.prototype,"allPass",void 0),C([Object(f["e"])("dialogController")],e.prototype,"dialogControllerChanged",null),e=C([Object(f["a"])({components:{AppAriportSelect:m["a"],NumberField:g["a"],countryCodeSelect:v["a"]}})],e),e}(f["d"]),w=_,S=w,I=(i("6a6a"),i("2877")),O=Object(I["a"])(S,d,h,!1,null,"4e13b93c",null);e["a"]=O.exports},a844:function(t,e,i){"use strict";i("1681");var s=i("8654"),a=i("58df");const n=Object(a["a"])(s["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=s["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){s["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},a92d:function(t,e,i){"use strict";i("0674")},aa42:function(t,e,i){"use strict";i("e466")},abcd:function(t,e,i){"use strict";i.r(e);var s=i("c6a6"),a=i("8336"),n=i("a609"),r=i("b0af"),o=i("99d9"),l=i("ac7c"),c=i("cc20"),u=i("62ad"),p=i("8fea"),d=i("132d"),h=i("adda"),f=i("8860"),m=i("da13"),g=i("1800"),v=i("5d23"),y=i("1baa"),b=i("e449"),C=i("891e"),x=i("490a"),_=i("0fd9"),w=i("b974"),S=i("8654"),I=i("3a2f"),O=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"mt-12 px-4 dir-ltr"},[e("PassengersDrawer",{ref:"passengersDrawer",attrs:{selected:t.selected,drawerHandler:t.drawerHandler,allPass:t.items},on:{"update-selected":t.updateSelected,"close-drawer":function(e){return t.closeDrawer(e)},"show-vouchers":t.openVouchersPrint,"show-vouchers-new":t.openVouchersPrintNew,"remove-selected":t.removeSelected,"get-data":function(e){return t.getData(e)}}}),e(r["a"],{staticClass:"pa-4 mb-3 moreRadius button",attrs:{flat:"",tile:""}},[e(o["d"],{staticClass:"darkGrey--text pt-0 font-weight-600"},[t._v("CIP Report")]),e(_["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"position-relative px-2 d-flex justify-end",attrs:{cols:"2"}},[e(w["a"],{staticClass:"moreRadius input dateType font-size-13",attrs:{outlined:"",dense:"","append-icon":"icon-chevron-down icon-18",attach:".dateType",label:"Date Type","hide-details":"","item-value":"value","item-text":"text","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll horizontal-center"},items:[{value:0,text:"Creation Date"},{value:1,text:"Flight Date"}]},model:{value:t.dateType,callback:function(e){t.dateType=e},expression:"dateType"}})],1),e(u["a"],{staticClass:"position-relative pb-0 px-2 d-flex",attrs:{cols:"4"}},[e("date-picker",{staticClass:"mr-2",attrs:{locale:"en",label:"From",startLabel:"From",dense:"",type:"datetime","locale-config":{fa:{inputFormat:"jYYYY/jMM/jDD HH:mm"},en:{inputFormat:"YYYY/MM/DD HH:mm"}},mode:"single",modal:""},on:{focus:function(e){t.shift=null,t.day=null}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),e("date-picker",{staticClass:"ml-2",attrs:{locale:"en",label:"To",startLabel:"To",endLabel:"To",dense:"",type:"datetime","locale-config":{fa:{inputFormat:"jYYYY/jMM/jDD HH:mm"},en:{inputFormat:"YYYY/MM/DD HH:mm"}},mode:"single",modal:""},on:{focus:function(e){t.shift=null,t.day=null}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),e(u["a"],{staticClass:"position-relative pb-0 px-2 d-flex justify-end",attrs:{cols:"2"}},[e(S["a"],{staticClass:"moreRadius input",attrs:{label:"Passenger's Name",outlined:"","hide-details":"auto",dense:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData.apply(null,arguments)}},model:{value:t.PassengerName,callback:function(e){t.PassengerName=e},expression:"PassengerName"}})],1),e(u["a"],{staticClass:"position-relative pb-0 px-2 d-flex justify-end",attrs:{cols:"2"}},[e("number-field",{attrs:{label:"National ID",height:40,dense:"",noDot:!0},on:{"keypress-enter-event":t.getData},model:{value:t.NationalId,callback:function(e){t.NationalId=e},expression:"NationalId"}})],1),e(u["a"],{staticClass:"position-relative px-2 d-flex justify-end",attrs:{cols:"2"}},[e(S["a"],{staticClass:"moreRadius input",attrs:{label:"Passport No",outlined:"","hide-details":"auto",dense:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData.apply(null,arguments)}},model:{value:t.PassportNo,callback:function(e){t.PassportNo=e},expression:"PassportNo"}})],1)],1),e(_["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"position-relative py-0 px-2"},[e("number-field",{attrs:{label:"Flight No",height:40,dense:"",noDot:!0},on:{"keypress-enter-event":t.getData},model:{value:t.FlightNumber,callback:function(e){t.FlightNumber=e},expression:"FlightNumber"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2"},[e("number-field",{attrs:{label:"Contract No",height:40,dense:"",noDot:!0},on:{"keypress-enter-event":t.getData},model:{value:t.ContractNumber,callback:function(e){t.ContractNumber=e},expression:"ContractNumber"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2"},[e(S["a"],{staticClass:"moreRadius input",attrs:{label:"Reference Id",outlined:"","hide-details":"auto",dense:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData.apply(null,arguments)}},model:{value:t.PNR,callback:function(e){t.PNR=e},expression:"PNR"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2 d-flex justify-end",attrs:{cols:"2"}},[e(w["a"],{staticClass:"moreRadius input flightType font-size-13",attrs:{outlined:"",dense:"","append-icon":"icon-chevron-down icon-18",attach:".flightType",label:"Arr/Dep","hide-details":"","item-value":"value","item-text":"text",clearable:"","clear-icon":"icon-remove icon-18","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll horizontal-center"},items:[{value:"inbound",text:"Arrival"},{value:"outbound",text:"Departure"}]},model:{value:t.FlightType,callback:function(e){t.FlightType=e},expression:"FlightType"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2",attrs:{cols:"2"}},[e(s["a"],{staticClass:"cip-flight__airline moreRadius input",attrs:{dense:"",clearable:"","clear-icon":"icon-remove icon-18",outlined:"",label:"Airline","hide-no-data":"","hide-details":"auto",items:t.airlines,"item-text":"searchAirlines","cache-items":!1,"item-value":"iata","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll horizontal-center"},"append-icon":"",attach:".cip-flight__airline","search-input":t.searchAirlines},on:{click:function(e){t.AirlineIata=""},"update:searchInput":function(e){t.searchAirlines=e},"update:search-input":function(e){t.searchAirlines=e}},scopedSlots:t._u([{key:"item",fn:function(i){return[e(f["a"],{staticClass:"pa-0",attrs:{width:"100%"}},[e(m["a"],{staticClass:"pa-0"},[i.item.iata?e(g["a"],{staticClass:"ma-0"},[e(c["a"],{staticClass:"white--text",attrs:{label:"",small:"",color:"#d50c6a"}},[t._v(t._s(i.item.iata))])],1):t._e(),e(v["a"],{},[e(v["c"],{staticClass:"mb-0"},[t._v(t._s(i.item.name))])],1)],1)],1)]}},{key:"selection",fn:function(i){return[e("span",{staticClass:"caption"},[t._v(t._s(i.item.name))]),i.item.iata?e("span",{},[e(c["a"],{staticClass:"caption white--text",attrs:{label:"",small:"",color:"#d50c6a"}},[t._v(t._s(i.item.iata))])],1):t._e()]}}],null,!0),model:{value:t.AirlineIata,callback:function(e){t.AirlineIata=e},expression:"AirlineIata"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2",attrs:{cols:"3"}},[e("AppAriportSelect",{attrs:{onlyShowAirports:!0,showDefaultCitites:!1,position:"org",dense:!0,label:"ORG/DEST"},model:{value:t.AirportCode,callback:function(e){t.AirportCode=e},expression:"AirportCode"}})],1)],1),e(_["a"],[e(u["a"],{staticClass:"position-relative pb-0 px-0",attrs:{cols:"3"}},[e(n["a"],{staticClass:"row mx-0",staticStyle:{"border-right":"1px solid #f2f2f2"},attrs:{color:"buttons",group:""},on:{change:t.changeShift},model:{value:t.shift,callback:function(e){t.shift=e},expression:"shift"}},[e(a["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:0,dense:"",height:"42"}},[t._v(" Previous Shift ")]),e(a["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:1,dense:"",height:"42"}},[t._v(" Current Shift ")]),e(a["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:2,dense:"",height:"42"}},[t._v(" Next Shift ")])],1)],1),e(u["a"],{staticClass:"position-relative pb-0 px-0",attrs:{cols:"3"}},[e(n["a"],{staticClass:"row mx-0",attrs:{color:"buttons",group:""},on:{change:t.changeDay},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}},[e(a["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:0,dense:"",height:"42"}},[t._v(" Previous Day ")]),e(a["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:1,dense:"",height:"42"}},[t._v(" Current Day ")]),e(a["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:2,dense:"",height:"42"}},[t._v(" Next Day ")])],1)],1),e(u["a"],{staticClass:"position-relative pb-0 px-2 d-flex justify-end mr-auto",attrs:{cols:"6"}},[e(a["a"],{staticClass:"moreRadius button",attrs:{color:"buttons",dark:"","x-large":"",width:"180",height:"44",depressed:""},on:{click:t.getData}},[t._v(" Search")])],1)],1)],1),e(p["a"],{staticClass:"ruleTable",staticStyle:{"border-radius":"20px"},attrs:{headers:t.headers,items:t.items,"item-key":"row","items-per-page":-1,loading:t.dataLoading,"hide-default-footer":"","item-class":t.rowClass,"loading-text":t.$t("pleaseWait","en"),"no-data-text":t.$t("noDataFound","en"),flat:""},scopedSlots:t._u([{key:"item.row",fn:function({index:i,item:s}){return[e("div",{staticClass:"pt-5"},[t._v(t._s(i+1+20*(t.page-1)))]),e("div",{staticClass:"pt-8"},[s.data.length>3?e(d["a"],{staticClass:"icon-Search black--text",attrs:{size:"18"},on:{click:function(e){e.stopPropagation(),t.drawerHandler=!t.drawerHandler}}}):t._e()],1)]}},{key:"header.flightNumber",fn:function(){return[e("div",[t._v("Flight No.")]),e("div",[t._v("From/To")])]},proxy:!0},{key:"item.flightNumber",fn:function({item:i}){return[e("div",{staticClass:"pt-4 font-weight-500"},[t._v(" "+t._s(""+i.data[0].flightNumber)+" ")]),e("div",{staticClass:"pb-4 font-weight-300"},[t._v(t._s(""+i.data[0].airport))])]}},{key:"item.serial",fn:function({item:i}){return[e("div",{staticClass:"d-flex flex-column h-100",class:i.inProcess?"pt-4":"pt-6",on:{click:function(e){return t.goToContact(i.data[0].serial)}}},[e("span",{staticClass:"text-decoration-underline"},[t._v(" "+t._s(i.data[0].serial)+" ")]),i.inProcess?e("span",{staticClass:"font-weight-500 blue--text rounded font-size-13"},[t._v(" In process ")]):t._e()])]}},{key:"item.PassengerTypeCode",fn:function({item:i}){return t._l(i.data,(function(i,s){return e("div",{key:"PassengerTypeCode"+s,staticClass:"pt-3",staticStyle:{height:"54px"}},[t._v(" "+t._s(""+i.PassengerTypeCode)+" ")])}))}},{key:"item.Time",fn:function({item:i}){return[e("div",{staticClass:"pt-4"},[t._v(" "+t._s(i.data[0].flightDateTime.substring(0,10))+" ")]),e("div",[t._v(" "+t._s(i.data[0].flightDateTime.substring(11,16))+" ")])]}},{key:"item.airline",fn:function({item:i}){return[e(h["a"],{staticClass:"airline-logo mt-5",attrs:{src:t.imgUrl(i.data[0].airline,"en"),"max-width":"80"}})]}},{key:"item.Airport",fn:function({item:i}){return[e("div",{staticClass:"pt-2"},[t._v(" "+t._s(i.data[0].cipAirport)+" "),e(I["a"],{attrs:{"open-on-click":"",top:"",color:"#002244"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(d["a"],t._g(t._b({staticClass:"icon-info-circle pa-1",attrs:{size:"16"}},"v-icon",s,!1),i))]}}],null,!0)},[e("span",[t._v(t._s(i.data[0].globalName))])])],1),e("div",[t._v(" "+t._s("outbound"==i.data[0].flightType?"DEP":"ARR")+"/"+t._s(i.data[0].tripType.substring(0,3).toUpperCase())+" ")])]}},{key:"item.status",fn:function({item:i}){return t._l(i.data,(function(i,s){return e("div",{key:"status/"+s,staticClass:"pt-3",staticStyle:{height:"54px"}},["visitor"!=t.user.roleType?e(a["a"],{staticClass:"rounded",class:0!==parseInt(i.status)?"green--text":"blue--text",staticStyle:{"font-size":"12px"},attrs:{color:0!==parseInt(i.status)?"green-bg":"blue-bg-light",depressed:"",dense:"","x-small":"",height:"28",width:"64",loading:i.addShowLoading},on:{click:function(e){return t.addShow(i)}},scopedSlots:t._u([{key:"loader",fn:function(){return[e(x["a"],{attrs:{indeterminate:"",size:"16",width:1}})]},proxy:!0}],null,!0)},[0!==parseInt(i.status)?e("i",{staticClass:"icon-show icon-16 pr-1"}):t._e(),t._v("Show ")]):t._e()],1)}))}},{key:"item.lomStatus",fn:function({item:i}){return t._l(i.data,(function(i,s){return e("div",{key:"LOM"+s,staticClass:"pt-5 darkGrey--text",staticStyle:{height:"54px"}},[t._v(" "+t._s(i.lomStatus?"LOM":"")+" ")])}))}},{key:"item.vipStatus",fn:function({item:i}){return t._l(i.data,(function(i,s){return e("div",{key:"VIP"+s,staticClass:"pt-5 darkGrey--text",staticStyle:{height:"54px"}},[t._v(" "+t._s(i.vipStatus?"VIP":"")+" ")])}))}},{key:"item.passType",fn:function({item:i}){return t._l(i.data,(function(s,a){return e("div",{key:"passType"+a,staticClass:"py-2 d-flex align-center",staticStyle:{height:"54px"}},[e(l["a"],{staticClass:"mr-2 mt-2",attrs:{ripple:!1,value:s.searchKey},on:{click:t.emptySelected},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),s.isService?e(c["a"],{staticStyle:{"min-width":"60px"},attrs:{small:"",color:"#009EDB1a","text-color":"#009EDB"}},[t._v(t._s(t._f("titleCase")(s.serviceName)))]):"Business"==s.cabinClass?e(c["a"],{staticStyle:{"min-width":"60px"},attrs:{small:"",color:"#EA1B661a","text-color":"#EA1B66"}},[t._v("BC "+t._s(i.data.filter(t=>!t.isService&&"Business"==t.cabinClass).length>1?String(a+1).padStart(2,"0"):"")+" ")]):e(c["a"],{staticStyle:{"min-width":"60px"},attrs:{small:"",color:"#9747ff1a","text-color":"#9747FF"}},[t._v("CIP "+t._s(i.data.filter(t=>!t.isService&&"Business"!=t.cabinClass).length>1?String(a+1).padStart(2,"0"):"")+" ")])],1)}))}},{key:"item.GivenName",fn:function({item:i}){return t._l(i.data,(function(i,s){return e("div",{key:"GivenName"+s,staticStyle:{"padding-top":"17px !important","padding-bottom":"0 !important"}},[e("div",[t._v(t._s(i.GivenName))]),e("div",[t._v(t._s(i.SurName))])])}))}},{key:"item.PassInfo",fn:function({item:i}){return t._l(i.data,(function(s,a){return e("div",{key:"passIndex"+a,staticClass:"pt-3 position-relative",staticStyle:{height:"54px"}},[e(d["a"],{staticClass:"icon-profile pt-1",attrs:{size:"18"},on:{click:function(e){return t.openPassengerComments(`PassengerComments${i.row}${a}`)}}}),s.comment||s.CommentNumber?e("i",{staticClass:"icon-circle-bold red--text icon-8",staticStyle:{position:"absolute",right:"6px",top:"14px"}}):t._e(),e("PassengerComments",{ref:`PassengerComments${i.row}${a}`,refInFor:!0,attrs:{passenger:s,dirLtr:!0,isInContract:!1},on:{"get-data":t.getData}})],1)}))}},{key:"item.Owner",fn:function({item:i}){return[e("div",{staticClass:"d-flex flex-column pt-6"},[e("span",[t._v(" "+t._s(i.data[0].Owner)+" ")])]),i.data[0].NotCleared?e("div",{staticClass:"warning--text caption"},[t._v(" Not Paid ")]):t._e()]}},{key:"item.Board",fn:function({item:i}){return["outbound"!=i.data[0].flightType?e(a["a"],{staticClass:"mt-5",attrs:{text:"","x-small":""},on:{click:function(e){return t.openBoardPrint(i)}}},[e("i",{staticClass:"icon-flag icon-20 darkGrey--text"})]):t._e()]}},{key:"item.actionsC",fn:function({item:i}){return[e(b["a"],{attrs:{"content-class":"actions",left:"","offset-y":"","min-width":"180"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e(a["a"],t._g(t._b({staticClass:"mt-5",staticStyle:{transform:"rotate(90deg)"},attrs:{color:"darkGrey",text:"","x-small":"",depressed:""}},"v-btn",s,!1),i),[e(d["a"],{staticClass:"icon-more icon-18"})],1)]}}],null,!0)},[e(f["a"],{attrs:{dense:""}},[e(y["a"],{staticClass:"caption dir-ltr"},[e(m["a"],{on:{click:function(e){return t.editFlight(i.data)}}},[e(d["a"],{staticClass:"icon-flight-simple icon-18 pr-2"}),t._v(" Edit Flight ")],1),e(m["a"],{on:{click:function(e){return t.editFlightDate(i.data)}}},[e(d["a"],{staticClass:"icon-calendar icon-18 pr-2"}),t._v(" Edit Actual Date & Time ")],1),e(m["a"],{attrs:{disabled:!!i.data[0].fromList},on:{click:function(e){return t.addToList(i.data)}}},[e(d["a"],{staticClass:"icon-note-add icon-18 pr-2"}),t._v(" Add Flight To List ")],1)],1)],1)],1)]}},{key:"item.vouchers",fn:function({item:i}){return[e("CipVouchersTable",{ref:"CipVouchersTable"+i.row,attrs:{dialogController:i.vouchersList,ServiceId:i.data[0].ServiceId,passType:i.data[0].cabinClass,serial:i.data[0].serial,allPass:i.data,Cip:{CipInfo:{FlightInfo:{AirlineIata:i.data[0].airline,FlightType:"outbound"==i.data[0].flightType?"DEP":"ARR",FlightNumber:i.data[0].flightNumber,DateTime:i.data[0].flightDateTime}}}},on:{"close-dialog":function(e){return t.closeVouchersDialog(i)},"open-edit-dialog":function(e){return t.openEditDialog(i,e,i.row)}}}),e("div",{staticClass:"d-flex align-center justify-start",staticStyle:{height:"54px"},on:{click:function(e){return t.openVouchersDialog(i)}}},[e(d["a"],{class:"icon-note-2 icon-18 pl-1"})],1)]}}],null,!0)}),t.showPaginate?e(C["a"],{staticClass:"my-5",attrs:{length:t.paginateLength,"total-visible":7},on:{input:t.paginate},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),e("addFlightToList",{attrs:{result:t.flightToAdd},on:{"get-data":t.getData},model:{value:t.addToListDialog,callback:function(e){t.addToListDialog=e},expression:"addToListDialog"}}),e("editFlightDate",{attrs:{result:t.flightToChangeDate},model:{value:t.editFlightDateDialog,callback:function(e){t.editFlightDateDialog=e},expression:"editFlightDateDialog"}}),e("editFlightInfo",{attrs:{result:t.flightToEdit},on:{"get-data":t.getData,"add-to-list":function(e){return t.addToListAfterEdit(t.flightToEdit)}},model:{value:t.flightToEditDialog,callback:function(e){t.flightToEditDialog=e},expression:"flightToEditDialog"}})],1)},D=[],P=i("60a3"),$=i("3817"),k=i("c514"),A=i("a69a"),N=i("f6fc"),j=i("7544"),F=i("fdb5"),E=i("15d2"),T=i("7006"),L=i("5df0"),M=i("3dd8"),R=i("5c1f"),B=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),G=function(){return G=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var a in e=arguments[i],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},G.apply(this,arguments)},H=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},V=function(t,e,i,s){function a(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,n){function r(t){try{l(s.next(t))}catch(e){n(e)}}function o(t){try{l(s["throw"](t))}catch(e){n(e)}}function l(t){t.done?i(t.value):a(t.value).then(r,o)}l((s=s.apply(t,e||[])).next())}))},z=function(t,e){var i,s,a,n,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return l([t,e])}}function l(n){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,s&&(a=2&n[0]?s["return"]:n[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,n[1])).done)return a;switch(s=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){r.label=n[1];break}if(6===n[0]&&r.label<a[1]){r.label=a[1],a=n;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(n);break}a[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataLoading=!1,e.showPaginate=!1,e.drawerHandler=!1,e.selectedRow="",e.items=[],e.selected=[],e.airlines=[],e.searchAirlines="",e.Cabin="",e.FlightNumber="",e.ContractNumber="",e.PNR="",e.NationalId="",e.PassengerName="",e.PassportNo="",e.AirlineIata="",e.endDate=void 0,e.selectedLocale="fa",e.startDate=void 0,e.AirportCode=null,e.flightToAdd=null,e.flightToChangeDate=null,e.flightToEdit=null,e.FlightType=null,e.shift=1,e.page=1,e.paginateLength=0,e.dateType=0,e.day=null,e.currentShiftDates=[],e.notPaginated=[],e.allPaginated=[],e.groupedResults={},e.addToListDialog=!1,e.editFlightDateDialog=!1,e.flightToEditDialog=!1,e.headers=[{text:"#",value:"row",align:"center",sortable:!1,width:50},{text:"",value:"passType",sortable:!1,align:"end",width:100},{text:"Passenger's Name",value:"GivenName",sortable:!1,width:150},{text:"Info",value:"PassInfo",sortable:!1,width:30},{text:"Status",value:"status",align:"center",sortable:!1,width:50},{text:"",value:"lomStatus",align:"center",width:30,sortable:!1},{text:"",value:"vipStatus",align:"center",width:30,sortable:!1},{text:"Airport",value:"Airport",align:"start",sortable:!1,width:80},{text:"Airline",value:"airline",align:"center",sortable:!1,width:50},{text:"Flight No",value:"flightNumber",align:"center",sortable:!1,width:80},{text:"Date",value:"Time",align:"center",sortable:!1,width:100},{text:"Contract No.",value:"serial",align:"center",width:80,sortable:!1},{text:"User",value:"Owner",align:"end",width:150,sortable:!1},{text:"Board",value:"Board",align:"center",width:50,sortable:!1},{text:"",value:"actionsC",sortable:!1,width:5,align:"center"},{text:"Voucher",value:"vouchers",sortable:!1,width:60,align:"center"}],e}return B(e,t),e.prototype.openEditDialog=function(t,e,i){this.$set(t,"vouchersList",!1),this.$refs.passengersDrawer.editState(e.item,e.index,i),this.drawerHandler=!this.drawerHandler},e.prototype.closeVouchersDialog=function(t){this.$set(t,"vouchersList",!1)},e.prototype.openVouchersDialog=function(t){this.$set(t,"vouchersList",!0)},e.prototype.openVouchersPrint=function(t){this.$refs["CipVouchersTable".concat(t.row)].openLastPrint(t.editIndex)},e.prototype.openVouchersPrintNew=function(t){this.$refs["CipVouchersTable".concat(t.row)].openLastPrintNew(t.editIndex)},e.prototype.removeSelected=function(t){var e=this.selected.findIndex((function(e){return t.searchKey===e}));this.$delete(this.selected,e)},e.prototype.updateSelected=function(t){this.selected=t},e.prototype.paginate=function(){return V(this,void 0,void 0,(function(){var t,e,i,s,a,n,r,o;return z(this,(function(l){for(this.items.splice(0),this.selected.splice(0),t=0,e=function(t,e,i){return t.slice(i*e,i*e+e)},i=function(t){return"".concat(t.GivenName," ").concat(t.GivenName.toLowerCase()," ").concat(t.GivenName.toUpperCase()," ").concat(t.SurName," ").concat(t.SurName.toLowerCase()," ").concat(t.SurName.toUpperCase()," ").concat(t.serviceName," ").concat(t.serviceName.toLowerCase()," ").concat(t.serviceName.toUpperCase()," ").concat(t.PassengerId)},s=function(e){var s={};a.items.push({data:a.cnLodash.sortBy(e.map((function(a){return e.length>1&&a.isService&&(s[a.serviceName]?s[a.serviceName]+=1:s[a.serviceName]=1,e.filter((function(t){return t.serviceName.includes(a.serviceName)})).length>1&&(a.serviceName=a.serviceName+" "+String(s[a.serviceName]).padStart(2,"0"))),a.searchKey="".concat(i(a)," ").concat(t),a.row=t,a})),[function(t){return t.isService}]),inProcess:e.some((function(t){return t.ticket&&JSON.parse(t.ticket)&&"inProcess"==JSON.parse(t.ticket)})),row:t,vouchersList:!1}),a.selected=[],t+=1},a=this,n=0,r=e(this.groupedResults,20,this.page-1);n<r.length;n++)o=r[n],s(o);return[2]}))}))},e.prototype.getData=function(t){return void 0===t&&(t=!0),V(this,void 0,void 0,(function(){var e,i;return z(this,(function(s){switch(s.label){case 0:return this.dataLoading=!0,e=this.$store.state.baseUrl+"report/cipmanifest?StartDate="+this.startDate+"&EndDate="+this.endDate,e+="&DateType="+(1==this.dateType?0:1),e+=this.AirlineIata?"&Airline="+this.AirlineIata:"",e+=this.AirportCode?"&Airport="+this.AirportCode.airportCode:"",e+=this.FlightNumber?"&FlightNumber="+this.FlightNumber:"",e+=this.Cabin?"&CabinClass="+this.Cabin:"",e+=this.NationalId?"&NationalId="+this.NationalId:"",e+=this.PassengerName?"&PassengerName="+this.PassengerName:"",e+=this.PassportNo?"&PassportNo="+this.PassportNo:"",e+=this.FlightType?"&FlightType="+this.FlightType:"",e+=this.ContractNumber?"&ContractNo="+this.ContractNumber:"",e+=this.PNR?"&PNR="+this.PNR:"",t&&(this.page=1),[4,this.axios.get(e)];case 1:return i=s.sent(),1==this.dateType?this.groupedResults=Object.values(this.cnLodash.sortBy(this.cnLodash.groupBy(i.data.Items,"serial"),[function(t){return i.data.Items.indexOf(t[0])}])):this.groupedResults=Object.values(this.cnLodash.sortBy(this.cnLodash.groupBy(i.data.Items,"serial"),[function(t){return t[0].serial}]).reverse()),this.groupedResults=this.cnLodash.sortBy(this.groupedResults,[function(t){return t.isService}]),this.paginateLength=Math.ceil(this.groupedResults.length/20),this.paginateLength>1?this.showPaginate=!0:this.showPaginate=!1,[4,this.paginate()];case 2:return s.sent(),this.dataLoading=!1,[2]}}))}))},e.prototype.editFlight=function(t){this.flightToEdit={CipItineraries:[],FlightInfo:{DateTime:t[0].flightDateTime,FlightNumber:t[0].flightNumber,AirportCode:t[0].airport,AirportFa:"",AirportEn:"",AirlineIata:t[0].airline,AirlineEn:"",AirlineFa:"",MainAirport:t[0].cipAirport}};for(var e=0,i=t;e<i.length;e++){var s=i[e];this.flightToEdit.CipItineraries.push({SessionId:s.sessionId,CombinationId:s.combinationId,RecommendationId:s.recommendationId,SubsystemId:s.SubsystemId})}this.flightToEditDialog=!0},e.prototype.editFlightDate=function(t){this.flightToChangeDate={CipItineraries:[]};for(var e=0,i=t;e<i.length;e++){var s=i[e];this.flightToChangeDate.CipItineraries.push({SessionId:s.sessionId,CombinationId:s.combinationId,RecommendationId:s.recommendationId,SubsystemId:s.SubsystemId})}this.editFlightDateDialog=!0},e.prototype.openPassengerComments=function(t){this.$refs[t][0].open()},e.prototype.addToListAfterEdit=function(t){this.flightToAdd=t,this.addToListDialog=!0},e.prototype.addToList=function(t){this.flightToAdd={CipItineraries:[],FlightInfo:{DateTime:t[0].flightDateTime,FlightNumber:t[0].flightNumber,FlightType:t[0].flightType,AirportCode:t[0].airport,AirportFa:"",AirportEn:"",AirlineIata:t[0].airline,AirlineEn:"",AirlineFa:"",MainAirport:t[0].cipAirport}};for(var e=0,i=t;e<i.length;e++){var s=i[e];this.flightToAdd.CipItineraries.push({SessionId:s.sessionId,CombinationId:s.combinationId,RecommendationId:s.recommendationId,SubsystemId:s.SubsystemId})}this.addToListDialog=!0},e.prototype.openBoardPrint=function(t){var e={passengers:t.data.filter((function(t){return!t.isService})),flightNo:t.data[0].airline+t.data[0].flightNumber};sessionStorage.setItem("boardData",JSON.stringify(e));var i=this.$router.resolve({name:"boardpassengers"});window.open(i.href,"_blank")},e.prototype.rowClass=function(t){return t.data[0].NotCleared&&"counter"==t.data[0].roleType?"orange lighten-4":""},e.prototype.mounted=function(){var t=this;this.dateType=Number(this.$store.state.authStore.base.cipManifestDateType),this.$route.query.flightNumber?(this.AirlineIata=this.$route.query.airline,this.airlines.push({iata:this.AirlineIata,name:""}),this.FlightNumber=this.$route.query.flightNumber,this.FlightType=this.$route.query.flightType,this.startDate=this.$route.query.flightDateTime,this.endDate=this.$route.query.flightDateTime,this.getData()):0==this.dateType?(this.day=1,this.shift=null,this.currentDay()):this.currentShift(),setTimeout((function(){t.$vuetify.rtl=!1}),500)},e.prototype.changeShift=function(){this.day=null,1==this.shift?this.currentShift():2==this.shift?this.nextShift():this.prevShift()},e.prototype.changeDay=function(){this.shift=null,1==this.day?this.currentDay():2==this.day?this.nextDay():this.prevDay()},e.prototype.currentDay=function(){var t=(new this.$persianDate).calendar("g").toString();this.startDate=t+" 00:00",this.endDate=t+" 23:59",this.getData()},e.prototype.prev20Days=function(){var t=(new this.$persianDate).calendar("g").subDay(20).toString();this.startDate=t+" 00:00",this.endDate=t+" 23:59",this.getData()},e.prototype.nextDay=function(){var t=(new this.$persianDate).calendar("g").addDay(1).toString();this.startDate=t+" 00:00",this.endDate=t+" 23:59",this.getData()},e.prototype.prevDay=function(){var t=(new this.$persianDate).calendar("g").subDay(1).toString();this.startDate=t+" 00:00",this.endDate=t+" 23:59",this.getData()},e.prototype.currentShift=function(){var t=(new this.$persianDate).toString("HH"),e=(new this.$persianDate).calendar("g").toString(),i=(new this.$persianDate).calendar("g").addDay(1).toString(),s=(new this.$persianDate).calendar("g").subDay(1).toString();8<=parseInt(t)&&parseInt(t)<19?(this.startDate=e+" 08:00",this.endDate=e+" 18:59"):(this.startDate=parseInt(t)>=19?e+" 19:00":s+" 19:00",this.endDate=parseInt(t)>=19?i+" 07:59":e+" 07:59"),this.currentShiftDates=[this.startDate,this.endDate],this.getData()},e.prototype.nextShift=function(){var t=(new this.$persianDate).toString("HH"),e=(new this.$persianDate).calendar("g").toString(),i=(new this.$persianDate).calendar("g").addDay(1).toString();8<=parseInt(t)&&parseInt(t)<19?(this.startDate=e+" 19:00",this.endDate=i+" 07:59"):(this.startDate=parseInt(t)>=19?i+" 08:00":e+" 08:00",this.endDate=parseInt(t)>=19?i+" 18:59":e+" 18:59"),this.getData()},e.prototype.prevShift=function(){var t=(new this.$persianDate).toString("HH"),e=(new this.$persianDate).calendar("g").toString(),i=(new this.$persianDate).calendar("g").subDay(1).toString();8<=parseInt(t)&&parseInt(t)<19?(this.startDate=i+" 19:00",this.endDate=e+" 07:59"):(this.startDate=parseInt(t)>=19?e+" 08:00":i+" 08:00",this.endDate=parseInt(t)>=19?e+" 18:59":i+" 18:59"),this.getData()},e.prototype.goToContact=function(t){var e=this.$router.resolve({name:"contracts",query:{contractNumber:t,expanded:"false"}});window.open(e.href,"_blank")},e.prototype.addShow=function(t){return V(this,void 0,void 0,(function(){var e,i,s,a,n;return z(this,(function(r){switch(r.label){case 0:if(e=this.$store.state.baseUrl+"cip/manifest/changestatus",i={SessionId:t.sessionId,CombinationId:t.combinationId,PassengerId:t.PassengerId,RecommendationId:t.recommendationId},"admin"!=this.user.roleType)return[3,8];if(0===parseInt(t.status))return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),this.$set(t,"addShowLoading",!0),[4,this.axios.post(e,G(G({},i),{Status:0}))];case 2:return a=r.sent(),a.data.Success?(this.$set(t,"addShowLoading",!1),this.$toast.success("Removed show successfully"),this.getData(!1)):(this.$set(t,"addShowLoading",!1),this.$toast.error("Error removing show")),[3,4];case 3:return s=r.sent(),console.log(s),this.$toast.error("Error removing show"),this.$set(t,"addShowLoading",!1),[3,4];case 4:return[3,8];case 5:return r.trys.push([5,7,,8]),this.$set(t,"addShowLoading",!0),[4,this.axios.post(e,G(G({},i),{Status:1}))];case 6:return a=r.sent(),a.data.Success?(this.$set(t,"addShowLoading",!1),this.$toast.success("Passenger show done successfully"),this.getData(!1)):(this.$set(t,"addShowLoading",!1),this.$toast.error("Error adding show")),[3,8];case 7:return n=r.sent(),console.log(n),this.$toast.error("Error adding show"),this.$set(t,"addShowLoading",!1),[3,8];case 8:return[2]}}))}))},e.prototype.searchAirlinesChanged=function(t){var e=this;t&&t.length>1&&this.axios(this.$store.state.baseUrl+"airlines?name="+t).then((function(t){t.data.Items.forEach((function(t){e.$set(t,"searchAirlines",t.name+t.iata)})),e.airlines=t.data.Items}))},Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),e.prototype.emptySelected=function(){this.selected.length?this.drawerHandler=!0:this.drawerHandler=!1},e.prototype.closeDrawer=function(t){this.drawerHandler=!1,this.selected.splice(0),t&&this.getData(!1)},H([Object(P["e"])("searchAirlines")],e.prototype,"searchAirlinesChanged",null),e=H([Object(P["a"])({components:{NumberField:k["a"],AppAriportSelect:$["a"],addFlightToList:F["a"],editFlightDate:E["a"],PassengerComments:N["a"],editFlightInfo:T["a"],CipVouchersTable:A["a"],PassengersDrawer:j["a"],datePicker:R["b"]}})],e),e}(Object(P["b"])(L["a"],M["a"])),W=U,q=W,K=(i("aa42"),i("2877")),Y=Object(K["a"])(q,O,D,!1,null,"b7c9a3ce",null);e["default"]=Y.exports},c372:function(t,e,i){"use strict";i("6ab5")},c80f:function(t,e,i){},d186:function(t,e,i){"use strict";i("1f7a")},e466:function(t,e,i){},ea57:function(t,e,i){},f14c:function(t,e,i){},f6fc:function(t,e,i){"use strict";var s=i("8336"),a=i("b0af"),n=i("99d9"),r=i("cc20"),o=i("62ad"),l=i("169a"),c=i("132d"),u=i("490a"),p=i("0fd9"),d=i("a844"),h=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(l["a"],{staticClass:"theme-card moreRadius button",attrs:{"max-width":"700","retain-focus":!1},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(a["a"],{staticClass:"moreRadius button",class:1==t.dirLtr?"dir-ltr":"dir-rtl",attrs:{flat:""}},[e("div",{staticClass:"d-flex pa-4 justify-space-between align-start"},[e("div",{staticClass:"text-start black--text d-lg-flex align-lg-center"},[e("div",{staticClass:"pb-3 pb-lg-0"},[t._v(" "+t._s(1==t.dirLtr?"Info / Message":t.$t("information")+" / "+t.$t("message"))+" ")]),e(r["a"],{staticClass:"lightButtons",class:1==t.dirLtr?"ml-lg-3 ml-0":"mr-lg-3 mr-0",attrs:{label:""}},[t._v(t._s(t.namePrefix)+" "+t._s(t.passenger.GivenName)+" "+t._s(t.passenger.SurName))])],1),e(c["a"],{staticClass:"icon-remove icon-24 theme-element-bg-light pa-1 rounded-lg w-fit-content d-inline-block",on:{click:function(e){t.dialog=!1}}})],1),e(n["b"],[e(p["a"],{staticClass:"border--bottom--dashed mt-2"},[e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"Passport No":t.$t("passportNumber"))+" ")]),e("div",[t._v(" "+t._s(t.passenger.PassportNO)+" ")])]),e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"Nationality/ID":t.$t("nationality")+" / "+t.$t("nationalId"))+" ")]),e("div",[t._v(t._s(t.passenger.Nationality)+"/"+t._s(t.passenger.NationalId))])]),e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"Age":t.$t("ageGroup"))+" ")]),e("div",[t._v(" "+t._s(t._f("human")(t.passenger.PassengerTypeCode,""+(1==t.dirLtr?"en":"fa")))+" ")])]),e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"BirthDate":t.$t("birthDate"))+" ")]),e("div",["IR"==t.passenger.Nationality?[t._v(" "+t._s(t.getDateFormat(t.passenger.BirthDate.split("T")[0],"jYYYY/jMM/jDD","j"))+" ")]:[t._v(" "+t._s(t.getDateFormat(t.passenger.BirthDate.split("T")[0],"YYYY/MM/DD","g"))+" ")]],2)]),e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"PassportExpireDate":t.$t("passportExpire"))+" ")]),e("div",[t._v(" "+t._s(t.getDateFormat(t.passenger.PassportExpireDate.split("T")[0],"YYYY/MM/DD","g"))+" ")])])],1)],1),e(n["c"],{staticStyle:{transition:"all 0.4s"}},[t.loading?e(u["a"],{staticClass:"mx-auto d-block",attrs:{indeterminate:"",color:"blue"}}):e("div",{staticClass:"my-2 messages-area custom-scroll",class:[t.messages.length?"":"d-flex align-center justify-center",1==t.dirLtr?"pr-2":"pl-2"],attrs:{id:"messagesArea"+t.passenger.PassengerId}},[t._l(t.messages,(function(i,s){return e("div",{key:"message"+s,staticClass:"d-flex flex-column mt-3",class:i.isCurrentUserOwner?"align-end":""},[i.hideOwner?t._e():e("div",{staticClass:"mb-1 d-flex"},[e("span",{staticClass:"black--text"},[t._v(t._s(i.owner))])]),e("div",{class:`message-box ${1==t.dirLtr?"ltr":"rtl"} message-box${i.isCurrentUserOwner?"--self":"--other"}`},[e("span",[t._v(" "+t._s(i.text))]),e("span",{staticClass:"caption d-block text-end w-100"},[t._v(" "+t._s(i.date)+","+t._s(i.time))])])])})),t.messages.length?t._e():e("div",{staticClass:"h-100 d-flex flex-column align-center w-fit-content py-3 px-4 rounded-lg justify-center"},[e("div",{staticClass:"mb-2",domProps:{innerHTML:t._s(t.emojiSVG)}}),t._v(" "+t._s(1==t.dirLtr?"No comments here yet ...":t.$t("NoCommentsHereYet")+"...")+" ")])],2),e(d["a"],{staticClass:"moreRadius button mt-6",attrs:{outlined:"","hide-details":"auto",label:1==t.dirLtr?"Your message":t.$t("yourMessage"),color:"blue",rows:"1"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComment.apply(null,arguments)}},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}})],1),e(n["a"],{staticClass:"d-flex justify-end border--top--solid py-3 mx-3 px-0"},[e(s["a"],{staticClass:"moreRadius button",attrs:{depressed:"",width:"140",color:"#E8E8E8",outlined:"",height:"44","x-large":""},on:{click:function(e){t.dialog=!1}}},[e("span",{staticClass:"black--text"},[t._v(t._s(1==t.dirLtr?"Cancel":t.$t("cancel")))])]),e(s["a"],{staticClass:"moreRadius button mx-2 blue--text blue-bg-light",attrs:{depressed:"",width:"140","x-large":"",height:"44"},on:{click:t.addComment}},[t._v(t._s(1==t.dirLtr?"Add Comment":t.$t("add")))])],1)],1)],1)},f=[],m=i("3dd8"),g=i("60a3"),v=i("02d3"),y=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),b=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},C=function(t,e,i,s){function a(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,n){function r(t){try{l(s.next(t))}catch(e){n(e)}}function o(t){try{l(s["throw"](t))}catch(e){n(e)}}function l(t){t.done?i(t.value):a(t.value).then(r,o)}l((s=s.apply(t,e||[])).next())}))},x=function(t,e){var i,s,a,n,r={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return l([t,e])}}function l(n){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,s&&(a=2&n[0]?s["return"]:n[0]?s["throw"]||((a=s["return"])&&a.call(s),0):s.next)&&!(a=a.call(s,n[1])).done)return a;switch(s=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){r.label=n[1];break}if(6===n[0]&&r.label<a[1]){r.label=a[1],a=n;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(n);break}a[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialog=!1,e.loading=!1,e.newComment="",e.adminMessages=[],e}return y(e,t),e.prototype.open=function(){this.dialog=!0,this.getComments()},Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messages",{get:function(){var t=this,e=[];return this.passenger.comment&&e.push({text:this.passenger.comment,ownerType:"Passenger",isCurrentUserOwner:!1,hideOwner:!1,owner:"".concat(this.passenger.GivenName," ").concat(this.passenger.SurName)}),this.passenger.Comment&&this.isInContract&&e.push({text:this.passenger.Comment,ownerType:"Passenger",isCurrentUserOwner:!1,hideOwner:!1,owner:"".concat(this.passenger.GivenName," ").concat(this.passenger.SurName)}),this.adminMessages.map((function(i,s){var a=new Date(i.CreatedAt),n={month:"long",day:"numeric",hour:"numeric",minute:"numeric"};e.push({text:i.Comment,ownerType:"Admin",isCurrentUserOwner:t.user.accountId===i.AccountId,owner:"".concat(i.Name," ").concat(i.Family),date:a.toLocaleDateString("en-GB",n).split("at")[0],time:a.toLocaleDateString("en-GB",n).split("at")[1],hideOwner:!(!t.adminMessages[s-1]||t.adminMessages[s-1].AccountId!==i.AccountId)})})),e},enumerable:!1,configurable:!0}),e.prototype.getComments=function(){return C(this,void 0,void 0,(function(){var t,e=this;return x(this,(function(i){switch(i.label){case 0:return this.loading=!0,[4,this.timeout(500)];case 1:return i.sent(),t=1==this.isInContract?this.passenger.Id:this.passenger.ServicePassengerId,this.axios(this.$store.state.baseUrl+"report/contract/comment?ServicePassengerId="+t).then((function(t){t.data.Success&&(e.loading=!1,e.adminMessages=t.data.Items,setTimeout((function(){var t=document.querySelector("#messagesArea".concat(e.passenger.PassengerId));t.scroll({top:t.scrollHeight,behavior:"smooth"})}),500))})).catch((function(t){})),[2]}}))}))},e.prototype.addComment=function(){var t=this,e=1==this.isInContract?this.passenger.Id:this.passenger.ServicePassengerId,i=1==this.isInContract?this.service.Id:this.passenger.ServiceId;this.axios.post(this.$store.state.baseUrl+"report/contract/comment",{ServiceId:i,Type:"passenger",ServicePassengerId:e,Comment:this.newComment}).then((function(e){e.data.Success?(t.$toast.success("Comment added successfully"),t.newComment="",t.getComments()):t.$toast.error("Error adding comment")})).catch((function(e){t.$toast.error("Error adding comment")}))},Object.defineProperty(e.prototype,"namePrefix",{get:function(){return 1==this.isInContract?this.passenger.NamePrefix:"Male"==this.passenger.Gender?"Mr":"Miss"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emojiSVG",{get:function(){return'<svg width="58" height="58" viewBox="0 0 58 58" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.8507 48.4589C16.8076 48.4589 16.7605 48.4511 16.7134 48.4393C11.9899 46.9995 6.87411 41.8366 5.76385 37.3917C5.70108 37.1406 5.85408 36.8895 6.10124 36.8267C6.35233 36.7639 6.60341 36.917 6.66618 37.1641C7.69013 41.2638 12.6098 46.2109 16.9841 47.5487C17.2313 47.6233 17.3686 47.8822 17.2941 48.1294C17.2352 48.3295 17.0508 48.4589 16.8507 48.4589Z" fill="#975500"/>\n<path d="M19.1027 54.3162C19.0674 54.3162 19.0321 54.3123 18.9967 54.3044C15.0893 53.3943 10.5462 50.4754 6.53675 46.2933C2.7862 42.3859 0.357758 38.2273 0.200831 35.4418C0.185138 35.1868 0.381297 34.9632 0.640226 34.9514C0.895232 34.9357 1.11885 35.1319 1.13062 35.3908C1.27186 37.9252 3.65714 41.9504 7.20761 45.6499C11.0955 49.7065 15.4698 52.5272 19.2086 53.3982C19.4597 53.457 19.6166 53.7081 19.5578 53.9592C19.5068 54.1711 19.3145 54.3162 19.1027 54.3162Z" fill="#975500"/>\n<path d="M39.1305 13.5505C38.9226 13.5505 38.7343 13.4132 38.6793 13.2053C38.0242 10.718 35.0465 7.14793 32.3356 6.44961C32.0884 6.38684 31.9354 6.13183 32.0021 5.88075C32.0688 5.62967 32.3199 5.48059 32.571 5.54728C35.6232 6.33584 38.848 10.1845 39.5817 12.9699C39.6484 13.2171 39.4993 13.4721 39.2482 13.5388C39.209 13.5466 39.1697 13.5505 39.1305 13.5505Z" fill="#975500"/>\n<path d="M45.0035 14.3784C44.7955 14.3784 44.6072 14.2372 44.5523 14.0292C42.8065 7.15584 36.2783 1.79287 32.5513 1.12593C32.2963 1.07885 32.1315 0.839536 32.1747 0.584529C32.2218 0.329523 32.4611 0.16475 32.7161 0.207905C36.7766 0.937615 43.5872 6.46536 45.4546 13.7978C45.5174 14.0489 45.3683 14.2999 45.1172 14.3627C45.078 14.3745 45.0427 14.3784 45.0035 14.3784Z" fill="#975500"/>\n<path d="M33.4105 26.5912C34.1598 27.4189 34.8346 28.5057 34.5482 28.7921C34.2618 29.0784 33.383 28.5606 32.7122 27.8858C32.0413 27.2149 30.4367 34.3551 30.2798 34.716C30.1621 34.9867 28.2947 37.1288 27.3178 39.1649C26.9922 39.8436 27.0393 41.8915 26.9177 42.0131C26.4273 42.5035 25.8035 42.4525 24.4578 41.2638C23.1122 40.0751 22.4139 47.1564 24.0184 48.2745C26.7607 50.189 32.2453 57.7961 39.4914 57.7961C47.8752 57.7961 55.6392 49.0513 55.6392 42.633C55.6392 36.2147 53.7561 33.7823 53.8816 28.4037C53.9836 23.8489 57.2987 21.6754 57.2987 19.4C57.2987 17.4855 54.4544 17.0186 53.5207 17.0186C51.8651 17.0186 47.6202 19.1411 47.6202 24.7276C47.6202 26.9011 47.0004 28.8666 44.7759 28.8666C42.5515 28.8666 40.0681 25.8144 38.5656 23.433" fill="#ffcd49"/>\n<path d="M57.2947 19.4C57.2947 18.3603 56.4512 17.7483 55.5332 17.4031C56.6356 21.0555 51.0451 21.2125 51.0451 33.6568C51.0451 46.1011 43.799 49.7222 40.7977 50.3459C37.7965 50.9658 32.5081 51.1463 28.4829 46.207C27.2471 44.6887 25.5719 43.041 23.7084 41.4835C22.9198 42.7978 22.7511 47.3918 24.0183 48.2745C26.7606 50.189 32.2452 57.796 39.4913 57.796C47.8751 57.796 55.6391 49.0513 55.6391 42.633C55.6391 36.2147 53.756 33.7823 53.8815 28.4036C53.9835 23.8488 57.2947 21.6754 57.2947 19.4Z" fill="#ffcd49"/>\n<path d="M24.4577 41.2638C23.1121 40.0751 19.9304 36.6855 17.859 35.026C15.7875 33.3704 13.9789 33.39 12.7353 35.2182C11.4917 37.0464 15.1167 40.2555 15.9445 41.0833C17.2116 42.3505 22.4138 47.1564 24.0183 48.2784" fill="#ffcd49"/>\n<path d="M30.2799 34.7161C30.123 35.077 29.0676 35.3281 26.9687 33.0448C25.3642 31.299 21.0683 26.2813 18.5339 24.0058C15.9996 21.7304 14.0301 20.7967 12.3745 21.9893C10.719 23.182 11.6605 25.6614 13.5123 27.7328C15.8034 30.2947 18.4398 32.9075 20.9624 35.4183C22.9357 37.3799 27.4042 41.5267 26.9138 42.0171" fill="#ffcd49"/>\n<path d="M20.9662 35.4144C22.8297 37.2661 26.9098 41.0598 26.9529 41.8955C27.5414 40.9774 26.4665 38.2469 25.3287 37.2897C18.7535 31.7541 12.4019 22.8289 11.5937 23.0956C11.2485 24.3942 12.1233 26.1753 13.5121 27.7328C15.8033 30.2907 18.4396 32.9075 20.9662 35.4144Z" fill="#ffcd49"/>\n<path d="M38.5617 23.437C37.0591 21.0556 30.8997 13.3976 29.4011 11.2241C27.8985 9.05069 25.882 9.05069 24.4853 10.0354C23.0887 11.0201 22.6728 12.9856 25.8192 17.1638C27.8043 19.8002 29.4521 22.2247 33.4145 26.5951L38.0203 26.2734L38.5617 23.437Z" fill="#ffcd49"/>\n<path d="M32.7121 27.8858C32.0412 27.215 26.0898 20.1611 24.7441 18.6468C22.2215 15.8142 19.0242 9.74509 15.2108 12.4482C13.2061 13.8683 14.2928 15.928 14.8617 16.7558C15.4305 17.5836 22.8296 26.1243 23.5554 26.8462C24.2812 27.572 30.4367 34.3512 30.2837 34.7122" fill="#ffcd49"/>\n<path d="M33.4106 26.5912C34.1324 27.3876 34.7797 28.4194 34.5757 28.7529C36.9767 26.8227 31.9001 21.1498 29.0245 17.7445C26.8 15.1081 26.1919 11.7538 24.5991 9.95697C24.5599 9.98051 24.5246 10.008 24.4853 10.0315C23.0887 11.0162 22.6728 12.9817 25.8192 17.1599C27.8004 19.7963 29.4521 22.2247 33.4106 26.5912Z" fill="#ffcd49"/>\n<path d="M23.5515 26.8501C24.2773 27.5759 30.4327 34.3551 30.2797 34.716C32.1825 32.1542 24.8069 24.6256 21.2368 20.8202C18.1414 17.5208 17.6118 14.6333 14.591 13.0131C13.4689 14.3705 14.3595 16.0339 14.8577 16.7597C15.4266 17.5875 22.8296 26.1282 23.5515 26.8501Z" fill="#ffcd49"/>\n<path d="M30.1424 34.8694C29.9266 35.0028 29.4833 35.0145 28.7968 34.6183C29.3068 35.0302 29.7775 35.1872 30.1424 34.8694Z" fill="#ffcd49"/>\n<path d="M53.9562 17.7954C55.5372 17.5129 55.8158 17.6934 55.5333 17.4031C54.7644 17.1167 53.9405 17.0186 53.5168 17.0186C51.8612 17.0186 47.6164 19.1411 47.6164 24.7276C47.6164 26.9011 46.9965 28.8666 44.7681 28.8666C43.8893 28.8666 42.9752 28.3919 42.0925 27.67C46 31.9973 49.064 27.9211 49.5309 25.1278C49.9977 22.3345 49.319 18.6271 53.9562 17.7954Z" fill="#ffcd49"/>\n<path d="M24.0066 10.4552C23.0415 11.5498 23.0729 13.5114 25.8152 17.1599C27.8003 19.7963 29.448 22.2208 33.4104 26.5912C34.1597 27.419 34.8345 28.5057 34.5481 28.7921C35.2112 24.2648 28.7654 19.812 26.6704 16.3988C25.0109 13.6918 24.6814 12.0951 24.0066 10.4552Z" fill="#ffcd49"/>\n<path d="M23.5515 26.8501C24.2773 27.5759 30.4327 34.3551 30.2797 34.716C31.6372 33.747 30.7113 32.2366 28.6124 30.1377C24.3087 25.834 18.318 20.0512 15.9092 15.2885C15.6816 14.8373 15.2579 14.5039 14.7597 14.4411C13.4611 14.2724 14.4262 16.1281 14.8617 16.7597C15.4266 17.5875 22.8296 26.1282 23.5515 26.8501Z" fill="#ffcd49"/>\n<path d="M13.5121 27.7329C15.8033 30.2947 18.4396 32.9075 20.9622 35.4184C22.9356 37.38 27.4041 41.5267 26.9137 42.0171C29.6834 39.6868 16.8194 31.2637 11.5898 23.0996C11.2485 24.3903 12.1233 26.1754 13.5121 27.7329Z" fill="#ffcd49"/>\n<path d="M26.3487 42.48C26.6115 42.378 26.7488 42.2563 26.792 42.123C26.3173 42.4878 25.6935 42.3583 24.4577 41.2638C23.112 40.0751 19.9304 36.6854 17.8589 35.0259C16.9487 34.3001 16.0896 33.8961 15.3049 33.8254C16.427 34.5277 15.9052 34.7788 18.4003 36.6933C19.742 37.7212 24.6382 43.1508 26.3487 42.48Z" fill="#ffcd49"/>\n<path d="M23.0886 30.0593C24.905 32.2719 28.4516 35.9244 30.0444 34.9161C29.605 35.0652 28.6046 34.822 26.9725 33.0448C25.368 31.299 21.0721 26.2812 18.5377 24.0058C16.4859 22.1619 14.8029 21.2007 13.3591 21.5342C17.5608 22.9152 21.3663 27.9682 23.0886 30.0593Z" fill="#ffcd49"/>\n<path d="M25.0542 20.5378C27.9534 23.692 32.2571 29.9494 34.4384 28.8549C34.0814 28.9647 33.3125 28.49 32.7122 27.8859C32.0413 27.215 26.0899 20.1611 24.7442 18.6468C22.9945 16.6852 20.927 13.17 18.5496 12.0951C20.9466 13.9861 22.7042 17.9838 25.0542 20.5378Z" fill="#ffcd49"/>\n<path d="M42.0925 27.674C42.0964 27.674 42.0964 27.674 42.0925 27.674C40.739 26.5676 39.4679 24.8767 38.5577 23.4369C37.0591 21.0556 30.8997 13.3975 29.401 11.2241C28.942 10.5611 28.4399 10.1021 27.9181 9.81177C28.6164 10.8161 29.0127 12.2481 30.5937 14.0213C33.1281 16.8656 36.4431 21.9893 37.5809 23.7508C38.7147 25.5045 40.5507 29.2158 42.0925 27.674Z" fill="#ffcd49"/>\n<path d="M50.3938 52.9313C49.4523 50.6402 48.0752 49.2435 46.0862 50.5539C40.6604 54.1279 34.4187 52.9196 26.5919 46.5954C19.6126 40.95 16.0033 36.9169 12.6058 35.4575C11.7898 37.3132 15.148 40.2909 15.9405 41.0833C17.2077 42.3505 22.4098 47.1564 24.0144 48.2784C26.7567 50.193 32.2413 57.8 39.4874 57.8C43.54 57.7961 47.4397 55.7599 50.3938 52.9313Z" fill="#ffcd49"/>\n<path d="M53.8776 28.4037C53.9796 23.8489 57.2947 21.6754 57.2947 19.4C57.2947 18.7291 56.9455 18.2387 56.4512 17.8817C57.0554 19.655 55.6156 21.2282 53.4657 23.9038C51.1353 26.803 50.6214 31.3029 52.222 35.8067C53.8266 40.3105 51.8062 46.5209 48.546 48.4864C45.2859 50.4519 40.9547 59.0946 28.5535 49.3299C28.5496 49.3259 28.5496 49.3259 28.5457 49.322C27.7885 48.6198 27.0392 47.996 26.282 47.5252C21.0446 44.2807 18.059 41.3619 15.8032 38.9099C15.3599 38.4274 14.1673 36.5795 12.7471 37.1876C13.4572 38.7961 15.3677 40.5106 15.9405 41.0833C17.2077 42.3505 22.4098 47.1564 24.0144 48.2784C24.2223 48.4236 24.4499 48.6041 24.6892 48.812C24.752 48.8669 24.8147 48.9218 24.8775 48.9768C24.8932 48.9925 24.9128 49.0082 24.9285 49.0199C24.9678 49.0552 25.0109 49.0945 25.0501 49.1298C25.058 49.1376 25.0698 49.1455 25.0776 49.1572C26.7057 50.6363 28.9458 53.0843 31.6921 54.9949C31.6921 54.9949 31.696 54.9949 31.696 54.9988C31.9353 55.1675 32.1825 55.3323 32.4296 55.4892C32.4335 55.4932 32.4375 55.4932 32.4414 55.4971C32.6886 55.654 32.9396 55.807 33.1907 55.9522C33.1946 55.9522 33.1946 55.9561 33.1986 55.9561C35.0974 57.0467 37.2041 57.8 39.4796 57.8C47.8634 57.8 55.6273 49.0552 55.6273 42.6369C55.6273 36.2186 53.756 33.7863 53.8776 28.4037Z" fill="#ffcd49"/>\n<defs>\n<linearGradient id="paint0_linear_30852_197143" x1="51.5634" y1="59.4564" x2="44.6549" y2="43.2707" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint1_linear_30852_197143" x1="52.9383" y1="48.1992" x2="38.4482" y2="30.9146" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint2_linear_30852_197143" x1="14.2078" y1="36.6916" x2="22.7465" y2="42.9793" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint3_linear_30852_197143" x1="11.0989" y1="20.0496" x2="26.0805" y2="35.7299" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint4_linear_30852_197143" x1="22.5997" y1="29.361" x2="17.6473" y2="34.0263" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<linearGradient id="paint5_linear_30852_197143" x1="27.2806" y1="12.6517" x2="35.9746" y2="26.3138" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint6_linear_30852_197143" x1="18.306" y1="14.9213" x2="30.105" y2="30.8604" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint7_linear_30852_197143" x1="32.3388" y1="16.8447" x2="24.8867" y2="23.5722" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<linearGradient id="paint8_linear_30852_197143" x1="25.4839" y1="21.6375" x2="15.2374" y2="29.1284" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<linearGradient id="paint9_linear_30852_197143" x1="33.1169" y1="32.0788" x2="22.8703" y2="39.5696" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<radialGradient id="paint10_radial_30852_197143" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(46.5621 19.9174) scale(12.3013 12.3013)">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</radialGradient>\n<linearGradient id="paint11_linear_30852_197143" x1="33.7023" y1="15.5234" x2="27.3371" y2="21.423" gradientUnits="userSpaceOnUse">\n<stop offset="0.3118" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</linearGradient>\n<linearGradient id="paint12_linear_30852_197143" x1="28.8281" y1="18.721" x2="20.4446" y2="26.2765" gradientUnits="userSpaceOnUse">\n<stop offset="0.3118" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</linearGradient>\n<linearGradient id="paint13_linear_30852_197143" x1="25.9949" y1="26.8932" x2="15.6449" y2="35.5872" gradientUnits="userSpaceOnUse">\n<stop offset="0.3118" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</linearGradient>\n<linearGradient id="paint14_linear_30852_197143" x1="14.7013" y1="33.2087" x2="26.7333" y2="42.9895" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFBC47"/>\n</linearGradient>\n<linearGradient id="paint15_linear_30852_197143" x1="17.0044" y1="21.0853" x2="26.397" y2="35.3684" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFBC47"/>\n</linearGradient>\n<linearGradient id="paint16_linear_30852_197143" x1="24.3617" y1="22.1057" x2="27.0009" y2="20.0874" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<linearGradient id="paint17_linear_30852_197143" x1="37.3856" y1="30.0794" x2="33.8666" y2="13.3123" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFBC47"/>\n</linearGradient>\n<linearGradient id="paint18_linear_30852_197143" x1="29.3523" y1="46.1714" x2="24.0738" y2="51.023" gradientUnits="userSpaceOnUse">\n<stop offset="0.3118" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</linearGradient>\n<radialGradient id="paint19_radial_30852_197143" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(32.8484 30.1374) rotate(48.14) scale(35.656 32.3645)">\n<stop offset="0.6134" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</radialGradient>\n</defs>\n</svg>'},enumerable:!1,configurable:!0}),b([Object(g["c"])()],e.prototype,"passenger",void 0),b([Object(g["c"])()],e.prototype,"isInContract",void 0),b([Object(g["c"])()],e.prototype,"dirLtr",void 0),b([Object(g["c"])()],e.prototype,"service",void 0),e=b([Object(g["a"])({})],e),e}(Object(g["b"])(m["a"],v["a"])),w=_,S=w,I=(i("d186"),i("2877")),O=Object(I["a"])(S,h,f,!1,null,"7c87531e",null);e["a"]=O.exports},f823:function(t,e,i){},fdb5:function(t,e,i){"use strict";var s=i("8336"),a=i("99d9"),n=i("169a"),r=i("132d"),o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(n["a"],{attrs:{"content-class":"theme-card moreRadius button no-overflow-xy datepicker-dialog no-margin dir-ltr","max-width":"400"},on:{"click:outside":function(e){return t.$emit("input",!1)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"pa-4 d-flex align-center justify-space-between"},[e("div",[e("span",[t._v("Add to list")])]),e(r["a"],{staticClass:"icon-remove icon-18 theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.$emit("input",!1)}}})],1),e("div",{staticClass:"grey--text px-4 pb-4 text-start"},[t._v(" Are you sure you want to add this flight to the list? ")]),e(a["a"],{staticClass:"d-flex justify-end theme-element-bg-light py-3 moreRadius button"},[e(s["a"],{staticClass:"moreRadius button lightButtons",attrs:{depressed:"",width:"140",height:"44","x-large":""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Cancel ")]),e(s["a"],{staticClass:"moreRadius button mx-2 white--text",attrs:{depressed:"",width:"140",color:"buttons","x-large":"",height:"44"},on:{click:t.addToList}},[t._v("Confirm")])],1)],1)},l=[],c=i("60a3"),u=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!==typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),p=function(t,e,i,s){var a,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,i,s);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(n<3?a(r):n>3?a(e,i,r):a(e,i))||r);return n>3&&r&&Object.defineProperty(e,i,r),r},d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.addToList=function(){var t=this;this.addToListReq().then((function(){t.$toast.success("Added Flight To List Successfully"),t.$emit("get-data")})).catch((function(e){e.some((function(t){return"Flight already exists."==t}))?t.$toast.error("Flight already exists"):t.$toast.error("Error adding Flight To Listy")}))},e.prototype.addToListReq=function(){var t=this,e=[],i=[];this.result.CipItineraries.filter((function(t){var e=i.findIndex((function(e){return e.SessionId==t.SessionId&&e.CombinationId==t.CombinationId&&e.RecommendationId==t.RecommendationId&&e.SubsystemId==t.SubsystemId}));return e<=-1&&i.push(t),null}));for(var s=function(i){var s={CipItinerary:i,Type:"FromList"};e.push(new Promise((function(e,i){t.axios.post(t.$store.state.baseUrl+"report/cip/flightinfo",s).then((function(s){if(s.data.Success){var a=t.$store.state.baseUrl+"cip/flights",n={FlightNumber:t.result.FlightInfo.FlightNumber,Airline:t.result.FlightInfo.AirlineIata,Type:t.result.FlightInfo.FlightType,OrgDestAirport:t.result.FlightInfo.AirportCode,MainAirport:t.result.FlightInfo.MainAirport,Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:""},r=new t.$persianDate(t.result.FlightInfo.DateTime.split(" ")[0]).calendar("g").toString("dddd");n[r]=t.result.FlightInfo.DateTime.split(" ")[1],t.axios.post(a,n).then((function(t){e("Added Flight To List Successfully")})).catch((function(t){409==t.response.status?i("Flight already exists."):i("Error adding Flight To List")})),t.$emit("input",!1)}else i("Error adding Flight To List")})).catch((function(t){i("Error adding Flight To List")}))})))},a=0,n=i;a<n.length;a++){var r=n[a];s(r)}return Promise.all(e)},p([Object(c["c"])()],e.prototype,"value",void 0),p([Object(c["c"])()],e.prototype,"result",void 0),e=p([c["a"]],e),e}(c["d"]),h=d,f=h,m=i("2877"),g=Object(m["a"])(f,o,l,!1,null,null,null);e["a"]=g.exports}}]);