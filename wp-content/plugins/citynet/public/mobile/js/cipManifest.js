(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cipManifest"],{"0674":function(t,e,a){},"106a":function(t,e,a){"use strict";a("75dc")},"15d2":function(t,e,a){"use strict";var s=a("8336"),i=a("99d9"),n=a("62ad"),r=a("169a"),o=a("132d"),c=a("0fd9"),l=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(r["a"],{attrs:{"content-class":"theme-card moreRadius button no-overflow-xy datepicker-dialog no-margin dir-ltr","max-width":"400"},on:{"click:outside":function(e){return t.$emit("input",!1)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"pa-4 d-flex align-center justify-space-between"},[e("div",{staticClass:"text-start"},[e("span",[t._v("Edit Date & Time")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-12"},[t._v(" Please check and confirm all data ")])]),e(o["a"],{staticClass:"icon-remove icon-18 theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.$emit("input",!1)}}})],1),e(c["a"],{staticClass:"mx-0 px-4"},[e(n["a"],{staticClass:"pb-0 pl-0",attrs:{cols:"8"}},[e("date-picker",{ref:"Datepicker",attrs:{locale:t.$locale,label:"Date",startLabel:"Date",endLabel:"Date",dense:!0,"locale-config":{fa:{inputFormat:"jdddd jYYYY/jMM/jDD "},en:{inputFormat:"dddd YYYY/MM/DD "}},mode:"single",from:t.todayJ},model:{value:t.actualDate,callback:function(e){t.actualDate=e},expression:"actualDate"}})],1),e(n["a"],{staticClass:"pb-0 pr-0"},[e("AppTimePicker",{attrs:{attach:"flight-time",hourLabel:"hh",minuteLabel:"mm",label:"Time"},model:{value:t.actualTime,callback:function(e){t.actualTime=e},expression:"actualTime"}})],1)],1),e(i["a"],{staticClass:"d-flex justify-end theme-element-bg-light py-3 moreRadius button"},[e(s["a"],{staticClass:"moreRadius button lightButtons",attrs:{depressed:"",width:"140",height:"44","x-large":""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Cancel ")]),e(s["a"],{staticClass:"moreRadius button mx-2 white--text",attrs:{depressed:"",width:"140",color:"buttons","x-large":"",height:"44"},on:{click:t.changeActualDate}},[t._v("Confirm")])],1)],1)},u=[],d=a("60a3"),p=a("23c5"),h=a("5c1f"),f=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),g=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.actualDate="",e.actualTime="",e}return f(e,t),Object.defineProperty(e.prototype,"todayJ",{get:function(){return(new this.$persianDate).calendar("j").toString()},enumerable:!1,configurable:!0}),e.prototype.changeActualDate=function(){var t=this;this.changeActualDates().then((function(){t.$toast.success("Changed Flight Date Successfully"),t.$emit("input",!1)})).catch((function(e){t.$toast.error("Error Changing Flight Date")}))},e.prototype.changeActualDates=function(){var t=this,e=[],a=[];this.result.CipItineraries.filter((function(t){var e=a.findIndex((function(e){return e.SessionId==t.SessionId&&e.CombinationId==t.CombinationId&&e.RecommendationId==t.RecommendationId&&e.SubsystemId==t.SubsystemId}));return e<=-1&&a.push(t),null}));for(var s=function(a){var s={CipItinerary:a,Type:"ActualDate",ActualDateTime:i.actualDate+" "+i.actualTime};e.push(new Promise((function(e,a){t.axios.post(t.$store.state.baseUrl+"report/cip/flightinfo",s).then((function(t){t.data.Success?e():a()})).catch((function(t){a()}))})))},i=this,n=0,r=a;n<r.length;n++){var o=r[n];s(o)}return Promise.all(e)},g([Object(d["c"])()],e.prototype,"value",void 0),g([Object(d["c"])()],e.prototype,"result",void 0),e=g([Object(d["a"])({components:{AppTimePicker:p["a"],datePicker:h["b"]}})],e),e}(d["d"]),v=m,y=v,b=a("2877"),C=Object(b["a"])(y,l,u,!1,null,null,null);e["a"]=C.exports},"16f3":function(t,e,a){},"1ab1":function(t,e,a){"use strict";a("16f3")},"1f7a9":function(t,e,a){},"6a6a":function(t,e,a){"use strict";a("ea57")},"6ab5":function(t,e,a){},7006:function(t,e,a){"use strict";var s=a("c6a6"),i=a("8336"),n=a("b0af"),r=a("99d9"),o=a("cc20"),c=a("62ad"),l=a("169a"),u=a("132d"),d=a("8860"),p=a("da13"),h=a("1800"),f=a("5d23"),g=a("0fd9"),m=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(l["a"],{attrs:{"content-class":"theme-card moreRadius button no-overflow-xy datepicker-dialog no-margin dir-ltr","max-width":"600","retain-focus":!1},on:{"click:outside":function(e){return t.$emit("input",!1)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"pa-4 d-flex align-center justify-space-between"},[e("div",{staticClass:"text-start"},[e("span",[t._v("Edit Flight")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-12"},[t._v(" Please check and confirm all data ")])]),e(u["a"],{staticClass:"icon-remove icon-18 theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.$emit("input",!1)}}})],1),e("div",[e(n["a"],{staticClass:"moreRadius button pa-4",attrs:{flat:"",color:"white"}},[e(g["a"],{staticClass:"mx-0"},[e(c["a"],{staticClass:"position-relative pb-0 px-2",attrs:{cols:"12"}},[e("AppAriportSelect",{attrs:{onlyShowAirports:!0,position:"org",errors:t.valueErrors.AirportCode,dense:!0,lang:"en",showDefaultCitites:!1,label:"airport"},model:{value:t.FlightInfo.AirportCode,callback:function(e){t.$set(t.FlightInfo,"AirportCode",e)},expression:"FlightInfo.AirportCode"}})],1),e(c["a"],{staticClass:"position-relative pb-0 px-2",attrs:{cols:"3"}},[e("number-field",{attrs:{label:"Flight No.",height:40,lang:"en",dense:"",errors:t.valueErrors.FlightNumber,noDot:!0},model:{value:t.FlightInfo.FlightNumber,callback:function(e){t.$set(t.FlightInfo,"FlightNumber",e)},expression:"FlightInfo.FlightNumber"}})],1),e(c["a"],{staticClass:"position-relative pb-0 px-2",attrs:{cols:"3"}},[e("AppTimePicker",{attrs:{hourLabel:"hour",minuteLabel:"minute",label:"Time"},model:{value:t.FlightInfo.Time,callback:function(e){t.$set(t.FlightInfo,"Time",e)},expression:"FlightInfo.Time"}})],1),e(c["a"],{staticClass:"position-relative pb-0 px-2",attrs:{cols:"6"}},[e(s["a"],{staticClass:"cip-airline moreRadius input",attrs:{dense:"",outlined:"",label:"Airline","hide-no-data":"","hide-details":"auto",items:t.airlines,"item-text":"searchAirlines","cache-items":!1,"item-value":"iata","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll horizontal-center"},"return-object":"","error-messages":t.valueErrors.AirlineIata,"append-icon":"icon-chevron-down icon-18",attach:".cip-airline","search-input":t.searchAirlines},on:{click:function(e){t.FlightInfo.AirlineIata=""},"update:searchInput":function(e){t.searchAirlines=e},"update:search-input":function(e){t.searchAirlines=e}},scopedSlots:t._u([{key:"item",fn:function(a){return[e(d["a"],{staticClass:"pa-0",attrs:{width:"100%"}},[e(p["a"],{staticClass:"pa-0"},[a.item.iata?e(h["a"],{staticClass:"ma-0"},[e(o["a"],{staticClass:"white--text",attrs:{label:"",small:"",color:"#d50c6a"}},[t._v(t._s(a.item.iata))])],1):t._e(),e(f["a"],{},[e(f["c"],{staticClass:"mb-0"},[t._v(t._s(a.item.name))])],1)],1)],1)]}},{key:"selection",fn:function(a){return[e("span",{staticClass:"caption"},[t._v(t._s(a.item.name))]),a.item.iata?e("span",{},[e(o["a"],{staticClass:"caption white--text",attrs:{label:"",small:"",color:"#d50c6a"}},[t._v(t._s(a.item.iata))])],1):t._e()]}}],null,!0),model:{value:t.FlightInfo.AirlineIata,callback:function(e){t.$set(t.FlightInfo,"AirlineIata",e)},expression:"FlightInfo.AirlineIata"}})],1)],1)],1)],1),e(r["a"],{staticClass:"d-flex justify-end theme-element-bg-light py-3 moreRadius button"},[e(i["a"],{staticClass:"moreRadius button lightButtons",attrs:{depressed:"",width:"140",height:"44","x-large":""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Cancel ")]),e(i["a"],{staticClass:"moreRadius button mx-2 white--text",attrs:{depressed:"",width:"140",color:"buttons","x-large":"",loading:t.loading,height:"44"},on:{click:t.setDataForEdit}},[t._v("Confirm")])],1)],1)},v=[],y=a("60a3"),b=a("3817"),C=a("23c5"),x=a("b5ae"),_=a("c514"),w=a("5c1f"),D=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),I=function(){return I=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++)for(var i in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},I.apply(this,arguments)},S=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},k=function(t,e,a,s){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,n){function r(t){try{c(s.next(t))}catch(e){n(e)}}function o(t){try{c(s["throw"](t))}catch(e){n(e)}}function c(t){t.done?a(t.value):i(t.value).then(r,o)}c((s=s.apply(t,e||[])).next())}))},P=function(t,e){var a,s,i,n,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return c([t,e])}}function c(n){if(a)throw new TypeError("Generator is already executing.");while(r)try{if(a=1,s&&(i=2&n[0]?s["return"]:n[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,n[1])).done)return i;switch(s=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){r.label=n[1];break}if(6===n[0]&&r.label<i[1]){r.label=i[1],i=n;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(n);break}i[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showForm=!1,e.loading=!1,e.searchAirlines="",e.airlines=[],e.timeM="",e.FlightInfo={DateTime:"",FlightNumber:"",AirportCode:{airportCode:""},AirportFa:"",AirportEn:"",AirlineIata:"",AirlineEn:"",AirlineFa:"",Time:"",Date:""},e}return D(e,t),e.prototype.setDataForEdit=function(){return k(this,void 0,void 0,(function(){var t,e,a,s,i,n=this;return P(this,(function(r){switch(r.label){case 0:return t={name:""},e={airportNameEn:""},this.FlightInfo.AirlineIata.name?[3,2]:[4,this.axios(this.$store.state.baseUrl+"airlines?name="+this.FlightInfo.AirlineIata.iata)];case 1:a=r.sent(),t=a.data.Items.find((function(t){return t.iata===n.FlightInfo.AirlineIata.iata})),r.label=2;case 2:return this.FlightInfo.AirportCode.airportNameEn?[3,4]:[4,this.axios(this.$store.state.baseUrl+"airportlist?q="+this.FlightInfo.AirportCode.airportCode)];case 3:s=r.sent(),e=s.data.Items.find((function(t){return t.airportCode===n.FlightInfo.AirportCode.airportCode})),r.label=4;case 4:return i={CipItineraries:this.result.CipItineraries,FlightInfo:I(I({},this.FlightInfo),{AirportCode:this.FlightInfo.AirportCode.airportCode,AirlineIata:this.FlightInfo.AirlineIata.iata,AirportEn:this.FlightInfo.AirportCode.airportNameEn?this.FlightInfo.AirportCode.airportNameEn:e.airportNameEn,AirlineEn:this.FlightInfo.AirlineIata.name?this.FlightInfo.AirlineIata.name:t.name,DateTime:this.FlightInfo.Date+" "+this.FlightInfo.Time}),Type:"FlightInfo"},this.loading=!0,this.editItems(i).then((function(){n.$toast.success("Edited Flight Successfully"),n.$emit("input",!1),n.$emit("get-data"),n.$emit("add-to-list"),n.loading=!1})).catch((function(){n.$toast.error("Error Editing Flight"),n.loading=!1})),[2]}}))}))},e.prototype.editItems=function(t){var e=this,a=[],s=[];t.CipItineraries.filter((function(t){var e=s.findIndex((function(e){return e.SessionId==t.SessionId&&e.CombinationId==t.CombinationId&&e.RecommendationId==t.RecommendationId&&e.SubsystemId==t.SubsystemId}));return e<=-1&&s.push(t),null})),console.log("itineraryArr",s);for(var i=function(s){a.push(new Promise((function(a,i){e.axios.post(e.$store.state.baseUrl+"report/cip/flightinfo",{CipItinerary:s,FlightInfo:t.FlightInfo,Type:t.Type}).then((function(t){t.data.Success?a():i()})).catch((function(t){i()}))})))},n=0,r=s;n<r.length;n++){var o=r[n];i(o)}return Promise.all(a)},e.prototype.touchValidation=function(){this.$v.$touch()},Object.defineProperty(e.prototype,"valueErrors",{get:function(){var t,e,a,s,i,n,r,o,c={AirlineIata:"airlines",FlightNumber:"flightNumber",AirportCode:"destination",Date:"checkOut",Time:"leavingTime"},l=this.cnLodash.cloneDeep(this.value);for(var u in l)l[u]=[],(null===(t=this.$v.value[u])||void 0===t?void 0:t.$dirty)&&((null===(e=this.$v.value[u])||void 0===e?void 0:e.required)||l[u].push(this.$t("sthIsRequired",[this.$t(c[u])])),(null===(a=this.$v.value[u])||void 0===a?void 0:a.hasOwnProperty("customRequired"))&&!(null===(s=this.$v.value[u])||void 0===s?void 0:s.customRequired)&&l[u].push(this.$t("ساعت نامعتبر است")),(null===(i=this.$v.value[u])||void 0===i?void 0:i.hasOwnProperty("minLength"))&&!(null===(n=this.$v.value[u])||void 0===n?void 0:n.minLength)&&l[u].push(this.$t("شماره پرواز شامل حداقل ۳ عدد می‌باشد")),(null===(r=this.$v.value[u])||void 0===r?void 0:r.hasOwnProperty("maxLength"))&&!(null===(o=this.$v.value[u])||void 0===o?void 0:o.maxLength)&&l[u].push(this.$t("شماره پرواز شامل حداکثر ۴ عدد می‌باشد.")));return l},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"todayJ",{get:function(){return(new this.$persianDate).calendar("j").toString()},enumerable:!1,configurable:!0}),e.prototype.resultChanged=function(){this.result&&(this.FlightInfo=this.cnLodash.cloneDeep(this.result.FlightInfo),this.FlightInfo.Date=this.FlightInfo.DateTime.split(" ")[0],this.FlightInfo.AirportCode={airportCode:this.result.FlightInfo.AirportCode},this.FlightInfo.AirlineIata={iata:this.result.FlightInfo.AirlineIata},this.FlightInfo.Time=this.FlightInfo.DateTime.split(" ")[1],this.FlightInfo.AirlineIata&&this.airlines.push(this.FlightInfo.AirlineIata))},e.prototype.searchAirlinesChanged=function(t){var e=this;t&&t.length>1&&this.axios(this.$store.state.baseUrl+"airlines?name="+t).then((function(t){t.data.Items.forEach((function(t,a){e.$set(t,"searchAirlines",t.name+t.iata)})),e.airlines=t.data.Items}))},S([Object(y["c"])()],e.prototype,"value",void 0),S([Object(y["c"])()],e.prototype,"result",void 0),S([Object(y["e"])("result")],e.prototype,"resultChanged",null),S([Object(y["e"])("searchAirlines")],e.prototype,"searchAirlinesChanged",null),e=S([Object(y["a"])({components:{AppAriportSelect:b["a"],AppTimePicker:C["a"],NumberField:_["a"],datePicker:w["b"]},validations:function(){return{value:{AirlineIata:{required:x["required"]},FlightNumber:{required:x["required"],minLength:Object(x["minLength"])(3),maxLength:Object(x["maxLength"])(4)},AirportCode:{required:x["required"]},Date:{required:x["required"]},Time:{required:x["required"],customRequired:function(t){return!(!this.value.Time||this.value.Time.includes("mm")||this.value.Time.includes("HH"))}}}}}})],e),e}(y["d"]),A=N,O=A,$=(a("a92d"),a("2877")),F=Object($["a"])(O,m,v,!1,null,"0f13af94",null);e["a"]=F.exports},"72a2":function(t,e,a){},7544:function(t,e,a){"use strict";var s=a("0798"),i=a("c6a6"),n=a("8336"),r=a("b0af"),o=a("99d9"),c=a("ac7c"),l=a("cc20"),u=a("62ad"),d=a("ce7e"),p=a("132d"),h=a("8860"),f=a("da13"),g=a("1800"),m=a("5d23"),v=a("1baa"),y=a("e449"),b=(a("7958"),a("adda")),C=a("3a66"),x=a("a9ad"),_=a("b848"),w=a("e4cd"),D=a("e707"),I=a("d10f"),S=a("7560"),k=a("a293"),P=a("dc22"),N=a("c3f0"),A=a("80d2"),O=a("58df");const $=Object(O["a"])(Object(C["a"])("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),x["a"],_["a"],w["a"],D["a"],I["a"],S["a"]);var F=$.extend({name:"v-navigation-drawer",directives:{ClickOutside:k["a"],Resize:P["a"],Touch:N["a"]},provide(){return{isInNav:"nav"===this.tag}},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:56},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:null},data:()=>({isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}),computed:{applicationProperty(){return this.right?"right":"left"},classes(){return{"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--custom-mini-variant":56!==Number(this.miniVariantWidth),"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary,...this.themeClasses}},computedMaxHeight(){if(!this.hasApp)return null;const t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},computedTop(){if(!this.hasApp)return 0;let t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},computedTransform(){return this.isActive?0:this.isBottom||this.right?100:-100},computedWidth(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp(){return this.app&&!this.isMobile&&!this.temporary},isBottom(){return this.bottom&&this.isMobile},isMiniVariant(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile(){return!this.stateless&&!this.permanent&&w["a"].options.computed.isMobile.call(this)},reactsToClick(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay(){return!this.hideOverlay&&this.isActive&&(this.isMobile||this.temporary)},styles(){const t=this.isBottom?"translateY":"translateX";return{height:Object(A["h"])(this.height),top:this.isBottom?"auto":Object(A["h"])(this.computedTop),maxHeight:null!=this.computedMaxHeight?`calc(100% - ${Object(A["h"])(this.computedMaxHeight)})`:void 0,transform:`${t}(${Object(A["h"])(this.computedTransform,"%")})`,width:Object(A["h"])(this.computedWidth)}}},watch:{$route:"onRouteChange",isActive(t){this.$emit("input",t)},isMobile(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!t)},permanent(t){t&&(this.isActive=!0)},showOverlay(t){t?this.genOverlay():this.removeOverlay()},value(t){this.permanent||(null!=t?t!==this.isActive&&(this.isActive=t):this.init())},expandOnHover:"updateMiniVariant",isMouseover(t){this.updateMiniVariant(!t)}},beforeMount(){this.init()},methods:{calculateTouchArea(){const t=this.$el.parentNode;if(!t)return;const e=t.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}},closeConditional(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend(){return this.genPosition("append")},genBackground(){const t={height:"100%",width:"100%",src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img(t):this.$createElement(b["a"],{props:t});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[e])},genDirectives(){const t=[{name:"click-outside",value:{handler:()=>{this.isActive=!1},closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||t.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),t},genListeners(){const t={mouseenter:()=>this.isMouseover=!0,mouseleave:()=>this.isMouseover=!1,transitionend:t=>{if(t.target!==t.currentTarget)return;this.$emit("transitionend",t);const e=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}};return this.miniVariant&&(t.click=()=>this.$emit("update:mini-variant",!1)),t},genPosition(t){const e=Object(A["s"])(this,t);return e?this.$createElement("div",{staticClass:"v-navigation-drawer__"+t},e):e},genPrepend(){return this.genPosition("prepend")},genContent(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},onRouteChange(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;const t=Number(this.miniVariant?this.miniVariantWidth:this.width);return isNaN(t)?this.$el.clientWidth:t},updateMiniVariant(t){this.expandOnHover&&this.miniVariant!==t&&this.$emit("update:mini-variant",t)}},render(t){const e=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||Object(A["s"])(this,"img"))&&e.unshift(this.genBackground()),t(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),e)}}),j=a("490a"),T=a("0fd9"),R=a("b73d"),M=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.drawer?e(F,{attrs:{id:"drawer",fixed:"",right:"",stateless:"",floating:"",height:"100vh",width:"500px","hide-overlay":""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[0==t.state?e(r["a"],{attrs:{flat:""}},[e("div",{staticClass:"px-6 pt-6 pb-2 d-flex align-center justify-space-between"},[e("div",{staticClass:"text-start"},[e("span",{staticClass:"headline"},[t._v("Add Voucher & LOM")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-13"},[t._v(" Please check and confirm all the specifications below. ")])]),e(p["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e("div",{staticClass:"pa-6 d-flex align-center flex-column"},[e(i["a"],{ref:"passengersSelect",staticClass:"moreRadius button w-100 passengers-select",attrs:{outlined:"",height:"44px",items:t.selectPassengers,"item-text":"searchKey","item-value":"searchKey","hide-details":"auto","append-icon":"icon-Search icon-18",attach:".passengers-select",multiple:"","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"menu-shadow moreRadius button passengers-select"},block:"",dense:""},on:{focus:function(e){t.searchLabel=""},blur:function(e){t.searchLabel="Passengers"}},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(t.searchLabel)+" ")]},proxy:!0},{key:"item",fn:function({item:a,on:s,attrs:i}){return[e(f["a"],t._g(t._b({scopedSlots:t._u([{key:"default",fn:function({active:s}){return[e(g["a"],{staticClass:"ma-0"},[e(c["a"],{attrs:{"input-value":s,ripple:!1},on:{change:t.updateSelected}})],1),e(m["a"],[e(m["c"],[["CIP"].includes(a.serviceName)?e("div",{staticClass:"font-size-13 mx-2 text-start"},[t._v(" "+t._s(t._f("titleCase")(a.GivenName))+" "+t._s(t._f("titleCase")(a.SurName))+" ")]):e("div",{staticClass:"font-size-13 mx-2 d-flex justify-space-between"},[e("span",[t._v(t._s(t._f("titleCase")(a.GivenName))+" "+t._s(t._f("titleCase")(a.SurName)))]),e("span",{staticClass:"darkGrey--text"},[t._v(t._s(t._f("titleCase")(a.serviceName)))])])])],1)]}}],null,!0)},"v-list-item",i,!1),s))]}},{key:"selection",fn:function(){},proxy:!0},{key:"append-item",fn:function(){return[e(n["a"],{staticClass:"blue-bg-light",attrs:{block:"",depressed:""},on:{click:t.closePassengersSelect}},[e(m["a"],[e(m["c"],[e("div",{staticClass:"font-size-14 mx-2 text-center blue--text"},[t._v(" Close ")])])],1)],1)]},proxy:!0}],null,!1,2193691786),model:{value:t.selectedPassengers,callback:function(e){t.selectedPassengers=e},expression:"selectedPassengers"}})],1),e("div",{staticClass:"pl-2"},[e("div",{staticClass:"pb-2 custom-scroll scroll-element dir-rtl"},[t.items.persons&&t.items.persons.length?[e("div",{staticClass:"d-flex justify-space-between align-center pb-3 px-6 dir-ltr"},[e("div",{staticClass:"text-start w-100 font-size-16 font-weight-500 darkGrey--text d-flex justify-space-between align-center"},[e("span",[e("span",{staticClass:"pr-2"},[t._v("#")]),t._v(" Passengers ("+t._s(t.items.persons.length)+")")]),e(R["a"],{staticClass:"d-inline-flex align-center mr-5",attrs:{depressed:"","x-small":"",flat:"",ripple:!1,"hide-details":"",loading:t.vipLoading,color:"green","true-value":1,"false-value":0,dense:"","input-value":t.items.persons.every(t=>t.vipStatus)?1:0},on:{change:t.addVIP},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("span",{staticClass:"font-size-13 font-weight-400 darkGrey--text"},[t._v("VIP")])]},proxy:!0}],null,!1,3693761260)})],1)]),e(h["a"],{staticClass:"dir-ltr"},[e(v["a"],t._l(t.items.persons,(function(a,s){return e(f["a"],{key:"ixI"+s,staticClass:"d-flex align-center py-1 px-6 darkGrey--text rounded",attrs:{dense:""}},[e("span",{staticClass:"pr-4 font-size-15"},[t._v(" "+t._s(s+1))]),e("span",{staticClass:"font-size-15"},[t._v(" "+t._s(t._f("titleCase")(a.GivenName))+" "+t._s(t._f("titleCase")(a.SurName)))]),e("span",{staticClass:"ml-auto d-flex align-center"},[e(n["a"],{staticClass:"mr-1",class:a.lomStatus?"green-bg green--text":"theme-element-bg darkGrey--text",attrs:{depressed:"",loading:a.loadingLOM,text:!a.lomStatus,small:"",height:"24","max-width":"60"},on:{click:function(e){return t.addLOM(a)}},scopedSlots:t._u([{key:"loader",fn:function(){return[e(j["a"],{attrs:{indeterminate:"",color:"green",size:"10",width:1}})]},proxy:!0}],null,!0)},[a.lomStatus?e("i",{staticClass:"icon-tick-circle icon-16 pr-1"}):t._e(),e("span",{staticClass:"font-size-13 font-weight-400"},[t._v("LOM")])]),e(n["a"],{staticClass:"pa-0",attrs:{depressed:"","min-height":"24px","max-height":"24px",width:"24px","max-width":"24px","min-width":"24px",text:""},on:{click:function(e){return t.removeSelected(a)}}},[e("i",{staticClass:"icon-remove icon-20 darkGrey--text"})])],1)])})),1)],1)]:t._e(),t.items.services&&t.items.services.length?[e("div",{staticClass:"d-flex justify-space-between align-center pb-3 px-6 dir-ltr"},[e("div",{staticClass:"text-start w-100 font-size-16 font-weight-500 darkGrey--text d-flex justify-space-between align-center"},[e("span",[e("span",{staticClass:"pr-2"},[t._v("#")]),t._v(" Extra Services ("+t._s(t.items.services.length)+")")]),t.items.persons&&t.items.persons.length?t._e():e(R["a"],{staticClass:"d-inline-flex align-center mr-5",attrs:{depressed:"","x-small":"",flat:"",ripple:!1,"hide-details":"",color:"green","true-value":1,loading:t.vipLoading,"false-value":0,dense:"","input-value":t.items.services.every(t=>t.vipStatus)?1:0},on:{change:t.addVIP},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("span",{staticClass:"font-size-13 font-weight-400 darkGrey--text"},[t._v("VIP")])]},proxy:!0}],null,!1,3693761260)})],1)]),e(h["a"],{staticClass:"dir-ltr"},[e(v["a"],t._l(t.items.services,(function(a,s){return e(f["a"],{key:"srv"+s,staticClass:"d-flex align-center py-1 px-6 darkGrey--text rounded",attrs:{dense:""}},[e("span",{staticClass:"pr-4 font-size-15"},[t._v(" "+t._s(s+1))]),e("span",{staticClass:"font-size-15"},[t._v(" "+t._s(t._f("titleCase")(a.GivenName))+" "+t._s(t._f("titleCase")(a.SurName))+" "),e(l["a"],{staticClass:"ml-2",attrs:{color:"#009EDB1A",small:"","text-color":"#009EDB"}},[t._v(" "+t._s(t._f("titleCase")(a.serviceName))+" ")])],1),e("span",{staticClass:"ml-auto"},[e(n["a"],{staticClass:"pa-0",attrs:{depressed:"","min-height":"24px","max-height":"24px",width:"24px","max-width":"24px","min-width":"24px",text:""},on:{click:function(e){return t.removeSelected(a)}}},[e("i",{staticClass:"icon-remove icon-20 darkGrey--text"})])],1)])})),1)],1)]:t._e()],2)]),e(o["a"],{staticClass:"fixed-bottom"},[e(T["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"py-2",attrs:{cols:"12"}},[t.errorMsg?e("div",{staticClass:"px-6"},[e(s["a"],{staticClass:"moreRadius button red--text pa-3 font-size-13 w-fit-content mx-auto",attrs:{icon:"icon-danger-triangle red--text icon-18 pb-1",color:"#FEE9EC"}},[e("span",{staticClass:"px-3"},[t._v(t._s(t.errorMsg))])])],1):t._e(),e(d["a"])],1),e(u["a"],{attrs:{cols:"4"}},[e(n["a"],{staticClass:"moreRadius button has-black-content",attrs:{depressed:"",block:"",height:"44",outlined:"","x-large":"",color:"#E8E8E8"},on:{click:function(e){return t.closeDrawer(!1)}}},[t._v("Cancel")])],1),e(u["a"],[e(n["a"],{staticClass:"moreRadius button blue-bg-light blue--text",attrs:{depressed:"",block:"",height:"44",loading:t.showing},on:{click:t.addVoucher}},[t._v("Show & Add Voucher ")])],1),e(u["a"],{attrs:{cols:"2"}},[e(y["a"],{attrs:{"content-class":"actions",left:"",top:"","min-width":"180","z-index":"3032"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(n["a"],t._g(t._b({staticClass:"moreRadius button blue-bg-light blue--text",attrs:{depressed:"",block:"",height:"44",width:"44","min-width":"44","max-width":"44"}},"v-btn",s,!1),a),[e("i",{staticClass:"icon-more icon-20"})])]}}],null,!1,1149043670)},[e(h["a"],{attrs:{dense:""}},[e(v["a"],{staticClass:"caption dir-ltr"},[e(f["a"],{staticClass:"font-size-12",on:{click:function(e){t.state=4}}},[e(p["a"],{staticClass:"icon-edit icon-18 pr-2"}),t._v(" Edit voucher number ")],1)],1)],1)],1)],1)],1)],1)],1):1==t.state?e(r["a"],{staticClass:"d-flex flex-column align-center justify-center h-100",attrs:{flat:""}},[e("div",{staticClass:"px-6 pt-6 pb-2 d-flex align-center justify-space-between w-100"},[e(p["a"],{staticClass:"theme-element-bg-light pa-1 rounded w-fit-content d-inline-block icon-arrow-left mr-auto",on:{click:function(e){t.state=0}}}),e("div",{staticClass:"text-center"},[e("span",{staticClass:"headline"},[t._v("Add Voucher")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-13"},[t._v(" Please check and confirm all. ")])]),e(p["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e("AddCipVoucher",{attrs:{selected:t.selectedPassengersAsObj},on:{"change-state":t.changeState,"back-level":function(e){t.state=0}}})],1):2==t.state?e(r["a"],{staticClass:"d-flex flex-column align-center h-100",attrs:{flat:""}},[e("div",{staticClass:"pt-6 pb-2 d-flex align-center justify-space-between w-100"},[e("div",{staticClass:"px-6 w-100"},[e("span",{staticClass:"d-flex align-center justify-space-between w-100"},[e("span",{staticClass:"headline d-flex"},[e("i",{class:`${t.finalMsg.icon} ${t.finalMsg.type}--text pr-4 pb-1`}),t._v(" "+t._s("error"===t.finalMsg.type?"Error":"Confirmation")+" ")]),e(p["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e(s["a"],{staticClass:"moreRadius button red--text pa-3 mt-3 font-size-13 w-fit-content mb-6 font-size-14",attrs:{text:"",color:t.finalMsg.type}},[e("span",{staticClass:"px-3"},[t._v(t._s(t.finalMsg.text))])])],1)]),e("div",{staticClass:"px-6 w-100 pl-2"},[e("div",{staticClass:"pb-2 custom-scroll scroll-element dir-rtl"},[t.finalMsg.selected&&t.finalMsg.selected.persons&&t.finalMsg.selected.persons.length?[e("div",{staticClass:"d-flex justify-space-between align-center pb-3 px-6 dir-ltr"},[e("span",{staticClass:"text-start font-size-16 font-weight-500 darkGrey--text"},[e("span",{staticClass:"pr-2"},[t._v("#")]),t._v(" Passengers ("+t._s(t.finalMsg.selected.persons.length)+") ")]),t.finalMsg.voucherData||t.finalMsg.voucherNo?e("span",{staticClass:"text-start font-size-16 font-weight-500 darkGrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData?"Baggage tag name":"Voucher number")+" ")]):t._e()]),e(h["a"],{staticClass:"dir-ltr"},[e(v["a"],t._l(t.finalMsg.selected.persons,(function(a,s){return e(f["a"],{key:"finalMsg.selected.pr"+s,staticClass:"d-flex align-center py-1 pl-6 darkGrey--text rounded no-before",attrs:{dense:""}},[e("span",{staticClass:"pr-4 font-size-15"},[t._v(" "+t._s(s+1))]),e("span",{staticClass:"font-size-15"},[t._v(" "+t._s(t._f("titleCase")(a.GivenName))+" "+t._s(t._f("titleCase")(a.SurName)))]),e("span",{staticClass:"ml-auto d-flex align-center"},[t.finalMsg.voucherData&&t.finalMsg.voucherData.ReceiverName==`${a.GivenName} ${a.SurName}`?e("i",{staticClass:"icon-tick-circle icon-20"}):t._e(),t.finalMsg.voucherNo&&a.ticket&&JSON.parse(a.ticket)?e("span",[t._v(t._s(JSON.parse(a.ticket)))]):t._e()])])})),1)],1)]:t._e(),t.finalMsg.selected&&t.finalMsg.selected.services&&t.finalMsg.selected.services.length?[e("div",{staticClass:"d-flex justify-space-between align-center px-6 pt-4 pb-3 dir-ltr"},[e("span",{staticClass:"text-start font-size-16 font-weight-500 darkGrey--text"},[e("span",{staticClass:"pr-2"},[t._v("#")]),t._v(" Extra Services ("+t._s(t.finalMsg.selected.services.length)+") ")]),t.finalMsg.voucherNo?e("span",{staticClass:"text-start font-size-16 font-weight-500 darkGrey--text"},[t._v("Voucher number ")]):t._e()]),e(h["a"],{staticClass:"dir-ltr"},[e(v["a"],t._l(t.finalMsg.selected.services,(function(a,s){return e(f["a"],{key:"finalMsg.selected.srv"+s,staticClass:"d-flex align-center py-1 pl-6 darkGrey--text rounded no-before",attrs:{dense:""}},[e("span",{staticClass:"pr-4 font-size-15"},[t._v(" "+t._s(s+1))]),e("span",{staticClass:"font-size-15"},[t._v(" "+t._s(t._f("titleCase")(a.GivenName))+" "+t._s(t._f("titleCase")(a.SurName))+" "),e(l["a"],{staticClass:"ml-2",attrs:{color:"#009EDB1A",small:"","text-color":"#009EDB"}},[t._v(" "+t._s(t._f("titleCase")(a.serviceName))+" ")])],1),t.finalMsg.voucherNo&&a.ticket&&JSON.parse(a.ticket)?e("span",{staticClass:"ml-auto d-flex align-center"},[e("span",[t._v(t._s(JSON.parse(a.ticket)))])]):t._e()])})),1)],1)]:t._e(),t.finalMsg.voucherData?e(T["a"],{staticClass:"mx-0 dir-ltr mt-6 px-3"},[e(u["a"],{attrs:{cols:"3"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v(" Baggage ")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData.BaggageCount)+" ")])]),e(u["a"],{attrs:{cols:"2"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v("VIP")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t.finalMsg.voucherData.VipStatus?e("i",{staticClass:"icon-tick-circle icon-18"}):e("span",[t._v("--")])])]),e(u["a"],{attrs:{cols:"4"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v(" Mobile ")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData.PhoneNumber?`${t.finalMsg.voucherData.CountryAccessCode}${t.finalMsg.voucherData.PhoneNumber}`:"--")+" ")])]),e(u["a"],{attrs:{cols:"3 pr-0"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v(" Final Destination ")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData.LastAirport.airportCode)+" ")])]),e(u["a"],{attrs:{cols:"12 pr-0"}},[e("div",{staticClass:"font-weight-500 darkgrey--text text-left"},[t._v(" Description ")]),e("div",{staticClass:"text-left mt-2 darkgrey--text"},[t._v(" "+t._s(t.finalMsg.voucherData.Comment?t.finalMsg.voucherData.Comment:"--")+" ")])])],1):t._e()],2)]),e(o["a"],{staticClass:"fixed-bottom"},[e(T["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"py-2",attrs:{cols:"12"}},[e(d["a"])],1),e(u["a"],{attrs:{cols:t.finalMsg.voucherNo?12:4}},[e(n["a"],{staticClass:"moreRadius button has-black-content mx-2",attrs:{depressed:"",block:"",height:"44","max-height":"44","x-large":"",outlined:"",color:"#E8E8E8"},on:{click:function(e){return t.closeDrawer(!0)}}},[t._v("Close")])],1),t.finalMsg.voucherNo?t._e():e(u["a"],{attrs:{cols:"4"}},["success"==t.finalMsg.type?e(n["a"],{staticClass:"moreRadius button blue--text blue-bg-light mx-2",attrs:{depressed:"",block:"",height:"44","max-height":"44",color:"#E8E8E8"},on:{click:function(e){t.$emit("show-vouchers",{editIndex:t.editIndex,row:void 0!==t.finalMsg.row?t.finalMsg.row:t.selectedPassengersAsObj[0].row}),t.closeDrawer(!1)}}},[e("i",{staticClass:"icon-printer icon-18 pb-1 px-1"}),t._v("Print vouchers")]):t._e()],1),t.finalMsg.voucherNo?t._e():e(u["a"],{attrs:{cols:"4"}},["success"==t.finalMsg.type?e(n["a"],{staticClass:"moreRadius button blue--text blue-bg-light mx-2",attrs:{depressed:"",block:"",height:"44","max-height":"44",color:"#E8E8E8"},on:{click:function(e){t.$emit("show-vouchers-new",{editIndex:t.editIndex,row:void 0!==t.finalMsg.row?t.finalMsg.row:t.selectedPassengersAsObj[0].row}),t.closeDrawer(!1)}}},[e("i",{staticClass:"icon-printer icon-18 pb-1 px-1"}),t._v("Print vouchers "),e("span",{staticClass:"red white--text rounded px-1 caption",staticStyle:{position:"absolute",top:"-16px",right:"-10px"}},[t._v("new")])]):t._e()],1)],1)],1)],1):3==t.state?e(r["a"],{staticClass:"d-flex flex-column align-center justify-center h-100",attrs:{flat:""}},[e("div",{staticClass:"px-6 pt-6 pb-2 d-flex align-center justify-space-between w-100"},[e(p["a"],{staticClass:"theme-element-bg-light pa-1 rounded w-fit-content d-inline-block icon-arrow-left mr-auto",on:{click:function(e){t.state=0}}}),e("div",{staticClass:"text-center"},[e("span",{staticClass:"headline"},[t._v("Edit Voucher")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-13"},[t._v(" Please check and confirm all. ")])]),e(p["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e("EditCipVoucher",{attrs:{editItem:t.editItem},on:{"cancel-voucher":function(e){return t.closeDrawer(!1)},"change-state":t.changeState}})],1):4==t.state?e(r["a"],{staticClass:"d-flex flex-column align-center justify-center h-100",attrs:{flat:""}},[e("div",{staticClass:"px-6 pt-6 pb-2 d-flex align-center justify-space-between w-100"},[e(p["a"],{staticClass:"theme-element-bg-light pa-1 rounded w-fit-content d-inline-block icon-arrow-left mr-auto",on:{click:function(e){t.state=0}}}),e("div",{staticClass:"text-center"},[e("span",{staticClass:"headline"},[t._v("Edit Voucher Number")]),e("div",{staticClass:"pt-1 px-0 grey--text font-size-13"},[t._v(" Please check and confirm all. ")])]),e(p["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block ml-auto",on:{click:function(e){return t.closeDrawer(!1)}}})],1),e("EditVoucherNo",{attrs:{editItems:t.items},on:{"cancel-voucher":function(e){return t.closeDrawer(!1)},"change-state":t.changeState}})],1):t._e()],1):t._e()],1)},L=[],E=a("60a3"),B=a("b974"),G=a("8654"),V=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"my-5 h-100"},[e(r["a"],{staticClass:"pa-0 moreRadius button h-100",attrs:{flat:""}},[e(T["a"],{staticClass:"mx-2"},[e(u["a"],{attrs:{cols:"4"}},[e("number-field",{attrs:{height:40,dense:"",errors:t.voucherDataErrors.BaggageCount,label:"Baggage",noDot:!0},model:{value:t.voucherData.BaggageCount,callback:function(e){t.$set(t.voucherData,"BaggageCount",e)},expression:"voucherData.BaggageCount"}})],1),e(u["a"],{staticClass:"pb-1 px-2",attrs:{cols:"3"}},[e("country-code-select",{staticStyle:{"max-width":"100%"},attrs:{allCountries:!0,height:40},model:{value:t.voucherData.CountryAccessCode,callback:function(e){t.$set(t.voucherData,"CountryAccessCode",e)},expression:"voucherData.CountryAccessCode"}})],1),e(u["a"],{staticClass:"pb-1 pl-2",attrs:{cols:"5"}},[e("number-field",{attrs:{height:40,dense:"",errors:t.voucherDataErrors.PhoneNumber,hint:t.$t("mobileLength10","en"),label:"Mobile",noDot:!0},model:{value:t.voucherData.PhoneNumber,callback:function(e){t.$set(t.voucherData,"PhoneNumber",e)},expression:"voucherData.PhoneNumber"}})],1),e(u["a"],{attrs:{cols:"12"}},[e(B["a"],{staticClass:"moreRadius input passesAdd ltr-input font-size-13",attrs:{items:t.selectItems,outlined:"",autocomplete:"off",dense:"",attach:".passesAdd","error-messages":t.voucherDataErrors.ReceiverName,"menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll"},"hide-details":"auto",label:"Baggage Tag Name"},model:{value:t.voucherData.ReceiverName,callback:function(e){t.$set(t.voucherData,"ReceiverName",e)},expression:"voucherData.ReceiverName"}})],1),e(u["a"],{staticClass:"pr-2",attrs:{cols:"9"}},[e("AppAriportSelect",{attrs:{errors:t.voucherDataErrors.LastAirport,onlyShowAirports:!0,showDefaultCitites:!1,position:"org",dense:!0,lang:"en",maxWidth:"100px",attach:"add",label:"finalDest"},model:{value:t.voucherData.LastAirport,callback:function(e){t.$set(t.voucherData,"LastAirport",e)},expression:"voucherData.LastAirport"}})],1),e(u["a"],{attrs:{cols:"3"}},[e(R["a"],{staticClass:"d-flex align-center mt-2",attrs:{color:"buttons",flat:t.voucherData.VipStatus,dense:"",ripple:!1,"true-value":!0,"false-value":!1},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("span",{staticClass:"font-weight-normal font-weight-400 darkGrey--text"},[t._v("VIP")])]},proxy:!0}]),model:{value:t.voucherData.VipStatus,callback:function(e){t.$set(t.voucherData,"VipStatus",e)},expression:"voucherData.VipStatus"}})],1),e(u["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e(G["a"],{staticClass:"moreRadius input font-size-13",attrs:{outlined:"",dense:"",counter:"30",maxlength:"30","hide-details":"auto",label:"Description"},model:{value:t.voucherData.Comment,callback:function(e){t.$set(t.voucherData,"Comment",e)},expression:"voucherData.Comment"}})],1)],1),e(o["a"],{staticClass:"d-flex justify-end py-6"},[e(T["a"],{staticClass:"mx-0"},[e(u["a"],{attrs:{cols:"4"}},[e(n["a"],{staticClass:"moreRadius button has-black-content",attrs:{depressed:"",height:"44","max-height":"44",block:"","x-large":"",outlined:"",color:"#E8E8E8"},on:{click:function(e){return t.$emit("cancel-voucher")}}},[t._v("Cancel")])],1),e(u["a"],[e(n["a"],{staticClass:"moreRadius button mx-2 blue--text blue-bg-light",attrs:{depressed:"",block:"","x-large":"",height:"44",loading:t.loading},on:{click:t.editVouchers}},[t._v("Edit Voucher")])],1)],1)],1)],1)],1)},U=[],z=a("3817"),q=a("c514"),H=a("cf29"),Y=a("b5ae"),W=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),J=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},Z=function(t,e,a){if(a||2===arguments.length)for(var s,i=0,n=e.length;i<n;i++)!s&&i in e||(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},X=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.voucherData={ReceiverName:"",LastAirport:"",Comment:"",PhoneNumber:null,BaggageCount:0,VipStatus:!1,CountryAccessCode:null,Id:null},e}return W(e,t),e.prototype.created=function(){console.log("this.editItem",this.editItem),this.voucherData.Id=this.editItem.id;var t=this.editItem.documents.filter((function(t){return"baggage"==t.Type}));this.voucherData.BaggageCount=t.length?String(t[0].ServiceCount):"0",this.voucherData.VipStatus=!!this.editItem.vipCount,this.voucherData.LastAirport={airportCode:this.editItem.lastAirport},this.voucherData.Comment=t.length?t[0].Comment:"",this.editItem.contact&&(this.voucherData.PhoneNumber=this.editItem.contact.PhoneNumber,this.voucherData.CountryAccessCode=this.editItem.contact.CountryAccessCode),this.voucherData.ReceiverName=this.editItem.receiverName},e.prototype.clearModel=function(){this.voucherData.BaggageCount=0,this.voucherData.VipStatus=!1,this.voucherData.LastAirport="",this.voucherData.Comment="",this.voucherData.PhoneNumber=null,this.voucherData.CountryAccessCode=null,this.voucherData.ReceiverName=""},e.prototype.createVoucherSrvRequest=function(){var t=this.cnLodash.groupBy(this.selected,"ServiceId");console.log(t);for(var e=[],a=0,s=0,i=Object.entries(t);s<i.length;s++){var n=i[s],r=n[0],o=n[1],c=this.cnLodash.groupBy(o,"isService");e[a]={ServiceId:+r,ExtraServices:c[0]&&c[0].length&&c[1]?c[1].map((function(t){return{Id:t.PassengerId}})):c[1]?c[1].filter((function(t,e){return 0!=e})).map((function(t){return{Id:t.PassengerId}})):[],Passengers:c[0]&&c[0].length?c[0].map((function(t){return{Id:t.PassengerId}})):[{Id:c[1][0].PassengerId}]},a++}return console.log(e),e},e.prototype.editVouchers=function(){var t=this;if(this.$v.$touch(),!this.$v.$error){this.loading=!0;var e=this.$store.state.baseUrl+"contract/servicedocument";this.axios.put(e,{type:"receive",ReceiverName:this.voucherData.ReceiverName,Vip:this.voucherData.VipStatus,Services:this.editItem.services,LastAirport:this.voucherData.LastAirport.airportCode,Documents:[{Type:"baggage",Name:"",ServiceCount:parseInt(this.voucherData.BaggageCount),Comment:this.voucherData.Comment}],Contact:{PhoneTechType:"Mobile",PhoneNumber:this.voucherData.PhoneNumber?String(parseInt(this.voucherData.PhoneNumber)):null,AreaCityCode:null,CountryAccessCode:this.voucherData.PhoneNumber?this.voucherData.CountryAccessCode:null},Id:this.voucherData.Id}).then((function(e){t.$emit("change-state",{type:"success",text:"Vouchers have been successfully edited.",icon:"icon-tick-circle",selected:t.selected,row:t.editItem.row,voucherData:t.cnLodash.cloneDeep(t.voucherData)}),t.loading=!1,t.clearModel()})).catch((function(e){t.loading=!1,t.clearModel(),t.$emit("change-state",{type:"error",text:"Error editing vouchers.",icon:"icon-info-circle"})}))}},Object.defineProperty(e.prototype,"voucherDataErrors",{get:function(){var t,e,a,s,i,n={ReceiverName:"Baggage tag name",LastAirport:"Final destination",BaggageCount:"Baggage count",PhoneNumber:"Phone number"},r=this.cnLodash.cloneDeep(this.voucherData);for(var o in r)r[o]=[],(null===(t=this.$v.voucherData[o])||void 0===t?void 0:t.$dirty)&&((null===(e=this.$v.voucherData[o])||void 0===e?void 0:e.hasOwnProperty("required"))&&!(null===(a=this.$v.voucherData[o])||void 0===a?void 0:a.required)&&r[o].push(n[o]+" is required."),(null===(s=this.$v.voucherData[o])||void 0===s?void 0:s.hasOwnProperty("maxLength"))&&!(null===(i=this.$v.voucherData[o])||void 0===i?void 0:i.maxLength)&&r[o].push(n[o]+" must be at most 10 digits."));return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selected",{get:function(){return{persons:this.editItem&&this.editItem.passengers?this.editItem.passengers.map((function(t){return{GivenName:t.name,SurName:t.surname,PassengerId:t.id}})):[],services:this.editItem&&this.editItem.extraService?this.editItem.extraService.map((function(t){return{GivenName:t.name,SurName:t.surname,ServiceId:t.id,serviceName:t.serviceName}})):[]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedMerged",{get:function(){var t=[];return this.selected.persons&&(t=Z(Z([],t,!0),this.selected.persons,!0)),this.selected.services&&(t=Z(Z([],t,!0),this.selected.services,!0)),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectItems",{get:function(){return this.selectedMerged.map((function(t){return t.GivenName+" "+t.SurName}))},enumerable:!1,configurable:!0}),J([Object(E["c"])()],e.prototype,"editItem",void 0),e=J([Object(E["a"])({components:{AppAriportSelect:z["a"],NumberField:q["a"],countryCodeSelect:H["a"]},validations:function(){return{voucherData:{PhoneNumber:{maxLength:function(t){return!t||!(t&&t.length>10)}},ReceiverName:{required:Y["required"]},LastAirport:{required:Y["required"]},BaggageCount:{required:Y["required"]}}}}})],e),e}(E["d"]),K=X,Q=K,tt=(a("8db0"),a("2877")),et=Object(tt["a"])(Q,V,U,!1,null,"6feef592",null),at=et.exports,st=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"my-5 h-100 w-100"},[e(r["a"],{staticClass:"pa-0 moreRadius button h-100",attrs:{flat:""}},[e(T["a"],{staticClass:"mx-2"},[t.selected.persons&&t.selected.persons.length?e(u["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex justify-space-between pb-4 font-size-14"},[e("span",[e("span",{staticClass:"mr-6 font-weight-500",staticStyle:{width:"10px"}},[t._v("#")]),e("span",{staticClass:"font-weight-500"},[t._v("Passenger ("+t._s(t.selected.persons.length)+")")])]),e("span",{staticClass:"font-weight-400 pr-8"},[t._v("Current voucher No")])]),t._l(t.selected.persons,(function(a,s){return e("div",{key:"person"+s,staticClass:"d-flex pb-4 justify-space-between"},[e("span",[e("span",{staticClass:"mr-6 text-center d-inline-block",staticStyle:{width:"10px"}},[t._v(t._s(s+1))]),e("span",[t._v(t._s("Male"==a.Gender?"MR":"MS")+" "+t._s(a.GivenName)+" "+t._s(a.SurName))])]),a.ticket&&JSON.parse(a.ticket)?e("span",[t._v(t._s(JSON.parse(a.ticket))+" "),e(p["a"],{staticClass:"icon-remove pl-3",attrs:{size:"18"},on:{click:function(e){return t.removeObj(a,"persons")}}})],1):t._e()])}))],2):t._e(),t.selected.services&&t.selected.services.length?e(u["a"],{staticClass:"pb-0 mt-4",attrs:{cols:"12"}},[e("div",{staticClass:"d-flex justify-space-between pb-4 font-size-14"},[e("span",[e("span",{staticClass:"mr-6 font-weight-500",staticStyle:{width:"10px"}},[t._v("#")]),e("span",{staticClass:"font-weight-500"},[t._v("Services ("+t._s(t.selected.services.length)+")")])]),e("span",{staticClass:"font-weight-400 pr-8"},[t._v("Current voucher No")])]),t._l(t.selected.services,(function(a,s){return e("div",{key:"service"+s,staticClass:"d-flex pb-4 justify-space-between"},[e("span",[e("span",{staticClass:"mr-6 text-center d-inline-block",staticStyle:{width:"10px"}},[t._v(t._s(s+1))]),e("span",[t._v(t._s("Male"==a.Gender?"MR":"MS")+" "+t._s(a.GivenName)+" "+t._s(a.SurName)),e(l["a"],{staticClass:"ml-2",attrs:{color:"#009EDB1A",small:"","text-color":"#009EDB"}},[t._v(" "+t._s(t._f("titleCase")(a.serviceName))+" ")])],1)]),a.ticket&&JSON.parse(a.ticket)?e("span",[t._v(t._s(JSON.parse(a.ticket))+" "),e(p["a"],{staticClass:"icon-remove pl-3",attrs:{size:"18"},on:{click:function(e){return t.removeObj(a,"services")}}})],1):t._e()])}))],2):t._e(),e(u["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e(G["a"],{staticClass:"moreRadius input font-size-13",attrs:{outlined:"",dense:"","hide-details":"auto",label:"New Voucher Number"},model:{value:t.voucherNumber,callback:function(e){t.voucherNumber=e},expression:"voucherNumber"}})],1)],1),e(o["a"],{staticClass:"d-flex justify-end py-6"},[e(T["a"],{staticClass:"mx-0"},[e(u["a"],{attrs:{cols:"4"}},[e(n["a"],{staticClass:"moreRadius button has-black-content",attrs:{depressed:"",height:"44","max-height":"44",block:"","x-large":"",outlined:"",color:"#E8E8E8"},on:{click:function(e){return t.$emit("cancel-voucher")}}},[t._v("Cancel")])],1),e(u["a"],[e(n["a"],{staticClass:"moreRadius button mx-2 blue--text blue-bg-light",attrs:{depressed:"",block:"","x-large":"",height:"44",disabled:!t.voucherNumber,loading:t.loading},on:{click:t.editVouchers}},[t._v("Confirm")])],1)],1)],1)],1)],1)},it=[],nt=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),rt=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},ot=function(t,e,a){if(a||2===arguments.length)for(var s,i=0,n=e.length;i<n;i++)!s&&i in e||(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.voucherNumber="",e.selected=null,e}return nt(e,t),e.prototype.created=function(){console.log(this.editItems),this.selected=this.cnLodash.cloneDeep(this.editItems)},e.prototype.clearModel=function(){this.voucherNumber=""},e.prototype.removeObj=function(t,e){this.selected[e]=ot([],this.selected[e].filter((function(e){return e.PassengerId!=t.PassengerId})),!0)},e.prototype.editVouchers=function(){var t=this;this.editVoucherNo().then((function(){t.loading=!1,t.$emit("change-state",{type:"success",text:"Voucher numbers have been successfully edited.",icon:"icon-tick-circle",selected:t.selected,voucherNo:!0})})).catch((function(){t.loading=!1,t.$emit("change-state",{type:"error",text:"Error editing voucher numbers.",icon:"icon-info-circle",voucherNo:!0})}))},e.prototype.editVoucherNo=function(){var t,e,a,s,i=this;this.loading=!0;var n=this.$store.state.baseUrl+"report/cipmanifest/updatepassenger",r=[];return(null===(t=this.selected)||void 0===t?void 0:t.persons)&&(null===(e=this.selected)||void 0===e||e.persons.forEach((function(t){var e={CipItinerary:{SessionId:t.sessionId,CombinationId:t.combinationId,RecommendationId:t.recommendationId,SubsystemId:t.SubsystemId},ReferenceId:t.pnrString,Eticket:i.voucherNumber,PassengerId:t.PassengerId};r.push(new Promise((function(a,s){i.axios.post(n,e).then((function(e){e.data.Success?(a(),i.$set(t,"ticket",JSON.stringify(i.voucherNumber))):s()})).catch((function(){s()}))})))}))),(null===(a=this.selected)||void 0===a?void 0:a.services)&&(null===(s=this.selected)||void 0===s||s.services.forEach((function(t){var e={CipItinerary:{SessionId:t.sessionId,CombinationId:t.combinationId,RecommendationId:t.recommendationId,SubsystemId:t.SubsystemId},ReferenceId:t.pnrString,Eticket:i.voucherNumber,PassengerId:t.PassengerId};r.push(new Promise((function(a,s){i.axios.post(n,e).then((function(e){e.data.Success?(a(),i.$set(t,"ticket",JSON.stringify(i.voucherNumber))):s()})).catch((function(){s()}))})))}))),Promise.all(r)},Object.defineProperty(e.prototype,"itemsMerged",{get:function(){var t=[];return this.selected&&this.selected.persons&&(t=ot(ot([],t,!0),this.selected.persons,!0)),this.selected&&this.selected.services&&(t=ot(ot([],t,!0),this.selected.services,!0)),t},enumerable:!1,configurable:!0}),rt([Object(E["c"])()],e.prototype,"editItems",void 0),e=rt([Object(E["a"])({})],e),e}(E["d"]),lt=ct,ut=lt,dt=(a("1ab1"),Object(tt["a"])(ut,st,it,!1,null,"52322371",null)),pt=dt.exports,ht=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"my-5 h-100"},[e(r["a"],{staticClass:"pa-0 moreRadius button h-100",attrs:{flat:""}},[e(T["a"],{staticClass:"mx-2"},[e(u["a"],{attrs:{cols:"4"}},[e("number-field",{attrs:{height:40,dense:"",errors:t.voucherDataErrors.BaggageCount,label:"Baggage",noDot:!0},model:{value:t.voucherData.BaggageCount,callback:function(e){t.$set(t.voucherData,"BaggageCount",e)},expression:"voucherData.BaggageCount"}})],1),e(u["a"],{staticClass:"pb-1 px-2",attrs:{cols:"3"}},[e("country-code-select",{staticStyle:{"max-width":"100%"},attrs:{allCountries:!0,height:40},model:{value:t.voucherData.CountryAccessCode,callback:function(e){t.$set(t.voucherData,"CountryAccessCode",e)},expression:"voucherData.CountryAccessCode"}})],1),e(u["a"],{staticClass:"pb-1 pl-2",attrs:{cols:"5"}},[e("number-field",{attrs:{height:40,dense:"",errors:t.voucherDataErrors.PhoneNumber,hint:t.$t("mobileLength10","en"),label:"Mobile",noDot:!0},model:{value:t.voucherData.PhoneNumber,callback:function(e){t.$set(t.voucherData,"PhoneNumber",e)},expression:"voucherData.PhoneNumber"}})],1),e(u["a"],{attrs:{cols:"12"}},[e(B["a"],{staticClass:"moreRadius input passesAdd ltr-input font-size-13",attrs:{items:t.selectItems,outlined:"",autocomplete:"off",dense:"",attach:".passesAdd","error-messages":t.voucherDataErrors.ReceiverName,"menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll"},"hide-details":"auto",label:"Baggage Tag Name"},model:{value:t.voucherData.ReceiverName,callback:function(e){t.$set(t.voucherData,"ReceiverName",e)},expression:"voucherData.ReceiverName"}})],1),e(u["a"],{staticClass:"pr-2",attrs:{cols:"9"}},[e("AppAriportSelect",{attrs:{errors:t.voucherDataErrors.LastAirport,onlyShowAirports:!0,showDefaultCitites:!1,position:"org",dense:!0,lang:"en",maxWidth:"100px",attach:"add",label:"finalDest"},model:{value:t.voucherData.LastAirport,callback:function(e){t.$set(t.voucherData,"LastAirport",e)},expression:"voucherData.LastAirport"}})],1),e(u["a"],{attrs:{cols:"3"}},[e(R["a"],{staticClass:"d-flex align-center mt-2",attrs:{color:"buttons",flat:t.voucherData.VipStatus,dense:"",ripple:!1,"true-value":!0,"false-value":!1},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("span",{staticClass:"font-weight-normal font-weight-400 darkGrey--text"},[t._v("VIP")])]},proxy:!0}]),model:{value:t.voucherData.VipStatus,callback:function(e){t.$set(t.voucherData,"VipStatus",e)},expression:"voucherData.VipStatus"}})],1),e(u["a"],{staticClass:"pb-0",attrs:{cols:"12"}},[e(G["a"],{staticClass:"moreRadius input font-size-13",attrs:{outlined:"",dense:"",counter:"30",maxlength:"30","hide-details":"auto",label:"Description"},model:{value:t.voucherData.Comment,callback:function(e){t.$set(t.voucherData,"Comment",e)},expression:"voucherData.Comment"}})],1)],1),e(o["a"],{staticClass:"d-flex justify-end pt-6"},[e(T["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"py-2",attrs:{cols:"12"}},[e(d["a"])],1),e(u["a"],{attrs:{cols:"4"}},[e(n["a"],{staticClass:"moreRadius button has-black-content",attrs:{depressed:"",height:"44","max-height":"44",block:"","x-large":"",outlined:"",color:"#E8E8E8"},on:{click:function(e){return t.$emit("back-level")}}},[t._v("Edit")])],1),e(u["a"],[e(n["a"],{staticClass:"moreRadius button mx-2 blue--text blue-bg-light",attrs:{depressed:"",block:"","x-large":"",loading:t.loading,height:"44"},on:{click:t.addVouchers}},[t._v("Add Voucher")])],1)],1)],1)],1)],1)},ft=[],gt=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),mt=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},vt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.voucherData={ReceiverName:"",LastAirport:"",Comment:"",PhoneNumber:null,BaggageCount:0,VipStatus:!1,CountryAccessCode:null},e}return gt(e,t),e.prototype.created=function(){this.selected[0].airport&&(this.voucherData.LastAirport={airportCode:this.selected[0].airport})},e.prototype.clearModel=function(){this.voucherData.BaggageCount=0,this.voucherData.VipStatus=!1,this.voucherData.LastAirport="",this.voucherData.Comment="",this.voucherData.PhoneNumber=null,this.voucherData.CountryAccessCode=null,this.voucherData.ReceiverName=""},e.prototype.createVoucherSrvRequest=function(){var t=this.cnLodash.groupBy(this.selected,"ServiceId");console.log(t);for(var e=[],a=0,s=0,i=Object.entries(t);s<i.length;s++){var n=i[s],r=n[0],o=n[1],c=this.cnLodash.groupBy(o,"isService");e[a]={ServiceId:+r,ExtraServices:c[0]&&c[0].length&&c[1]?c[1].map((function(t){return{Id:t.PassengerId}})):c[1]?c[1].filter((function(t,e){return 0!=e})).map((function(t){return{Id:t.PassengerId}})):[],Passengers:c[0]&&c[0].length?c[0].map((function(t){return{Id:t.PassengerId}})):[{Id:c[1][0].PassengerId}]},a++}return console.log(e),e},e.prototype.addVouchers=function(){var t=this;if(this.$v.$touch(),!this.$v.$error){this.loading=!0;var e=this.$store.state.baseUrl+"contract/servicedocument";this.axios.post(e,{type:"receive",ReceiverName:this.voucherData.ReceiverName,Vip:this.voucherData.VipStatus,Services:this.createVoucherSrvRequest(),LastAirport:this.voucherData.LastAirport.airportCode,Documents:[{Type:"baggage",Name:"",ServiceCount:parseInt(this.voucherData.BaggageCount),Comment:this.voucherData.Comment}],Contact:{PhoneTechType:"Mobile",PhoneNumber:this.voucherData.PhoneNumber?String(parseInt(this.voucherData.PhoneNumber)):null,AreaCityCode:null,CountryAccessCode:this.voucherData.PhoneNumber?this.voucherData.CountryAccessCode:null}}).then((function(e){t.$emit("change-state",{type:"success",text:"Vouchers have been successfully added.",icon:"icon-tick-circle",selected:t.selected,voucherData:t.cnLodash.cloneDeep(t.voucherData)}),t.loading=!1,t.clearModel()})).catch((function(e){t.$emit("change-state",{type:"error",text:e.response.data.Items.includes("passengers is already submitted")?"Vouchers have been already added for some of the passengers.":"Error adding vouchers.",icon:"icon-info-circle"}),t.loading=!1,t.clearModel()}))}},Object.defineProperty(e.prototype,"voucherDataErrors",{get:function(){var t,e,a,s,i,n={ReceiverName:"Baggage tag name",LastAirport:"Final destination",BaggageCount:"Baggage count",PhoneNumber:"Phone number"},r=this.cnLodash.cloneDeep(this.voucherData);for(var o in r)r[o]=[],(null===(t=this.$v.voucherData[o])||void 0===t?void 0:t.$dirty)&&((null===(e=this.$v.voucherData[o])||void 0===e?void 0:e.hasOwnProperty("required"))&&!(null===(a=this.$v.voucherData[o])||void 0===a?void 0:a.required)&&r[o].push(n[o]+" is required."),(null===(s=this.$v.voucherData[o])||void 0===s?void 0:s.hasOwnProperty("maxLength"))&&!(null===(i=this.$v.voucherData[o])||void 0===i?void 0:i.maxLength)&&r[o].push(n[o]+" must be at most 10 digits."));return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectItems",{get:function(){return this.selected.map((function(t){return t.GivenName+" "+t.SurName}))},enumerable:!1,configurable:!0}),mt([Object(E["c"])()],e.prototype,"selected",void 0),e=mt([Object(E["a"])({components:{AppAriportSelect:z["a"],NumberField:q["a"],countryCodeSelect:H["a"]},validations:function(){return{voucherData:{PhoneNumber:{maxLength:function(t){return!t||!(t&&t.length>10)}},ReceiverName:{required:Y["required"]},LastAirport:{required:Y["required"]},BaggageCount:{required:Y["required"]}}}}})],e),e}(E["d"]),yt=vt,bt=yt,Ct=(a("c372"),Object(tt["a"])(bt,ht,ft,!1,null,"42b0bfc8",null)),xt=Ct.exports,_t=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),wt=function(){return wt=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++)for(var i in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},wt.apply(this,arguments)},Dt=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},It=function(t,e,a,s){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,n){function r(t){try{c(s.next(t))}catch(e){n(e)}}function o(t){try{c(s["throw"](t))}catch(e){n(e)}}function c(t){t.done?a(t.value):i(t.value).then(r,o)}c((s=s.apply(t,e||[])).next())}))},St=function(t,e){var a,s,i,n,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return c([t,e])}}function c(n){if(a)throw new TypeError("Generator is already executing.");while(r)try{if(a=1,s&&(i=2&n[0]?s["return"]:n[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,n[1])).done)return i;switch(s=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){r.label=n[1];break}if(6===n[0]&&r.label<i[1]){r.label=i[1],i=n;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(n);break}i[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},kt=function(t,e,a){if(a||2===arguments.length)for(var s,i=0,n=e.length;i<n;i++)!s&&i in e||(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},Pt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.drawerHandler=!1,e.drawer=!1,e.errorMsg="",e.searchLabel="",e.showing=!1,e.vipLoading=!1,e.selectedPassengers=[],e.editItem=null,e.editIndex=null,e.finalMsg=null,e.state=0,e}return _t(e,t),e.prototype.changeState=function(t){this.finalMsg=this.cnLodash.cloneDeep(t),this.state=2},e.prototype.editState=function(t,e,a){console.log("editItem",t),console.log("index",e),this.editItem=this.cnLodash.cloneDeep(wt(wt({},t),{row:a})),this.editIndex=e,this.state=3},e.prototype.removeSelected=function(t){this.$emit("remove-selected",t)},e.prototype.addShow=function(){return It(this,void 0,void 0,(function(){var t,e=this;return St(this,(function(a){this.editIndex=null,t=[];try{this.selectedPassengersAsObj.forEach((function(a){var s=e.$store.state.baseUrl+"cip/manifest/changestatus",i={SessionId:a.sessionId,CombinationId:a.combinationId,PassengerId:a.PassengerId,RecommendationId:a.recommendationId};0===parseInt(a.status)&&t.push(new Promise((function(t,n){e.axios.post(s,wt(wt({},i),{Status:1})).then((function(s){s.data.Success?(e.$set(a,"status",1),t()):n()})).catch((function(t){console.log(t),n()}))})))}))}catch(s){console.log(s)}return[2,Promise.all(t)]}))}))},e.prototype.addLOM=function(t){return It(this,void 0,void 0,(function(){var e,a,s=this;return St(this,(function(i){try{this.$set(t,"loadingLOM",!0),e=this.$store.state.baseUrl+"cip/manifest/changelomstatus",a={SessionId:t.sessionId,CombinationId:t.combinationId,PassengerId:t.PassengerId,RecommendationId:t.recommendationId},0!==parseInt(t.lomStatus)?"admin"==this.user.roleType&&this.axios.post(e,wt(wt({},a),{Status:0})).then((function(e){e.data.Success&&(s.$set(t,"lomStatus",0),s.$set(t,"loadingLOM",!1))})).catch((function(e){console.log(e),s.$set(t,"loadingLOM",!1)})):this.axios.post(e,wt(wt({},a),{Status:1})).then((function(e){e.data.Success&&(s.$set(t,"lomStatus",1),s.$set(t,"loadingLOM",!1))})).catch((function(e){console.log(e),s.$set(t,"loadingLOM",!1)}))}catch(n){console.log(n),this.$set(t,"loadingLOM",!1)}return[2]}))}))},e.prototype.addVIP=function(){var t=this;this.vipLoading=!0,this.changeVIP().then((function(){t.vipLoading=!1})).catch((function(e){t.errorMsg="Error changing vip",t.vipLoading=!1}))},e.prototype.changeVIP=function(){return It(this,void 0,void 0,(function(){var t,e,a,s=this;return St(this,(function(i){t=this.selectedPassengersAsObj.filter((function(t){return!t.isService||t.serviceName.includes("attendant")})),e=t.every((function(t){return t.vipStatus}))?0:1,a=[];try{t.forEach((function(t){var i=s.$store.state.baseUrl+"cip/manifest/changebarcodestatus",n={Barcode:parseInt(t.barcodeId),Type:"vip",Status:e};a.push(new Promise((function(a,r){s.axios.post(i,wt(wt({},n),{Status:e})).then((function(i){i.data.Success?(a(),s.$set(t,"vipStatus",e)):r()})).catch((function(t){r()}))})))}))}catch(n){console.log(n)}return[2,Promise.all(a)]}))}))},e.prototype.addVoucher=function(){var t=this;this.showing=!0,this.addShow().then((function(){t.showing=!1,t.state=1})).catch((function(e){t.errorMsg="Error showing passengers",t.showing=!1}))},e.prototype.closeDrawer=function(t){void 0===t&&(t=!1),this.drawer=!1,this.finalMsg=null,this.state=0,this.$emit("close-drawer",t)},e.prototype.closePassengersSelect=function(){this.$refs.passengersSelect.isMenuActive=!1,this.$emit("update-selected",this.selectedPassengers)},e.prototype.updateSelected=function(){var t=this;setTimeout((function(){t.$emit("update-selected",t.selectedPassengers)}),100)},Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectPassengers",{get:function(){var t=[];return this.allPass.map((function(e){t=kt(kt([],t,!0),e.data,!0)})),this.selectedPassengers=this.selected,t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInProcess",{get:function(){return this.selectedPassengersAsObj.some((function(t){return t.ticket&&JSON.parse(t.ticket)&&"inprocess"==JSON.parse(t.ticket).toLowerCase()}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedPassengersAsObj",{get:function(){var t=this;return this.selectPassengers.filter((function(e){return t.selectedPassengers.includes(e.searchKey)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this.cnLodash.groupBy(this.selectedPassengersAsObj,"isService");return t.persons=t[0],t.services=t[1],delete t[0],delete t[1],t},enumerable:!1,configurable:!0}),e.prototype.handleDrawer=function(){var t=this;this.drawer=this.drawerHandler,this.errorMsg="",this.searchLabel="Passengers",setTimeout((function(){t.$refs.passengersSelect&&(t.$refs.passengersSelect.lastItem=200)}),1e3)},Dt([Object(E["c"])()],e.prototype,"selected",void 0),Dt([Object(E["c"])()],e.prototype,"allPass",void 0),Dt([Object(E["c"])()],e.prototype,"row",void 0),Dt([Object(E["c"])()],e.prototype,"drawerHandler",void 0),Dt([Object(E["e"])("drawerHandler")],e.prototype,"handleDrawer",null),e=Dt([Object(E["a"])({components:{EditCipVoucher:at,AddCipVoucher:xt,EditVoucherNo:pt}})],e),e}(E["d"]),Nt=Pt,At=Nt,Ot=(a("106a"),Object(tt["a"])(At,M,L,!1,null,"d8a59c66",null));e["a"]=Ot.exports},"75dc":function(t,e,a){},7958:function(t,e,a){},"8db0":function(t,e,a){"use strict";a("72a2")},a69a:function(t,e,a){"use strict";var s=a("0798"),i=a("8fea"),n=a("169a"),r=a("132d"),o=a("a797"),c=a("490a"),l=a("1f4f"),u=a("8654"),d=a("3a2f"),p=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e(o["a"],{staticStyle:{"z-index":"50"},attrs:{value:t.loadingVoucher}},[e(c["a"],{staticClass:"mr-1",attrs:{indeterminate:"",size:"64"}}),e("p",{staticClass:"mt-10 text-center d-flex align-center"},[t._v("Please Wait...")])],1),e(n["a"],{attrs:{"max-width":"1080","content-class":"moreRadius button no-overflow-xy theme-card has-big-fonts dir-ltr "+(t.allItems.length>7?"vouchers-table-dialog":"")},on:{"click:outside":function(e){return t.$emit("close-dialog")}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("div",{staticClass:"my-5 px-5"},[e("div",{staticClass:"d-flex align-center justify-space-between px-2"},[t.allItems.length?e("span",{staticClass:"font-size-14 black--text font-weight-500 d-flex align-center"},[t._v(" Vouchers List ")]):t.loading?t._e():e(s["a"],{staticClass:"px-2 py-1 mb-0 d-flex align-center",attrs:{color:"orange",text:"",border:"left"}},[e("i",{staticClass:"icon-info-circle icon-16 px-1"}),t._v(" No information has been registered yet.")]),e(r["a"],{staticClass:"icon-remove theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.$emit("close-dialog")}}})],1),t.allItems.length&&!t.loading?e(u["a"],{staticClass:"px-2",attrs:{placeholder:"Search Passengers","hide-details":"auto","append-icon":"icon-Search icon-18 pr-2"},model:{value:t.searchPassengers,callback:function(e){t.searchPassengers=e},expression:"searchPassengers"}}):t._e(),t.loading?e(c["a"],{staticClass:"mx-auto my-5 d-block",attrs:{indeterminate:"",color:"blue"}}):t._e(),t.allItems.length&&!t.loading?e(i["a"],{staticClass:"mt-4 inner-table",attrs:{"hide-default-footer":"",items:t.tableItems,"items-per-page":-1,"max-he":"","fixed-header":"",headers:t.headers,"disable-sort":""},scopedSlots:t._u([{key:"item.row",fn:function({index:e}){return[t._v(t._s(e+1))]}},{key:"item.baggage",fn:function({item:e}){return[t._v(t._s(e.documents.filter(t=>"baggage"==t.Type).length?e.documents.filter(t=>"baggage"==t.Type)[0].ServiceCount:0))]}},{key:"item.vipCount",fn:function({item:a}){return[a.vipCount?e("i",{staticClass:"icon-tick-circle icon-18"}):e("span",[t._v("--")])]}},{key:"item.lomCount",fn:function({item:e}){return[t._v(t._s(e.lomCount))]}},{key:"item.passengerCount",fn:function({item:a}){return[t._v(t._s(a.passengers?a.passengers.length:0)+" "),e(d["a"],{attrs:{"open-on-click":"",right:"",color:"#fff","content-class":"noBG shadowAndRadius dir-ltr"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(r["a"],t._g(t._b({staticClass:"icon-info-circle pa-1",attrs:{size:"16"}},"v-icon",s,!1),a))]}}],null,!0)},[e(l["a"],[e("thead",[e("tr",[e("th",{staticClass:"text-center"},[t._v("Name")]),e("th",{staticClass:"text-center"},[t._v("Last Name")])])]),e("tbody",t._l(a.passengers,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"text-center"},[t._v(" "+t._s(a.name)+" ")]),e("td",{staticClass:"text-center"},[t._v(" "+t._s(a.surname)+" ")])])})),0)])],1)]}},{key:"item.receiverName",fn:function({item:e}){return[t._v(t._s(e.receiverName?e.receiverName:"--"))]}},{key:"item.contact",fn:function({item:a}){return[a.contact&&a.contact.PhoneNumber?e("span",[t._v(t._s(`${a.contact.CountryAccessCode}${a.contact.PhoneNumber}`))]):e("span",[t._v("--")])]}},{key:"item.information",fn:function({item:a}){return[a.documents.filter(t=>"baggage"==t.Type).length?e(d["a"],{attrs:{top:"","max-width":"200px"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(r["a"],t._g(t._b({staticClass:"icon-info-circle icon-18 cursor-pointer",attrs:{depressed:"",ripple:!1,dense:"",small:"",color:"darkGrey"}},"v-icon",s,!1),a))]}}],null,!0)},[e("span",{staticStyle:{"font-size":"12px !important"}},[t._v(t._s(a.documents.filter(t=>"baggage"==t.Type)[0].Comment))])]):e("span",[t._v("--")])]}},{key:"item.print",fn:function({item:a}){return[e("i",{staticClass:"icon-printer icon-20 darkGrey--text cursor-pointer",on:{click:function(e){return t.openPrint(a)}}})]}},{key:"item.newPrint",fn:function({item:a}){return[e("i",{staticClass:"icon-printer icon-20 darkGrey--text cursor-pointer",on:{click:function(e){return t.openPrint(a,"new")}}}),e("span",{staticClass:"red white--text px-1 rounded ml-n2 caption",on:{click:function(e){return t.openPrint(a,"new")}}},[t._v("new")])]}},{key:"item.PDF",fn:function({item:a,index:s}){return[e("i",{staticClass:"icon-download icon-20 darkGrey--text cursor-pointer",on:{click:function(e){return t.openPdf(a,s)}}})]}},{key:"item.edit",fn:function({item:a,index:s}){return[e("i",{staticClass:"icon-edit icon-18 darkGrey--text cursor-pointer",on:{click:function(e){return t.openEditDialog(a,s)}}})]}}],null,!0)}):t._e()],1)])],1)},h=[],f=a("60a3"),g=a("3817"),m=a("c514"),v=a("cf29"),y=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),b=function(){return b=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++)for(var i in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},b.apply(this,arguments)},C=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},x=function(t,e,a){if(a||2===arguments.length)for(var s,i=0,n=e.length;i<n;i++)!s&&i in e||(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))},_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialog=!1,e.loading=!1,e.loadingVoucher=!1,e.finalDest="",e.searchPassengers="",e.allItems=[],e}return y(e,t),e.prototype.dialogControllerChanged=function(){this.dialog=this.dialogController,this.dialog&&this.getItems()},Object.defineProperty(e.prototype,"tableItems",{get:function(){var t=this;return this.searchPassengers&&this.searchPassengers.length>1?this.allItems.filter((function(e){return e.passengers&&e.passengers.length&&e.passengers.some((function(e){return"".concat(e.name.toLowerCase()," ").concat(e.surname.toLowerCase()).includes(t.searchPassengers.trim().toLowerCase())}))})):this.allItems},enumerable:!1,configurable:!0}),e.prototype.openEditDialog=function(t,e){this.$emit("open-edit-dialog",{item:t,index:e})},e.prototype.openLastPrint=function(t){var e=this,a=this.$store.state.baseUrl+"contract/servicedocument?ServiceId="+this.ServiceId;this.loadingVoucher=!0,this.axios(a).then((function(a){console.log("index",t),e.allItems=a.data.Items,a.data.Items.map((function(t){var a=[],s=[];t.services.map((function(t){t.passengers&&!t.isService&&(a=x(x([],a,!0),t.passengers,!0)),t.isService&&(s=x(x([],s,!0),t.passengers.map((function(e){return b(b({},e),{serviceName:t.name})})),!0))})),e.$set(t,"passengers",a),e.$set(t,"extraService",s)})),"number"===typeof t?e.openPrint(e.allItems[t]):e.openPrint(e.allItems[e.allItems.length-1]),e.loadingVoucher=!1})).catch((function(t){e.loadingVoucher=!1}))},e.prototype.openLastPrintNew=function(t){var e=this,a=this.$store.state.baseUrl+"contract/servicedocument?ServiceId="+this.ServiceId;this.loadingVoucher=!0,this.axios(a).then((function(a){console.log("index",t),e.allItems=a.data.Items,a.data.Items.map((function(t){var a=[],s=[];t.services.map((function(t){t.passengers&&!t.isService&&(a=x(x([],a,!0),t.passengers,!0)),t.isService&&(s=x(x([],s,!0),t.passengers.map((function(e){return b(b({},e),{serviceName:t.name})})),!0))})),e.$set(t,"passengers",a),e.$set(t,"extraService",s)})),"number"==typeof t?e.openPrint(e.allItems[t],"new"):e.openPrint(e.allItems[e.allItems.length-1],"new"),e.loadingVoucher=!1})).catch((function(t){e.loadingVoucher=!1}))},e.prototype.openPrint=function(t,e){void 0===e&&(e="");var a=t.documents.filter((function(t){return"baggage"==t.Type}));console.log("item",t);var s={passengers:t.passengers,extraServices:t.extraService?t.extraService.filter((function(t){return"attendant"!=t.serviceName})):[],attendants:t.extraService?t.extraService.filter((function(t){return"attendant"==t.serviceName})):[]};sessionStorage.setItem("printData",JSON.stringify(s));var i=this.$router.resolve({name:e?"newcipprint":"cipprint",query:{finalDest:t.lastAirport,serial:this.serial,flightType:this.Cip.CipInfo.FlightInfo.FlightType,flightDateTime:this.Cip.CipInfo.FlightInfo.DateTime,flightNo:this.Cip.CipInfo.FlightInfo.AirlineIata+this.Cip.CipInfo.FlightInfo.FlightNumber,passName:t.receiverName?t.receiverName:this.allPass[0].GivenName+" "+this.allPass[0].SurName,passCount:s.passengers.length?s.passengers.length:s.attendants.length,passType:"Business"==this.passType?"BC":"CIP",PhoneNumber:t.contact&&t.contact.PhoneNumber?"".concat(t.contact.CountryAccessCode).concat(parseInt(t.contact.PhoneNumber)):"",lomCount:t.lomCount||0,vipCount:t.vipCount||0,desc:a.length?a[0].Comment:"",baggageCount:t.documents.reduce((function(t,e){return t+("baggage"==e.Type?e.ServiceCount:0)}),0)}});window.open(i.href,"_blank")},e.prototype.openPdf=function(t,e){var a=this.$store.state.baseUrl+"report/contract/servicedocument/pdf?Id="+t.id;this.axios.get(a,{headers:{"Content-Type":"application/pdf","Content-Disposition":'inline; filename="printLabel.pdf"'},responseType:"arraybuffer"}).then((function(t){var e=new Blob([t.data],{type:"application/pdf"}),a=URL.createObjectURL(e);window.open(a)})).catch((function(t){console.log(t)}))},e.prototype.getItems=function(){var t=this;this.searchPassengers="",this.loading=!0;var e=this.$store.state.baseUrl+"contract/servicedocument?ServiceId="+this.ServiceId;this.axios(e).then((function(e){t.allItems=e.data.Items,e.data.Items.map((function(e){var a=[],s=[];e.services.map((function(t){t.passengers&&!t.isService&&(a=x(x([],a,!0),t.passengers,!0)),t.isService&&(s=x(x([],s,!0),t.passengers.map((function(e){return b(b({},e),{serviceName:t.name})})),!0))})),t.$set(e,"passengers",a),t.$set(e,"extraService",s)})),t.loading=!1})).catch((function(e){t.loading=!1}))},Object.defineProperty(e.prototype,"headers",{get:function(){return[{text:"#",value:"row",width:5,align:"center"},{text:"Passengers",value:"passengerCount",align:"center"},{text:"Baggage",value:"baggage",align:"center"},{text:"VIP",value:"vipCount",align:"center"},{text:"LOM",value:"lomCount",align:"center"},{text:"Mobile",value:"contact",align:"center"},{text:"Final Destination",value:"lastAirport",align:"center"},{text:"Baggage Tag Name",value:"receiverName",align:"center"},{text:"Information",value:"information",align:"center"},{text:"Print",value:"print",align:"center"},{text:"New Print",value:"newPrint",align:"center"},{text:"PDF",value:"PDF",align:"center"},{text:"Edit",value:"edit",align:"center"}]},enumerable:!1,configurable:!0}),C([Object(f["c"])()],e.prototype,"dialogController",void 0),C([Object(f["c"])()],e.prototype,"ServiceId",void 0),C([Object(f["c"])()],e.prototype,"passType",void 0),C([Object(f["c"])()],e.prototype,"serial",void 0),C([Object(f["c"])()],e.prototype,"Cip",void 0),C([Object(f["c"])()],e.prototype,"allPass",void 0),C([Object(f["e"])("dialogController")],e.prototype,"dialogControllerChanged",null),e=C([Object(f["a"])({components:{AppAriportSelect:g["a"],NumberField:m["a"],countryCodeSelect:v["a"]}})],e),e}(f["d"]),w=_,D=w,I=(a("6a6a"),a("2877")),S=Object(I["a"])(D,p,h,!1,null,"4e13b93c",null);e["a"]=S.exports},a92d:function(t,e,a){"use strict";a("0674")},aa42:function(t,e,a){"use strict";a("e466")},abcd:function(t,e,a){"use strict";a.r(e);var s=a("c6a6"),i=a("8336"),n=a("a609"),r=a("b0af"),o=a("99d9"),c=a("ac7c"),l=a("cc20"),u=a("62ad"),d=a("8fea"),p=a("132d"),h=a("adda"),f=a("8860"),g=a("da13"),m=a("1800"),v=a("5d23"),y=a("1baa"),b=a("e449"),C=a("891e"),x=a("490a"),_=a("0fd9"),w=a("b974"),D=a("8654"),I=a("3a2f"),S=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"mt-12 px-4 dir-ltr"},[e("PassengersDrawer",{ref:"passengersDrawer",attrs:{selected:t.selected,drawerHandler:t.drawerHandler,allPass:t.items},on:{"update-selected":t.updateSelected,"close-drawer":function(e){return t.closeDrawer(e)},"show-vouchers":t.openVouchersPrint,"show-vouchers-new":t.openVouchersPrintNew,"remove-selected":t.removeSelected,"get-data":function(e){return t.getData(e)}}}),e(r["a"],{staticClass:"pa-4 mb-3 moreRadius button",attrs:{flat:"",tile:""}},[e(o["d"],{staticClass:"darkGrey--text pt-0 font-weight-600"},[t._v("CIP Report")]),e(_["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"position-relative px-2 d-flex justify-end",attrs:{cols:"2"}},[e(w["a"],{staticClass:"moreRadius input dateType font-size-13",attrs:{outlined:"",dense:"","append-icon":"icon-chevron-down icon-18",attach:".dateType",label:"Date Type","hide-details":"","item-value":"value","item-text":"text","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll horizontal-center"},items:[{value:0,text:"Creation Date"},{value:1,text:"Flight Date"}]},model:{value:t.dateType,callback:function(e){t.dateType=e},expression:"dateType"}})],1),e(u["a"],{staticClass:"position-relative pb-0 px-2 d-flex",attrs:{cols:"4"}},[e("date-picker",{staticClass:"mr-2",attrs:{locale:"en",label:"From",startLabel:"From",dense:"",type:"datetime","locale-config":{fa:{inputFormat:"jYYYY/jMM/jDD HH:mm"},en:{inputFormat:"YYYY/MM/DD HH:mm"}},mode:"single",modal:""},on:{focus:function(e){t.shift=null,t.day=null}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),e("date-picker",{staticClass:"ml-2",attrs:{locale:"en",label:"To",startLabel:"To",endLabel:"To",dense:"",type:"datetime","locale-config":{fa:{inputFormat:"jYYYY/jMM/jDD HH:mm"},en:{inputFormat:"YYYY/MM/DD HH:mm"}},mode:"single",modal:""},on:{focus:function(e){t.shift=null,t.day=null}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1),e(u["a"],{staticClass:"position-relative pb-0 px-2 d-flex justify-end",attrs:{cols:"2"}},[e(D["a"],{staticClass:"moreRadius input",attrs:{label:"Passenger's Name",outlined:"","hide-details":"auto",dense:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData.apply(null,arguments)}},model:{value:t.PassengerName,callback:function(e){t.PassengerName=e},expression:"PassengerName"}})],1),e(u["a"],{staticClass:"position-relative pb-0 px-2 d-flex justify-end",attrs:{cols:"2"}},[e("number-field",{attrs:{label:"National ID",height:40,dense:"",noDot:!0},on:{"keypress-enter-event":t.getData},model:{value:t.NationalId,callback:function(e){t.NationalId=e},expression:"NationalId"}})],1),e(u["a"],{staticClass:"position-relative px-2 d-flex justify-end",attrs:{cols:"2"}},[e(D["a"],{staticClass:"moreRadius input",attrs:{label:"Passport No",outlined:"","hide-details":"auto",dense:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData.apply(null,arguments)}},model:{value:t.PassportNo,callback:function(e){t.PassportNo=e},expression:"PassportNo"}})],1)],1),e(_["a"],{staticClass:"mx-0"},[e(u["a"],{staticClass:"position-relative py-0 px-2"},[e("number-field",{attrs:{label:"Flight No",height:40,dense:"",noDot:!0},on:{"keypress-enter-event":t.getData},model:{value:t.FlightNumber,callback:function(e){t.FlightNumber=e},expression:"FlightNumber"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2"},[e("number-field",{attrs:{label:"Contract No",height:40,dense:"",noDot:!0},on:{"keypress-enter-event":t.getData},model:{value:t.ContractNumber,callback:function(e){t.ContractNumber=e},expression:"ContractNumber"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2"},[e(D["a"],{staticClass:"moreRadius input",attrs:{label:"Reference Id",outlined:"","hide-details":"auto",dense:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getData.apply(null,arguments)}},model:{value:t.PNR,callback:function(e){t.PNR=e},expression:"PNR"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2 d-flex justify-end",attrs:{cols:"2"}},[e(w["a"],{staticClass:"moreRadius input flightType font-size-13",attrs:{outlined:"",dense:"","append-icon":"icon-chevron-down icon-18",attach:".flightType",label:"Arr/Dep","hide-details":"","item-value":"value","item-text":"text",clearable:"","clear-icon":"icon-remove icon-18","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll horizontal-center"},items:[{value:"inbound",text:"Arrival"},{value:"outbound",text:"Departure"}]},model:{value:t.FlightType,callback:function(e){t.FlightType=e},expression:"FlightType"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2",attrs:{cols:"2"}},[e(s["a"],{staticClass:"cip-flight__airline moreRadius input",attrs:{dense:"",clearable:"","clear-icon":"icon-remove icon-18",outlined:"",label:"Airline","hide-no-data":"","hide-details":"auto",items:t.airlines,"item-text":"searchAirlines","cache-items":!1,"item-value":"iata","menu-props":{"offset-y":!0,closeOnClick:!0,minWidth:"100%",contentClass:"moreRadius button custom-scroll horizontal-center"},"append-icon":"",attach:".cip-flight__airline","search-input":t.searchAirlines},on:{click:function(e){t.AirlineIata=""},"update:searchInput":function(e){t.searchAirlines=e},"update:search-input":function(e){t.searchAirlines=e}},scopedSlots:t._u([{key:"item",fn:function(a){return[e(f["a"],{staticClass:"pa-0",attrs:{width:"100%"}},[e(g["a"],{staticClass:"pa-0"},[a.item.iata?e(m["a"],{staticClass:"ma-0"},[e(l["a"],{staticClass:"white--text",attrs:{label:"",small:"",color:"#d50c6a"}},[t._v(t._s(a.item.iata))])],1):t._e(),e(v["a"],{},[e(v["c"],{staticClass:"mb-0"},[t._v(t._s(a.item.name))])],1)],1)],1)]}},{key:"selection",fn:function(a){return[e("span",{staticClass:"caption"},[t._v(t._s(a.item.name))]),a.item.iata?e("span",{},[e(l["a"],{staticClass:"caption white--text",attrs:{label:"",small:"",color:"#d50c6a"}},[t._v(t._s(a.item.iata))])],1):t._e()]}}],null,!0),model:{value:t.AirlineIata,callback:function(e){t.AirlineIata=e},expression:"AirlineIata"}})],1),e(u["a"],{staticClass:"position-relative py-0 px-2",attrs:{cols:"3"}},[e("AppAriportSelect",{attrs:{onlyShowAirports:!0,showDefaultCitites:!1,position:"org",dense:!0,label:"ORG/DEST"},model:{value:t.AirportCode,callback:function(e){t.AirportCode=e},expression:"AirportCode"}})],1)],1),e(_["a"],[e(u["a"],{staticClass:"position-relative pb-0 px-0",attrs:{cols:"3"}},[e(n["a"],{staticClass:"row mx-0",staticStyle:{"border-right":"1px solid #f2f2f2"},attrs:{color:"buttons",group:""},on:{change:t.changeShift},model:{value:t.shift,callback:function(e){t.shift=e},expression:"shift"}},[e(i["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:0,dense:"",height:"42"}},[t._v(" Previous Shift ")]),e(i["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:1,dense:"",height:"42"}},[t._v(" Current Shift ")]),e(i["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:2,dense:"",height:"42"}},[t._v(" Next Shift ")])],1)],1),e(u["a"],{staticClass:"position-relative pb-0 px-0",attrs:{cols:"3"}},[e(n["a"],{staticClass:"row mx-0",attrs:{color:"buttons",group:""},on:{change:t.changeDay},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}},[e(i["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:0,dense:"",height:"42"}},[t._v(" Previous Day ")]),e(i["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:1,dense:"",height:"42"}},[t._v(" Current Day ")]),e(i["a"],{staticClass:"my-0 moreRadius button col",attrs:{value:2,dense:"",height:"42"}},[t._v(" Next Day ")])],1)],1),e(u["a"],{staticClass:"position-relative pb-0 px-2 d-flex justify-end mr-auto",attrs:{cols:"6"}},[e(i["a"],{staticClass:"moreRadius button",attrs:{color:"buttons",dark:"","x-large":"",width:"180",height:"44",depressed:""},on:{click:t.getData}},[t._v(" Search")])],1)],1)],1),e(d["a"],{staticClass:"ruleTable",staticStyle:{"border-radius":"20px"},attrs:{headers:t.headers,items:t.items,"item-key":"row","items-per-page":-1,loading:t.dataLoading,"hide-default-footer":"","item-class":t.rowClass,"loading-text":t.$t("pleaseWait","en"),"no-data-text":t.$t("noDataFound","en"),flat:""},scopedSlots:t._u([{key:"item.row",fn:function({index:a,item:s}){return[e("div",{staticClass:"pt-5"},[t._v(t._s(a+1+20*(t.page-1)))]),e("div",{staticClass:"pt-8"},[s.data.length>3?e(p["a"],{staticClass:"icon-Search black--text",attrs:{size:"18"},on:{click:function(e){e.stopPropagation(),t.drawerHandler=!t.drawerHandler}}}):t._e()],1)]}},{key:"header.flightNumber",fn:function(){return[e("div",[t._v("Flight No.")]),e("div",[t._v("From/To")])]},proxy:!0},{key:"item.flightNumber",fn:function({item:a}){return[e("div",{staticClass:"pt-4 font-weight-500"},[t._v(" "+t._s(""+a.data[0].flightNumber)+" ")]),e("div",{staticClass:"pb-4 font-weight-300"},[t._v(t._s(""+a.data[0].airport))])]}},{key:"item.serial",fn:function({item:a}){return[e("div",{staticClass:"d-flex flex-column h-100",class:a.inProcess?"pt-4":"pt-6",on:{click:function(e){return t.goToContact(a.data[0].serial)}}},[e("span",{staticClass:"text-decoration-underline"},[t._v(" "+t._s(a.data[0].serial)+" ")]),a.inProcess?e("span",{staticClass:"font-weight-500 blue--text rounded font-size-13"},[t._v(" In process ")]):t._e()])]}},{key:"item.PassengerTypeCode",fn:function({item:a}){return t._l(a.data,(function(a,s){return e("div",{key:"PassengerTypeCode"+s,staticClass:"pt-3",staticStyle:{height:"54px"}},[t._v(" "+t._s(""+a.PassengerTypeCode)+" ")])}))}},{key:"item.Time",fn:function({item:a}){return[e("div",{staticClass:"pt-4"},[t._v(" "+t._s(a.data[0].flightDateTime.substring(0,10))+" ")]),e("div",[t._v(" "+t._s(a.data[0].flightDateTime.substring(11,16))+" ")])]}},{key:"item.airline",fn:function({item:a}){return[e(h["a"],{staticClass:"airline-logo mt-5",attrs:{src:t.imgUrl(a.data[0].airline,"en"),"max-width":"80"}})]}},{key:"item.Airport",fn:function({item:a}){return[e("div",{staticClass:"pt-2"},[t._v(" "+t._s(a.data[0].cipAirport)+" "),e(I["a"],{attrs:{"open-on-click":"",top:"",color:"#002244"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(p["a"],t._g(t._b({staticClass:"icon-info-circle pa-1",attrs:{size:"16"}},"v-icon",s,!1),a))]}}],null,!0)},[e("span",[t._v(t._s(a.data[0].globalName))])])],1),e("div",[t._v(" "+t._s("outbound"==a.data[0].flightType?"DEP":"ARR")+"/"+t._s(a.data[0].tripType.substring(0,3).toUpperCase())+" ")])]}},{key:"item.status",fn:function({item:a}){return t._l(a.data,(function(a,s){return e("div",{key:"status/"+s,staticClass:"pt-3",staticStyle:{height:"54px"}},["visitor"!=t.user.roleType?e(i["a"],{staticClass:"rounded",class:0!==parseInt(a.status)?"green--text":"blue--text",staticStyle:{"font-size":"12px"},attrs:{color:0!==parseInt(a.status)?"green-bg":"blue-bg-light",depressed:"",dense:"","x-small":"",height:"28",width:"64",loading:a.addShowLoading},on:{click:function(e){return t.addShow(a)}},scopedSlots:t._u([{key:"loader",fn:function(){return[e(x["a"],{attrs:{indeterminate:"",size:"16",width:1}})]},proxy:!0}],null,!0)},[0!==parseInt(a.status)?e("i",{staticClass:"icon-show icon-16 pr-1"}):t._e(),t._v("Show ")]):t._e()],1)}))}},{key:"item.lomStatus",fn:function({item:a}){return t._l(a.data,(function(a,s){return e("div",{key:"LOM"+s,staticClass:"pt-5 darkGrey--text",staticStyle:{height:"54px"}},[t._v(" "+t._s(a.lomStatus?"LOM":"")+" ")])}))}},{key:"item.vipStatus",fn:function({item:a}){return t._l(a.data,(function(a,s){return e("div",{key:"VIP"+s,staticClass:"pt-5 darkGrey--text",staticStyle:{height:"54px"}},[t._v(" "+t._s(a.vipStatus?"VIP":"")+" ")])}))}},{key:"item.passType",fn:function({item:a}){return t._l(a.data,(function(s,i){return e("div",{key:"passType"+i,staticClass:"py-2 d-flex align-center",staticStyle:{height:"54px"}},[e(c["a"],{staticClass:"mr-2 mt-2",attrs:{ripple:!1,value:s.searchKey},on:{click:t.emptySelected},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),s.isService?e(l["a"],{staticStyle:{"min-width":"60px"},attrs:{small:"",color:"#009EDB1a","text-color":"#009EDB"}},[t._v(t._s(t._f("titleCase")(s.serviceName)))]):"Business"==s.cabinClass?e(l["a"],{staticStyle:{"min-width":"60px"},attrs:{small:"",color:"#EA1B661a","text-color":"#EA1B66"}},[t._v("BC "+t._s(a.data.filter(t=>!t.isService&&"Business"==t.cabinClass).length>1?String(i+1).padStart(2,"0"):"")+" ")]):e(l["a"],{staticStyle:{"min-width":"60px"},attrs:{small:"",color:"#9747ff1a","text-color":"#9747FF"}},[t._v("CIP "+t._s(a.data.filter(t=>!t.isService&&"Business"!=t.cabinClass).length>1?String(i+1).padStart(2,"0"):"")+" ")])],1)}))}},{key:"item.GivenName",fn:function({item:a}){return t._l(a.data,(function(a,s){return e("div",{key:"GivenName"+s,staticStyle:{"padding-top":"17px !important","padding-bottom":"0 !important"}},[e("div",[t._v(t._s(a.GivenName))]),e("div",[t._v(t._s(a.SurName))])])}))}},{key:"item.PassInfo",fn:function({item:a}){return t._l(a.data,(function(s,i){return e("div",{key:"passIndex"+i,staticClass:"pt-3 position-relative",staticStyle:{height:"54px"}},[e(p["a"],{staticClass:"icon-profile pt-1",attrs:{size:"18"},on:{click:function(e){return t.openPassengerComments(`PassengerComments${a.row}${i}`)}}}),s.comment||s.CommentNumber?e("i",{staticClass:"icon-circle-bold red--text icon-8",staticStyle:{position:"absolute",right:"6px",top:"14px"}}):t._e(),e("PassengerComments",{ref:`PassengerComments${a.row}${i}`,refInFor:!0,attrs:{passenger:s,dirLtr:!0,isInContract:!1},on:{"get-data":t.getData}})],1)}))}},{key:"item.Owner",fn:function({item:a}){return[e("div",{staticClass:"d-flex flex-column pt-6"},[e("span",[t._v(" "+t._s(a.data[0].Owner)+" ")])]),a.data[0].NotCleared?e("div",{staticClass:"warning--text caption"},[t._v(" Not Paid ")]):t._e()]}},{key:"item.Board",fn:function({item:a}){return["outbound"!=a.data[0].flightType?e(i["a"],{staticClass:"mt-5",attrs:{text:"","x-small":""},on:{click:function(e){return t.openBoardPrint(a)}}},[e("i",{staticClass:"icon-flag icon-20 darkGrey--text"})]):t._e()]}},{key:"item.actionsC",fn:function({item:a}){return[e(b["a"],{attrs:{"content-class":"actions",left:"","offset-y":"","min-width":"180"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e(i["a"],t._g(t._b({staticClass:"mt-5",staticStyle:{transform:"rotate(90deg)"},attrs:{color:"darkGrey",text:"","x-small":"",depressed:""}},"v-btn",s,!1),a),[e(p["a"],{staticClass:"icon-more icon-18"})],1)]}}],null,!0)},[e(f["a"],{attrs:{dense:""}},[e(y["a"],{staticClass:"caption dir-ltr"},[e(g["a"],{on:{click:function(e){return t.editFlight(a.data)}}},[e(p["a"],{staticClass:"icon-flight-simple icon-18 pr-2"}),t._v(" Edit Flight ")],1),e(g["a"],{on:{click:function(e){return t.editFlightDate(a.data)}}},[e(p["a"],{staticClass:"icon-calendar icon-18 pr-2"}),t._v(" Edit Actual Date & Time ")],1),e(g["a"],{attrs:{disabled:!!a.data[0].fromList},on:{click:function(e){return t.addToList(a.data)}}},[e(p["a"],{staticClass:"icon-note-add icon-18 pr-2"}),t._v(" Add Flight To List ")],1)],1)],1)],1)]}},{key:"item.vouchers",fn:function({item:a}){return[e("CipVouchersTable",{ref:"CipVouchersTable"+a.row,attrs:{dialogController:a.vouchersList,ServiceId:a.data[0].ServiceId,passType:a.data[0].cabinClass,serial:a.data[0].serial,allPass:a.data,Cip:{CipInfo:{FlightInfo:{AirlineIata:a.data[0].airline,FlightType:"outbound"==a.data[0].flightType?"DEP":"ARR",FlightNumber:a.data[0].flightNumber,DateTime:a.data[0].flightDateTime}}}},on:{"close-dialog":function(e){return t.closeVouchersDialog(a)},"open-edit-dialog":function(e){return t.openEditDialog(a,e,a.row)}}}),e("div",{staticClass:"d-flex align-center justify-start",staticStyle:{height:"54px"},on:{click:function(e){return t.openVouchersDialog(a)}}},[e(p["a"],{class:"icon-note-2 icon-18 pl-1"})],1)]}}],null,!0)}),t.showPaginate?e(C["a"],{staticClass:"my-5",attrs:{length:t.paginateLength,"total-visible":7},on:{input:t.paginate},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}):t._e(),e("addFlightToList",{attrs:{result:t.flightToAdd},on:{"get-data":t.getData},model:{value:t.addToListDialog,callback:function(e){t.addToListDialog=e},expression:"addToListDialog"}}),e("editFlightDate",{attrs:{result:t.flightToChangeDate},model:{value:t.editFlightDateDialog,callback:function(e){t.editFlightDateDialog=e},expression:"editFlightDateDialog"}}),e("editFlightInfo",{attrs:{result:t.flightToEdit},on:{"get-data":t.getData,"add-to-list":function(e){return t.addToListAfterEdit(t.flightToEdit)}},model:{value:t.flightToEditDialog,callback:function(e){t.flightToEditDialog=e},expression:"flightToEditDialog"}})],1)},k=[],P=a("60a3"),N=a("3817"),A=a("c514"),O=a("a69a"),$=a("f6fc"),F=a("7544"),j=a("fdb5"),T=a("15d2"),R=a("7006"),M=a("5df0"),L=a("3dd8"),E=a("5c1f"),B=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),G=function(){return G=Object.assign||function(t){for(var e,a=1,s=arguments.length;a<s;a++)for(var i in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},G.apply(this,arguments)},V=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},U=function(t,e,a,s){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,n){function r(t){try{c(s.next(t))}catch(e){n(e)}}function o(t){try{c(s["throw"](t))}catch(e){n(e)}}function c(t){t.done?a(t.value):i(t.value).then(r,o)}c((s=s.apply(t,e||[])).next())}))},z=function(t,e){var a,s,i,n,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return c([t,e])}}function c(n){if(a)throw new TypeError("Generator is already executing.");while(r)try{if(a=1,s&&(i=2&n[0]?s["return"]:n[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,n[1])).done)return i;switch(s=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){r.label=n[1];break}if(6===n[0]&&r.label<i[1]){r.label=i[1],i=n;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(n);break}i[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataLoading=!1,e.showPaginate=!1,e.drawerHandler=!1,e.selectedRow="",e.items=[],e.selected=[],e.airlines=[],e.searchAirlines="",e.Cabin="",e.FlightNumber="",e.ContractNumber="",e.PNR="",e.NationalId="",e.PassengerName="",e.PassportNo="",e.AirlineIata="",e.endDate=void 0,e.selectedLocale="fa",e.startDate=void 0,e.AirportCode=null,e.flightToAdd=null,e.flightToChangeDate=null,e.flightToEdit=null,e.FlightType=null,e.shift=1,e.page=1,e.paginateLength=0,e.dateType=0,e.day=null,e.currentShiftDates=[],e.notPaginated=[],e.allPaginated=[],e.groupedResults={},e.addToListDialog=!1,e.editFlightDateDialog=!1,e.flightToEditDialog=!1,e.headers=[{text:"#",value:"row",align:"center",sortable:!1,width:50},{text:"",value:"passType",sortable:!1,align:"end",width:100},{text:"Passenger's Name",value:"GivenName",sortable:!1,width:150},{text:"Info",value:"PassInfo",sortable:!1,width:30},{text:"Status",value:"status",align:"center",sortable:!1,width:50},{text:"",value:"lomStatus",align:"center",width:30,sortable:!1},{text:"",value:"vipStatus",align:"center",width:30,sortable:!1},{text:"Airport",value:"Airport",align:"start",sortable:!1,width:80},{text:"Airline",value:"airline",align:"center",sortable:!1,width:50},{text:"Flight No",value:"flightNumber",align:"center",sortable:!1,width:80},{text:"Date",value:"Time",align:"center",sortable:!1,width:100},{text:"Contract No.",value:"serial",align:"center",width:80,sortable:!1},{text:"User",value:"Owner",align:"end",width:150,sortable:!1},{text:"Board",value:"Board",align:"center",width:50,sortable:!1},{text:"",value:"actionsC",sortable:!1,width:5,align:"center"},{text:"Voucher",value:"vouchers",sortable:!1,width:60,align:"center"}],e}return B(e,t),e.prototype.openEditDialog=function(t,e,a){this.$set(t,"vouchersList",!1),this.$refs.passengersDrawer.editState(e.item,e.index,a),this.drawerHandler=!this.drawerHandler},e.prototype.closeVouchersDialog=function(t){this.$set(t,"vouchersList",!1)},e.prototype.openVouchersDialog=function(t){this.$set(t,"vouchersList",!0)},e.prototype.openVouchersPrint=function(t){this.$refs["CipVouchersTable".concat(t.row)].openLastPrint(t.editIndex)},e.prototype.openVouchersPrintNew=function(t){this.$refs["CipVouchersTable".concat(t.row)].openLastPrintNew(t.editIndex)},e.prototype.removeSelected=function(t){var e=this.selected.findIndex((function(e){return t.searchKey===e}));this.$delete(this.selected,e)},e.prototype.updateSelected=function(t){this.selected=t},e.prototype.paginate=function(){return U(this,void 0,void 0,(function(){var t,e,a,s,i,n,r,o;return z(this,(function(c){for(this.items.splice(0),this.selected.splice(0),t=0,e=function(t,e,a){return t.slice(a*e,a*e+e)},a=function(t){return"".concat(t.GivenName," ").concat(t.GivenName.toLowerCase()," ").concat(t.GivenName.toUpperCase()," ").concat(t.SurName," ").concat(t.SurName.toLowerCase()," ").concat(t.SurName.toUpperCase()," ").concat(t.serviceName," ").concat(t.serviceName.toLowerCase()," ").concat(t.serviceName.toUpperCase()," ").concat(t.PassengerId)},s=function(e){var s={};i.items.push({data:i.cnLodash.sortBy(e.map((function(i){return e.length>1&&i.isService&&(s[i.serviceName]?s[i.serviceName]+=1:s[i.serviceName]=1,e.filter((function(t){return t.serviceName.includes(i.serviceName)})).length>1&&(i.serviceName=i.serviceName+" "+String(s[i.serviceName]).padStart(2,"0"))),i.searchKey="".concat(a(i)," ").concat(t),i.row=t,i})),[function(t){return t.isService}]),inProcess:e.some((function(t){return t.ticket&&JSON.parse(t.ticket)&&"inProcess"==JSON.parse(t.ticket)})),row:t,vouchersList:!1}),i.selected=[],t+=1},i=this,n=0,r=e(this.groupedResults,20,this.page-1);n<r.length;n++)o=r[n],s(o);return[2]}))}))},e.prototype.getData=function(t){return void 0===t&&(t=!0),U(this,void 0,void 0,(function(){var e,a;return z(this,(function(s){switch(s.label){case 0:return this.dataLoading=!0,e=this.$store.state.baseUrl+"report/cipmanifest?StartDate="+this.startDate+"&EndDate="+this.endDate,e+="&DateType="+(1==this.dateType?0:1),e+=this.AirlineIata?"&Airline="+this.AirlineIata:"",e+=this.AirportCode?"&Airport="+this.AirportCode.airportCode:"",e+=this.FlightNumber?"&FlightNumber="+this.FlightNumber:"",e+=this.Cabin?"&CabinClass="+this.Cabin:"",e+=this.NationalId?"&NationalId="+this.NationalId:"",e+=this.PassengerName?"&PassengerName="+this.PassengerName:"",e+=this.PassportNo?"&PassportNo="+this.PassportNo:"",e+=this.FlightType?"&FlightType="+this.FlightType:"",e+=this.ContractNumber?"&ContractNo="+this.ContractNumber:"",e+=this.PNR?"&PNR="+this.PNR:"",t&&(this.page=1),[4,this.axios.get(e)];case 1:return a=s.sent(),1==this.dateType?this.groupedResults=Object.values(this.cnLodash.sortBy(this.cnLodash.groupBy(a.data.Items,"serial"),[function(t){return a.data.Items.indexOf(t[0])}])):this.groupedResults=Object.values(this.cnLodash.sortBy(this.cnLodash.groupBy(a.data.Items,"serial"),[function(t){return t[0].serial}]).reverse()),this.groupedResults=this.cnLodash.sortBy(this.groupedResults,[function(t){return t.isService}]),this.paginateLength=Math.ceil(this.groupedResults.length/20),this.paginateLength>1?this.showPaginate=!0:this.showPaginate=!1,[4,this.paginate()];case 2:return s.sent(),this.dataLoading=!1,[2]}}))}))},e.prototype.editFlight=function(t){this.flightToEdit={CipItineraries:[],FlightInfo:{DateTime:t[0].flightDateTime,FlightNumber:t[0].flightNumber,AirportCode:t[0].airport,AirportFa:"",AirportEn:"",AirlineIata:t[0].airline,AirlineEn:"",AirlineFa:"",MainAirport:t[0].cipAirport}};for(var e=0,a=t;e<a.length;e++){var s=a[e];this.flightToEdit.CipItineraries.push({SessionId:s.sessionId,CombinationId:s.combinationId,RecommendationId:s.recommendationId,SubsystemId:s.SubsystemId})}this.flightToEditDialog=!0},e.prototype.editFlightDate=function(t){this.flightToChangeDate={CipItineraries:[]};for(var e=0,a=t;e<a.length;e++){var s=a[e];this.flightToChangeDate.CipItineraries.push({SessionId:s.sessionId,CombinationId:s.combinationId,RecommendationId:s.recommendationId,SubsystemId:s.SubsystemId})}this.editFlightDateDialog=!0},e.prototype.openPassengerComments=function(t){this.$refs[t][0].open()},e.prototype.addToListAfterEdit=function(t){this.flightToAdd=t,this.addToListDialog=!0},e.prototype.addToList=function(t){this.flightToAdd={CipItineraries:[],FlightInfo:{DateTime:t[0].flightDateTime,FlightNumber:t[0].flightNumber,FlightType:t[0].flightType,AirportCode:t[0].airport,AirportFa:"",AirportEn:"",AirlineIata:t[0].airline,AirlineEn:"",AirlineFa:"",MainAirport:t[0].cipAirport}};for(var e=0,a=t;e<a.length;e++){var s=a[e];this.flightToAdd.CipItineraries.push({SessionId:s.sessionId,CombinationId:s.combinationId,RecommendationId:s.recommendationId,SubsystemId:s.SubsystemId})}this.addToListDialog=!0},e.prototype.openBoardPrint=function(t){var e={passengers:t.data.filter((function(t){return!t.isService})),flightNo:t.data[0].airline+t.data[0].flightNumber};sessionStorage.setItem("boardData",JSON.stringify(e));var a=this.$router.resolve({name:"boardpassengers"});window.open(a.href,"_blank")},e.prototype.rowClass=function(t){return t.data[0].NotCleared&&"counter"==t.data[0].roleType?"orange lighten-4":""},e.prototype.mounted=function(){var t=this;this.dateType=Number(this.$store.state.authStore.base.cipManifestDateType),this.$route.query.flightNumber?(this.AirlineIata=this.$route.query.airline,this.airlines.push({iata:this.AirlineIata,name:""}),this.FlightNumber=this.$route.query.flightNumber,this.FlightType=this.$route.query.flightType,this.startDate=this.$route.query.flightDateTime,this.endDate=this.$route.query.flightDateTime,this.getData()):0==this.dateType?(this.day=1,this.shift=null,this.currentDay()):this.currentShift(),setTimeout((function(){t.$vuetify.rtl=!1}),500)},e.prototype.changeShift=function(){this.day=null,1==this.shift?this.currentShift():2==this.shift?this.nextShift():this.prevShift()},e.prototype.changeDay=function(){this.shift=null,1==this.day?this.currentDay():2==this.day?this.nextDay():this.prevDay()},e.prototype.currentDay=function(){var t=(new this.$persianDate).calendar("g").toString();this.startDate=t+" 00:00",this.endDate=t+" 23:59",this.getData()},e.prototype.prev20Days=function(){var t=(new this.$persianDate).calendar("g").subDay(20).toString();this.startDate=t+" 00:00",this.endDate=t+" 23:59",this.getData()},e.prototype.nextDay=function(){var t=(new this.$persianDate).calendar("g").addDay(1).toString();this.startDate=t+" 00:00",this.endDate=t+" 23:59",this.getData()},e.prototype.prevDay=function(){var t=(new this.$persianDate).calendar("g").subDay(1).toString();this.startDate=t+" 00:00",this.endDate=t+" 23:59",this.getData()},e.prototype.currentShift=function(){var t=(new this.$persianDate).toString("HH"),e=(new this.$persianDate).calendar("g").toString(),a=(new this.$persianDate).calendar("g").addDay(1).toString(),s=(new this.$persianDate).calendar("g").subDay(1).toString();8<=parseInt(t)&&parseInt(t)<19?(this.startDate=e+" 08:00",this.endDate=e+" 18:59"):(this.startDate=parseInt(t)>=19?e+" 19:00":s+" 19:00",this.endDate=parseInt(t)>=19?a+" 07:59":e+" 07:59"),this.currentShiftDates=[this.startDate,this.endDate],this.getData()},e.prototype.nextShift=function(){var t=(new this.$persianDate).toString("HH"),e=(new this.$persianDate).calendar("g").toString(),a=(new this.$persianDate).calendar("g").addDay(1).toString();8<=parseInt(t)&&parseInt(t)<19?(this.startDate=e+" 19:00",this.endDate=a+" 07:59"):(this.startDate=parseInt(t)>=19?a+" 08:00":e+" 08:00",this.endDate=parseInt(t)>=19?a+" 18:59":e+" 18:59"),this.getData()},e.prototype.prevShift=function(){var t=(new this.$persianDate).toString("HH"),e=(new this.$persianDate).calendar("g").toString(),a=(new this.$persianDate).calendar("g").subDay(1).toString();8<=parseInt(t)&&parseInt(t)<19?(this.startDate=a+" 19:00",this.endDate=e+" 07:59"):(this.startDate=parseInt(t)>=19?e+" 08:00":a+" 08:00",this.endDate=parseInt(t)>=19?e+" 18:59":a+" 18:59"),this.getData()},e.prototype.goToContact=function(t){var e=this.$router.resolve({name:"contracts",query:{contractNumber:t,expanded:"false"}});window.open(e.href,"_blank")},e.prototype.addShow=function(t){return U(this,void 0,void 0,(function(){var e,a,s,i,n;return z(this,(function(r){switch(r.label){case 0:if(e=this.$store.state.baseUrl+"cip/manifest/changestatus",a={SessionId:t.sessionId,CombinationId:t.combinationId,PassengerId:t.PassengerId,RecommendationId:t.recommendationId},"admin"!=this.user.roleType)return[3,8];if(0===parseInt(t.status))return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),this.$set(t,"addShowLoading",!0),[4,this.axios.post(e,G(G({},a),{Status:0}))];case 2:return i=r.sent(),i.data.Success?(this.$set(t,"addShowLoading",!1),this.$toast.success("Removed show successfully"),this.getData(!1)):(this.$set(t,"addShowLoading",!1),this.$toast.error("Error removing show")),[3,4];case 3:return s=r.sent(),console.log(s),this.$toast.error("Error removing show"),this.$set(t,"addShowLoading",!1),[3,4];case 4:return[3,8];case 5:return r.trys.push([5,7,,8]),this.$set(t,"addShowLoading",!0),[4,this.axios.post(e,G(G({},a),{Status:1}))];case 6:return i=r.sent(),i.data.Success?(this.$set(t,"addShowLoading",!1),this.$toast.success("Passenger show done successfully"),this.getData(!1)):(this.$set(t,"addShowLoading",!1),this.$toast.error("Error adding show")),[3,8];case 7:return n=r.sent(),console.log(n),this.$toast.error("Error adding show"),this.$set(t,"addShowLoading",!1),[3,8];case 8:return[2]}}))}))},e.prototype.searchAirlinesChanged=function(t){var e=this;t&&t.length>1&&this.axios(this.$store.state.baseUrl+"airlines?name="+t).then((function(t){t.data.Items.forEach((function(t){e.$set(t,"searchAirlines",t.name+t.iata)})),e.airlines=t.data.Items}))},Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),e.prototype.emptySelected=function(){this.selected.length?this.drawerHandler=!0:this.drawerHandler=!1},e.prototype.closeDrawer=function(t){this.drawerHandler=!1,this.selected.splice(0),t&&this.getData(!1)},V([Object(P["e"])("searchAirlines")],e.prototype,"searchAirlinesChanged",null),e=V([Object(P["a"])({components:{NumberField:A["a"],AppAriportSelect:N["a"],addFlightToList:j["a"],editFlightDate:T["a"],PassengerComments:$["a"],editFlightInfo:R["a"],CipVouchersTable:O["a"],PassengersDrawer:F["a"],datePicker:E["b"]}})],e),e}(Object(P["b"])(M["a"],L["a"])),H=q,Y=H,W=(a("aa42"),a("2877")),J=Object(W["a"])(Y,S,k,!1,null,"b7c9a3ce",null);e["default"]=J.exports},c372:function(t,e,a){"use strict";a("6ab5")},d186:function(t,e,a){"use strict";a("1f7a9")},e466:function(t,e,a){},ea57:function(t,e,a){},f6fc:function(t,e,a){"use strict";var s=a("8336"),i=a("b0af"),n=a("99d9"),r=a("cc20"),o=a("62ad"),c=a("169a"),l=a("132d"),u=a("490a"),d=a("0fd9"),p=a("a844"),h=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(c["a"],{staticClass:"theme-card moreRadius button",attrs:{"max-width":"700","retain-focus":!1},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(i["a"],{staticClass:"moreRadius button",class:1==t.dirLtr?"dir-ltr":"dir-rtl",attrs:{flat:""}},[e("div",{staticClass:"d-flex pa-4 justify-space-between align-start"},[e("div",{staticClass:"text-start black--text d-lg-flex align-lg-center"},[e("div",{staticClass:"pb-3 pb-lg-0"},[t._v(" "+t._s(1==t.dirLtr?"Info / Message":t.$t("information")+" / "+t.$t("message"))+" ")]),e(r["a"],{staticClass:"lightButtons",class:1==t.dirLtr?"ml-lg-3 ml-0":"mr-lg-3 mr-0",attrs:{label:""}},[t._v(t._s(t.namePrefix)+" "+t._s(t.passenger.GivenName)+" "+t._s(t.passenger.SurName))])],1),e(l["a"],{staticClass:"icon-remove icon-24 theme-element-bg-light pa-1 rounded-lg w-fit-content d-inline-block",on:{click:function(e){t.dialog=!1}}})],1),e(n["b"],[e(d["a"],{staticClass:"border--bottom--dashed mt-2"},[e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"Passport No":t.$t("passportNumber"))+" ")]),e("div",[t._v(" "+t._s(t.passenger.PassportNO)+" ")])]),e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"Nationality/ID":t.$t("nationality")+" / "+t.$t("nationalId"))+" ")]),e("div",[t._v(t._s(t.passenger.Nationality)+"/"+t._s(t.passenger.NationalId))])]),e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"Age":t.$t("ageGroup"))+" ")]),e("div",[t._v(" "+t._s(t._f("human")(t.passenger.PassengerTypeCode,""+(1==t.dirLtr?"en":"fa")))+" ")])]),e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"BirthDate":t.$t("birthDate"))+" ")]),e("div",["IR"==t.passenger.Nationality?[t._v(" "+t._s(t.getDateFormat(t.passenger.BirthDate.split("T")[0],"jYYYY/jMM/jDD","j"))+" ")]:[t._v(" "+t._s(t.getDateFormat(t.passenger.BirthDate.split("T")[0],"YYYY/MM/DD","g"))+" ")]],2)]),e(o["a"],{staticClass:"col-lg text-start",attrs:{cols:"6"}},[e("div",{staticClass:"font-weight-600"},[t._v(" "+t._s(1==t.dirLtr?"PassportExpireDate":t.$t("passportExpire"))+" ")]),e("div",[t._v(" "+t._s(t.getDateFormat(t.passenger.PassportExpireDate.split("T")[0],"YYYY/MM/DD","g"))+" ")])])],1)],1),e(n["c"],{staticStyle:{transition:"all 0.4s"}},[t.loading?e(u["a"],{staticClass:"mx-auto d-block",attrs:{indeterminate:"",color:"blue"}}):e("div",{staticClass:"my-2 messages-area custom-scroll",class:[t.messages.length?"":"d-flex align-center justify-center",1==t.dirLtr?"pr-2":"pl-2"],attrs:{id:"messagesArea"+t.passenger.PassengerId}},[t._l(t.messages,(function(a,s){return e("div",{key:"message"+s,staticClass:"d-flex flex-column mt-3",class:a.isCurrentUserOwner?"align-end":""},[a.hideOwner?t._e():e("div",{staticClass:"mb-1 d-flex"},[e("span",{staticClass:"black--text"},[t._v(t._s(a.owner))])]),e("div",{class:`message-box ${1==t.dirLtr?"ltr":"rtl"} message-box${a.isCurrentUserOwner?"--self":"--other"}`},[e("span",[t._v(" "+t._s(a.text))]),e("span",{staticClass:"caption d-block text-end w-100"},[t._v(" "+t._s(a.date)+","+t._s(a.time))])])])})),t.messages.length?t._e():e("div",{staticClass:"h-100 d-flex flex-column align-center w-fit-content py-3 px-4 rounded-lg justify-center"},[e("div",{staticClass:"mb-2",domProps:{innerHTML:t._s(t.emojiSVG)}}),t._v(" "+t._s(1==t.dirLtr?"No comments here yet ...":t.$t("NoCommentsHereYet")+"...")+" ")])],2),e(p["a"],{staticClass:"moreRadius button mt-6",attrs:{outlined:"","hide-details":"auto",label:1==t.dirLtr?"Your message":t.$t("yourMessage"),color:"blue",rows:"1"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addComment.apply(null,arguments)}},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}})],1),e(n["a"],{staticClass:"d-flex justify-end border--top--solid py-3 mx-3 px-0"},[e(s["a"],{staticClass:"moreRadius button",attrs:{depressed:"",width:"140",color:"#E8E8E8",outlined:"",height:"44","x-large":""},on:{click:function(e){t.dialog=!1}}},[e("span",{staticClass:"black--text"},[t._v(t._s(1==t.dirLtr?"Cancel":t.$t("cancel")))])]),e(s["a"],{staticClass:"moreRadius button mx-2 blue--text blue-bg-light",attrs:{depressed:"",width:"140","x-large":"",height:"44"},on:{click:t.addComment}},[t._v(t._s(1==t.dirLtr?"Add Comment":t.$t("add")))])],1)],1)],1)},f=[],g=a("3dd8"),m=a("60a3"),v=a("02d3"),y=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),b=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},C=function(t,e,a,s){function i(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,n){function r(t){try{c(s.next(t))}catch(e){n(e)}}function o(t){try{c(s["throw"](t))}catch(e){n(e)}}function c(t){t.done?a(t.value):i(t.value).then(r,o)}c((s=s.apply(t,e||[])).next())}))},x=function(t,e){var a,s,i,n,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return n={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function o(t){return function(e){return c([t,e])}}function c(n){if(a)throw new TypeError("Generator is already executing.");while(r)try{if(a=1,s&&(i=2&n[0]?s["return"]:n[0]?s["throw"]||((i=s["return"])&&i.call(s),0):s.next)&&!(i=i.call(s,n[1])).done)return i;switch(s=0,i&&(n=[2&n[0],i.value]),n[0]){case 0:case 1:i=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,s=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!i||n[1]>i[0]&&n[1]<i[3])){r.label=n[1];break}if(6===n[0]&&r.label<i[1]){r.label=i[1],i=n;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(n);break}i[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(o){n=[6,o],s=0}finally{a=i=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dialog=!1,e.loading=!1,e.newComment="",e.adminMessages=[],e}return y(e,t),e.prototype.open=function(){this.dialog=!0,this.getComments()},Object.defineProperty(e.prototype,"user",{get:function(){return this.$store.state.authStore.user},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"messages",{get:function(){var t=this,e=[];return this.passenger.comment&&e.push({text:this.passenger.comment,ownerType:"Passenger",isCurrentUserOwner:!1,hideOwner:!1,owner:"".concat(this.passenger.GivenName," ").concat(this.passenger.SurName)}),this.passenger.Comment&&this.isInContract&&e.push({text:this.passenger.Comment,ownerType:"Passenger",isCurrentUserOwner:!1,hideOwner:!1,owner:"".concat(this.passenger.GivenName," ").concat(this.passenger.SurName)}),this.adminMessages.map((function(a,s){var i=new Date(a.CreatedAt),n={month:"long",day:"numeric",hour:"numeric",minute:"numeric"};e.push({text:a.Comment,ownerType:"Admin",isCurrentUserOwner:t.user.accountId===a.AccountId,owner:"".concat(a.Name," ").concat(a.Family),date:i.toLocaleDateString("en-GB",n).split("at")[0],time:i.toLocaleDateString("en-GB",n).split("at")[1],hideOwner:!(!t.adminMessages[s-1]||t.adminMessages[s-1].AccountId!==a.AccountId)})})),e},enumerable:!1,configurable:!0}),e.prototype.getComments=function(){return C(this,void 0,void 0,(function(){var t,e=this;return x(this,(function(a){switch(a.label){case 0:return this.loading=!0,[4,this.timeout(500)];case 1:return a.sent(),t=1==this.isInContract?this.passenger.Id:this.passenger.ServicePassengerId,this.axios(this.$store.state.baseUrl+"report/contract/comment?ServicePassengerId="+t).then((function(t){t.data.Success&&(e.loading=!1,e.adminMessages=t.data.Items,setTimeout((function(){var t=document.querySelector("#messagesArea".concat(e.passenger.PassengerId));t.scroll({top:t.scrollHeight,behavior:"smooth"})}),500))})).catch((function(t){})),[2]}}))}))},e.prototype.addComment=function(){var t=this,e=1==this.isInContract?this.passenger.Id:this.passenger.ServicePassengerId,a=1==this.isInContract?this.service.Id:this.passenger.ServiceId;this.axios.post(this.$store.state.baseUrl+"report/contract/comment",{ServiceId:a,Type:"passenger",ServicePassengerId:e,Comment:this.newComment}).then((function(e){e.data.Success?(t.$toast.success("Comment added successfully"),t.newComment="",t.getComments()):t.$toast.error("Error adding comment")})).catch((function(e){t.$toast.error("Error adding comment")}))},Object.defineProperty(e.prototype,"namePrefix",{get:function(){return 1==this.isInContract?this.passenger.NamePrefix:"Male"==this.passenger.Gender?"Mr":"Miss"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emojiSVG",{get:function(){return'<svg width="58" height="58" viewBox="0 0 58 58" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.8507 48.4589C16.8076 48.4589 16.7605 48.4511 16.7134 48.4393C11.9899 46.9995 6.87411 41.8366 5.76385 37.3917C5.70108 37.1406 5.85408 36.8895 6.10124 36.8267C6.35233 36.7639 6.60341 36.917 6.66618 37.1641C7.69013 41.2638 12.6098 46.2109 16.9841 47.5487C17.2313 47.6233 17.3686 47.8822 17.2941 48.1294C17.2352 48.3295 17.0508 48.4589 16.8507 48.4589Z" fill="#975500"/>\n<path d="M19.1027 54.3162C19.0674 54.3162 19.0321 54.3123 18.9967 54.3044C15.0893 53.3943 10.5462 50.4754 6.53675 46.2933C2.7862 42.3859 0.357758 38.2273 0.200831 35.4418C0.185138 35.1868 0.381297 34.9632 0.640226 34.9514C0.895232 34.9357 1.11885 35.1319 1.13062 35.3908C1.27186 37.9252 3.65714 41.9504 7.20761 45.6499C11.0955 49.7065 15.4698 52.5272 19.2086 53.3982C19.4597 53.457 19.6166 53.7081 19.5578 53.9592C19.5068 54.1711 19.3145 54.3162 19.1027 54.3162Z" fill="#975500"/>\n<path d="M39.1305 13.5505C38.9226 13.5505 38.7343 13.4132 38.6793 13.2053C38.0242 10.718 35.0465 7.14793 32.3356 6.44961C32.0884 6.38684 31.9354 6.13183 32.0021 5.88075C32.0688 5.62967 32.3199 5.48059 32.571 5.54728C35.6232 6.33584 38.848 10.1845 39.5817 12.9699C39.6484 13.2171 39.4993 13.4721 39.2482 13.5388C39.209 13.5466 39.1697 13.5505 39.1305 13.5505Z" fill="#975500"/>\n<path d="M45.0035 14.3784C44.7955 14.3784 44.6072 14.2372 44.5523 14.0292C42.8065 7.15584 36.2783 1.79287 32.5513 1.12593C32.2963 1.07885 32.1315 0.839536 32.1747 0.584529C32.2218 0.329523 32.4611 0.16475 32.7161 0.207905C36.7766 0.937615 43.5872 6.46536 45.4546 13.7978C45.5174 14.0489 45.3683 14.2999 45.1172 14.3627C45.078 14.3745 45.0427 14.3784 45.0035 14.3784Z" fill="#975500"/>\n<path d="M33.4105 26.5912C34.1598 27.4189 34.8346 28.5057 34.5482 28.7921C34.2618 29.0784 33.383 28.5606 32.7122 27.8858C32.0413 27.2149 30.4367 34.3551 30.2798 34.716C30.1621 34.9867 28.2947 37.1288 27.3178 39.1649C26.9922 39.8436 27.0393 41.8915 26.9177 42.0131C26.4273 42.5035 25.8035 42.4525 24.4578 41.2638C23.1122 40.0751 22.4139 47.1564 24.0184 48.2745C26.7607 50.189 32.2453 57.7961 39.4914 57.7961C47.8752 57.7961 55.6392 49.0513 55.6392 42.633C55.6392 36.2147 53.7561 33.7823 53.8816 28.4037C53.9836 23.8489 57.2987 21.6754 57.2987 19.4C57.2987 17.4855 54.4544 17.0186 53.5207 17.0186C51.8651 17.0186 47.6202 19.1411 47.6202 24.7276C47.6202 26.9011 47.0004 28.8666 44.7759 28.8666C42.5515 28.8666 40.0681 25.8144 38.5656 23.433" fill="#ffcd49"/>\n<path d="M57.2947 19.4C57.2947 18.3603 56.4512 17.7483 55.5332 17.4031C56.6356 21.0555 51.0451 21.2125 51.0451 33.6568C51.0451 46.1011 43.799 49.7222 40.7977 50.3459C37.7965 50.9658 32.5081 51.1463 28.4829 46.207C27.2471 44.6887 25.5719 43.041 23.7084 41.4835C22.9198 42.7978 22.7511 47.3918 24.0183 48.2745C26.7606 50.189 32.2452 57.796 39.4913 57.796C47.8751 57.796 55.6391 49.0513 55.6391 42.633C55.6391 36.2147 53.756 33.7823 53.8815 28.4036C53.9835 23.8488 57.2947 21.6754 57.2947 19.4Z" fill="#ffcd49"/>\n<path d="M24.4577 41.2638C23.1121 40.0751 19.9304 36.6855 17.859 35.026C15.7875 33.3704 13.9789 33.39 12.7353 35.2182C11.4917 37.0464 15.1167 40.2555 15.9445 41.0833C17.2116 42.3505 22.4138 47.1564 24.0183 48.2784" fill="#ffcd49"/>\n<path d="M30.2799 34.7161C30.123 35.077 29.0676 35.3281 26.9687 33.0448C25.3642 31.299 21.0683 26.2813 18.5339 24.0058C15.9996 21.7304 14.0301 20.7967 12.3745 21.9893C10.719 23.182 11.6605 25.6614 13.5123 27.7328C15.8034 30.2947 18.4398 32.9075 20.9624 35.4183C22.9357 37.3799 27.4042 41.5267 26.9138 42.0171" fill="#ffcd49"/>\n<path d="M20.9662 35.4144C22.8297 37.2661 26.9098 41.0598 26.9529 41.8955C27.5414 40.9774 26.4665 38.2469 25.3287 37.2897C18.7535 31.7541 12.4019 22.8289 11.5937 23.0956C11.2485 24.3942 12.1233 26.1753 13.5121 27.7328C15.8033 30.2907 18.4396 32.9075 20.9662 35.4144Z" fill="#ffcd49"/>\n<path d="M38.5617 23.437C37.0591 21.0556 30.8997 13.3976 29.4011 11.2241C27.8985 9.05069 25.882 9.05069 24.4853 10.0354C23.0887 11.0201 22.6728 12.9856 25.8192 17.1638C27.8043 19.8002 29.4521 22.2247 33.4145 26.5951L38.0203 26.2734L38.5617 23.437Z" fill="#ffcd49"/>\n<path d="M32.7121 27.8858C32.0412 27.215 26.0898 20.1611 24.7441 18.6468C22.2215 15.8142 19.0242 9.74509 15.2108 12.4482C13.2061 13.8683 14.2928 15.928 14.8617 16.7558C15.4305 17.5836 22.8296 26.1243 23.5554 26.8462C24.2812 27.572 30.4367 34.3512 30.2837 34.7122" fill="#ffcd49"/>\n<path d="M33.4106 26.5912C34.1324 27.3876 34.7797 28.4194 34.5757 28.7529C36.9767 26.8227 31.9001 21.1498 29.0245 17.7445C26.8 15.1081 26.1919 11.7538 24.5991 9.95697C24.5599 9.98051 24.5246 10.008 24.4853 10.0315C23.0887 11.0162 22.6728 12.9817 25.8192 17.1599C27.8004 19.7963 29.4521 22.2247 33.4106 26.5912Z" fill="#ffcd49"/>\n<path d="M23.5515 26.8501C24.2773 27.5759 30.4327 34.3551 30.2797 34.716C32.1825 32.1542 24.8069 24.6256 21.2368 20.8202C18.1414 17.5208 17.6118 14.6333 14.591 13.0131C13.4689 14.3705 14.3595 16.0339 14.8577 16.7597C15.4266 17.5875 22.8296 26.1282 23.5515 26.8501Z" fill="#ffcd49"/>\n<path d="M30.1424 34.8694C29.9266 35.0028 29.4833 35.0145 28.7968 34.6183C29.3068 35.0302 29.7775 35.1872 30.1424 34.8694Z" fill="#ffcd49"/>\n<path d="M53.9562 17.7954C55.5372 17.5129 55.8158 17.6934 55.5333 17.4031C54.7644 17.1167 53.9405 17.0186 53.5168 17.0186C51.8612 17.0186 47.6164 19.1411 47.6164 24.7276C47.6164 26.9011 46.9965 28.8666 44.7681 28.8666C43.8893 28.8666 42.9752 28.3919 42.0925 27.67C46 31.9973 49.064 27.9211 49.5309 25.1278C49.9977 22.3345 49.319 18.6271 53.9562 17.7954Z" fill="#ffcd49"/>\n<path d="M24.0066 10.4552C23.0415 11.5498 23.0729 13.5114 25.8152 17.1599C27.8003 19.7963 29.448 22.2208 33.4104 26.5912C34.1597 27.419 34.8345 28.5057 34.5481 28.7921C35.2112 24.2648 28.7654 19.812 26.6704 16.3988C25.0109 13.6918 24.6814 12.0951 24.0066 10.4552Z" fill="#ffcd49"/>\n<path d="M23.5515 26.8501C24.2773 27.5759 30.4327 34.3551 30.2797 34.716C31.6372 33.747 30.7113 32.2366 28.6124 30.1377C24.3087 25.834 18.318 20.0512 15.9092 15.2885C15.6816 14.8373 15.2579 14.5039 14.7597 14.4411C13.4611 14.2724 14.4262 16.1281 14.8617 16.7597C15.4266 17.5875 22.8296 26.1282 23.5515 26.8501Z" fill="#ffcd49"/>\n<path d="M13.5121 27.7329C15.8033 30.2947 18.4396 32.9075 20.9622 35.4184C22.9356 37.38 27.4041 41.5267 26.9137 42.0171C29.6834 39.6868 16.8194 31.2637 11.5898 23.0996C11.2485 24.3903 12.1233 26.1754 13.5121 27.7329Z" fill="#ffcd49"/>\n<path d="M26.3487 42.48C26.6115 42.378 26.7488 42.2563 26.792 42.123C26.3173 42.4878 25.6935 42.3583 24.4577 41.2638C23.112 40.0751 19.9304 36.6854 17.8589 35.0259C16.9487 34.3001 16.0896 33.8961 15.3049 33.8254C16.427 34.5277 15.9052 34.7788 18.4003 36.6933C19.742 37.7212 24.6382 43.1508 26.3487 42.48Z" fill="#ffcd49"/>\n<path d="M23.0886 30.0593C24.905 32.2719 28.4516 35.9244 30.0444 34.9161C29.605 35.0652 28.6046 34.822 26.9725 33.0448C25.368 31.299 21.0721 26.2812 18.5377 24.0058C16.4859 22.1619 14.8029 21.2007 13.3591 21.5342C17.5608 22.9152 21.3663 27.9682 23.0886 30.0593Z" fill="#ffcd49"/>\n<path d="M25.0542 20.5378C27.9534 23.692 32.2571 29.9494 34.4384 28.8549C34.0814 28.9647 33.3125 28.49 32.7122 27.8859C32.0413 27.215 26.0899 20.1611 24.7442 18.6468C22.9945 16.6852 20.927 13.17 18.5496 12.0951C20.9466 13.9861 22.7042 17.9838 25.0542 20.5378Z" fill="#ffcd49"/>\n<path d="M42.0925 27.674C42.0964 27.674 42.0964 27.674 42.0925 27.674C40.739 26.5676 39.4679 24.8767 38.5577 23.4369C37.0591 21.0556 30.8997 13.3975 29.401 11.2241C28.942 10.5611 28.4399 10.1021 27.9181 9.81177C28.6164 10.8161 29.0127 12.2481 30.5937 14.0213C33.1281 16.8656 36.4431 21.9893 37.5809 23.7508C38.7147 25.5045 40.5507 29.2158 42.0925 27.674Z" fill="#ffcd49"/>\n<path d="M50.3938 52.9313C49.4523 50.6402 48.0752 49.2435 46.0862 50.5539C40.6604 54.1279 34.4187 52.9196 26.5919 46.5954C19.6126 40.95 16.0033 36.9169 12.6058 35.4575C11.7898 37.3132 15.148 40.2909 15.9405 41.0833C17.2077 42.3505 22.4098 47.1564 24.0144 48.2784C26.7567 50.193 32.2413 57.8 39.4874 57.8C43.54 57.7961 47.4397 55.7599 50.3938 52.9313Z" fill="#ffcd49"/>\n<path d="M53.8776 28.4037C53.9796 23.8489 57.2947 21.6754 57.2947 19.4C57.2947 18.7291 56.9455 18.2387 56.4512 17.8817C57.0554 19.655 55.6156 21.2282 53.4657 23.9038C51.1353 26.803 50.6214 31.3029 52.222 35.8067C53.8266 40.3105 51.8062 46.5209 48.546 48.4864C45.2859 50.4519 40.9547 59.0946 28.5535 49.3299C28.5496 49.3259 28.5496 49.3259 28.5457 49.322C27.7885 48.6198 27.0392 47.996 26.282 47.5252C21.0446 44.2807 18.059 41.3619 15.8032 38.9099C15.3599 38.4274 14.1673 36.5795 12.7471 37.1876C13.4572 38.7961 15.3677 40.5106 15.9405 41.0833C17.2077 42.3505 22.4098 47.1564 24.0144 48.2784C24.2223 48.4236 24.4499 48.6041 24.6892 48.812C24.752 48.8669 24.8147 48.9218 24.8775 48.9768C24.8932 48.9925 24.9128 49.0082 24.9285 49.0199C24.9678 49.0552 25.0109 49.0945 25.0501 49.1298C25.058 49.1376 25.0698 49.1455 25.0776 49.1572C26.7057 50.6363 28.9458 53.0843 31.6921 54.9949C31.6921 54.9949 31.696 54.9949 31.696 54.9988C31.9353 55.1675 32.1825 55.3323 32.4296 55.4892C32.4335 55.4932 32.4375 55.4932 32.4414 55.4971C32.6886 55.654 32.9396 55.807 33.1907 55.9522C33.1946 55.9522 33.1946 55.9561 33.1986 55.9561C35.0974 57.0467 37.2041 57.8 39.4796 57.8C47.8634 57.8 55.6273 49.0552 55.6273 42.6369C55.6273 36.2186 53.756 33.7863 53.8776 28.4037Z" fill="#ffcd49"/>\n<defs>\n<linearGradient id="paint0_linear_30852_197143" x1="51.5634" y1="59.4564" x2="44.6549" y2="43.2707" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint1_linear_30852_197143" x1="52.9383" y1="48.1992" x2="38.4482" y2="30.9146" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint2_linear_30852_197143" x1="14.2078" y1="36.6916" x2="22.7465" y2="42.9793" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint3_linear_30852_197143" x1="11.0989" y1="20.0496" x2="26.0805" y2="35.7299" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint4_linear_30852_197143" x1="22.5997" y1="29.361" x2="17.6473" y2="34.0263" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<linearGradient id="paint5_linear_30852_197143" x1="27.2806" y1="12.6517" x2="35.9746" y2="26.3138" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint6_linear_30852_197143" x1="18.306" y1="14.9213" x2="30.105" y2="30.8604" gradientUnits="userSpaceOnUse">\n<stop offset="0.00132565" stop-color="#FFCB4B"/>\n<stop offset="1" stop-color="#FFD748"/>\n</linearGradient>\n<linearGradient id="paint7_linear_30852_197143" x1="32.3388" y1="16.8447" x2="24.8867" y2="23.5722" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<linearGradient id="paint8_linear_30852_197143" x1="25.4839" y1="21.6375" x2="15.2374" y2="29.1284" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<linearGradient id="paint9_linear_30852_197143" x1="33.1169" y1="32.0788" x2="22.8703" y2="39.5696" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<radialGradient id="paint10_radial_30852_197143" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(46.5621 19.9174) scale(12.3013 12.3013)">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</radialGradient>\n<linearGradient id="paint11_linear_30852_197143" x1="33.7023" y1="15.5234" x2="27.3371" y2="21.423" gradientUnits="userSpaceOnUse">\n<stop offset="0.3118" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</linearGradient>\n<linearGradient id="paint12_linear_30852_197143" x1="28.8281" y1="18.721" x2="20.4446" y2="26.2765" gradientUnits="userSpaceOnUse">\n<stop offset="0.3118" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</linearGradient>\n<linearGradient id="paint13_linear_30852_197143" x1="25.9949" y1="26.8932" x2="15.6449" y2="35.5872" gradientUnits="userSpaceOnUse">\n<stop offset="0.3118" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</linearGradient>\n<linearGradient id="paint14_linear_30852_197143" x1="14.7013" y1="33.2087" x2="26.7333" y2="42.9895" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFBC47"/>\n</linearGradient>\n<linearGradient id="paint15_linear_30852_197143" x1="17.0044" y1="21.0853" x2="26.397" y2="35.3684" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFBC47"/>\n</linearGradient>\n<linearGradient id="paint16_linear_30852_197143" x1="24.3617" y1="22.1057" x2="27.0009" y2="20.0874" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFA754"/>\n</linearGradient>\n<linearGradient id="paint17_linear_30852_197143" x1="37.3856" y1="30.0794" x2="33.8666" y2="13.3123" gradientUnits="userSpaceOnUse">\n<stop stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FFBC47"/>\n</linearGradient>\n<linearGradient id="paint18_linear_30852_197143" x1="29.3523" y1="46.1714" x2="24.0738" y2="51.023" gradientUnits="userSpaceOnUse">\n<stop offset="0.3118" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</linearGradient>\n<radialGradient id="paint19_radial_30852_197143" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(32.8484 30.1374) rotate(48.14) scale(35.656 32.3645)">\n<stop offset="0.6134" stop-color="#FFBC47" stop-opacity="0"/>\n<stop offset="1" stop-color="#FF8900"/>\n</radialGradient>\n</defs>\n</svg>'},enumerable:!1,configurable:!0}),b([Object(m["c"])()],e.prototype,"passenger",void 0),b([Object(m["c"])()],e.prototype,"isInContract",void 0),b([Object(m["c"])()],e.prototype,"dirLtr",void 0),b([Object(m["c"])()],e.prototype,"service",void 0),e=b([Object(m["a"])({})],e),e}(Object(m["b"])(g["a"],v["a"])),w=_,D=w,I=(a("d186"),a("2877")),S=Object(I["a"])(D,h,f,!1,null,"7c87531e",null);e["a"]=S.exports},fdb5:function(t,e,a){"use strict";var s=a("8336"),i=a("99d9"),n=a("169a"),r=a("132d"),o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(n["a"],{attrs:{"content-class":"theme-card moreRadius button no-overflow-xy datepicker-dialog no-margin dir-ltr","max-width":"400"},on:{"click:outside":function(e){return t.$emit("input",!1)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("div",{staticClass:"pa-4 d-flex align-center justify-space-between"},[e("div",[e("span",[t._v("Add to list")])]),e(r["a"],{staticClass:"icon-remove icon-18 theme-element-bg-light pa-1 rounded w-fit-content d-inline-block",class:t.$vuetify.rtl?"mr-auto":"ml-auto",on:{click:function(e){return t.$emit("input",!1)}}})],1),e("div",{staticClass:"grey--text px-4 pb-4 text-start"},[t._v(" Are you sure you want to add this flight to the list? ")]),e(i["a"],{staticClass:"d-flex justify-end theme-element-bg-light py-3 moreRadius button"},[e(s["a"],{staticClass:"moreRadius button lightButtons",attrs:{depressed:"",width:"140",height:"44","x-large":""},on:{click:function(e){return t.$emit("input",!1)}}},[t._v(" Cancel ")]),e(s["a"],{staticClass:"moreRadius button mx-2 white--text",attrs:{depressed:"",width:"140",color:"buttons","x-large":"",height:"44"},on:{click:t.addToList}},[t._v("Confirm")])],1)],1)},c=[],l=a("60a3"),u=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function s(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(s.prototype=a.prototype,new s)}}(),d=function(t,e,a,s){var i,n=arguments.length,r=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,a):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,a,s);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(r=(n<3?i(r):n>3?i(e,a,r):i(e,a))||r);return n>3&&r&&Object.defineProperty(e,a,r),r},p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.addToList=function(){var t=this;this.addToListReq().then((function(){t.$toast.success("Added Flight To List Successfully"),t.$emit("get-data")})).catch((function(e){e.some((function(t){return"Flight already exists."==t}))?t.$toast.error("Flight already exists"):t.$toast.error("Error adding Flight To Listy")}))},e.prototype.addToListReq=function(){var t=this,e=[],a=[];this.result.CipItineraries.filter((function(t){var e=a.findIndex((function(e){return e.SessionId==t.SessionId&&e.CombinationId==t.CombinationId&&e.RecommendationId==t.RecommendationId&&e.SubsystemId==t.SubsystemId}));return e<=-1&&a.push(t),null}));for(var s=function(a){var s={CipItinerary:a,Type:"FromList"};e.push(new Promise((function(e,a){t.axios.post(t.$store.state.baseUrl+"report/cip/flightinfo",s).then((function(s){if(s.data.Success){var i=t.$store.state.baseUrl+"cip/flights",n={FlightNumber:t.result.FlightInfo.FlightNumber,Airline:t.result.FlightInfo.AirlineIata,Type:t.result.FlightInfo.FlightType,OrgDestAirport:t.result.FlightInfo.AirportCode,MainAirport:t.result.FlightInfo.MainAirport,Saturday:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:""},r=new t.$persianDate(t.result.FlightInfo.DateTime.split(" ")[0]).calendar("g").toString("dddd");n[r]=t.result.FlightInfo.DateTime.split(" ")[1],t.axios.post(i,n).then((function(t){e("Added Flight To List Successfully")})).catch((function(t){409==t.response.status?a("Flight already exists."):a("Error adding Flight To List")})),t.$emit("input",!1)}else a("Error adding Flight To List")})).catch((function(t){a("Error adding Flight To List")}))})))},i=0,n=a;i<n.length;i++){var r=n[i];s(r)}return Promise.all(e)},d([Object(l["c"])()],e.prototype,"value",void 0),d([Object(l["c"])()],e.prototype,"result",void 0),e=d([l["a"]],e),e}(l["d"]),h=p,f=h,g=a("2877"),m=Object(g["a"])(f,o,c,!1,null,null,null);e["a"]=m.exports}}]);