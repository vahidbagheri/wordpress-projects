(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["automationStart"],{"98b7":function(t,e,a){},bb6e:function(t,e,a){"use strict";a.r(e);var o=a("8336"),s=a("b0af"),n=a("99d9"),i=a("62ad"),r=a("8fea"),l=a("169a"),c=a("132d"),u=a("891e"),p=a("67b6"),f=a("43a6"),d=a("2fa4"),h=a("8654"),b=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.hasNoAutomation?e(l["a"],{staticClass:"rounded-lg mx-auto text-center",attrs:{persistent:"","max-width":"350",color:"white"},model:{value:t.hasNoAutomation,callback:function(e){t.hasNoAutomation=e},expression:"hasNoAutomation"}},[e(s["a"],{staticClass:"mx-auto pa-4 moreRadius button",attrs:{"max-width":"400",elevation:"0",color:"white"}},[e(n["c"],{staticClass:"d-flex flex-column align-center pa-0"},[e(c["a"],{staticClass:"icon-danger-triangle error--text"}),e("span",{staticClass:"body-1 my-3 black--text"},[t._v(" "+t._s(t.$t("accessDenied")))])],1),e(n["a"],{staticClass:"justify-center"},[e(o["a"],{staticClass:"moreRadius button",attrs:{width:"45%",height:"40px",depressed:"",dark:"",color:"buttons"},on:{click:t.goToHomePage}},[t._v(t._s(t.$t("backToHome")))])],1)],1)],1):e("div",[e(l["a"],{staticStyle:{"overflow-x":"hidden","border-radius":"15px"},attrs:{fullscreen:t.$vuetify.breakpoint.mobile,"content-class":"authform-dialog",persistent:"",width:"newRegisterForm"!=t.authComponent?"400":"900"},model:{value:t.loginNewUser,callback:function(e){t.loginNewUser=e},expression:"loginNewUser"}},[e("authForm",{attrs:{registerAnotherUser:!0},on:{authDialogClose:function(e){t.loginNewUser=e}}})],1),e(l["a"],{attrs:{"content-class":"container pa-0",fullscreen:t.$vuetify.breakpoint.mobile},model:{value:t.usersDialog,callback:function(e){t.usersDialog=e},expression:"usersDialog"}},[e(s["a"],{staticClass:"container pa-0",attrs:{rounded:"lg"}},[e(n["d"],{staticClass:"d-flex justify-space-between"},[e("span",{staticStyle:{color:"#616161","font-size":"14px"}},[t._v(t._s(t.$t("availableUsersList")))]),e(o["a"],{attrs:{depressed:"","min-width":"32",width:"32",height:"32"},on:{click:function(e){t.usersDialog=!1}}},[e(c["a"],{staticClass:"icon-remove icon-18",attrs:{size:"20",color:"#616161"}})],1)],1),e(n["c"],{class:{"px-4 pb-12":t.$vuetify.breakpoint.mobile}},[e(r["a"],{staticClass:"passagnersTable formerpassengersTable",attrs:{headers:t.usersHeaders,items:t.users,"hide-default-footer":"","loading-text":t.$t("pleaseWait"),"no-data-text":t.$t("noItemToShow"),"items-per-page":t.itemsPerPage,height:t.$vuetify.breakpoint.mobile?"":"350px","fixed-header":""},scopedSlots:t._u([{key:"item.index",fn:function({item:a}){return[e("span",[t._v(t._s(t._f("simplePersian")(a.index,t.$i18n.locale)))])]}},{key:"item.actions",fn:function({item:a}){return[e(o["a"],{staticClass:"white--text moreRadius button buttons",attrs:{depressed:"","x-large":"",height:44,block:t.$vuetify.breakpoint.mobile},on:{click:function(e){return t.selectUser(a)}}},[t._v(t._s(t.$t("select")))])]}},{key:"item.birthDate",fn:function({item:a}){return["IR"==a.nationality?e("div",[t._v(" "+t._s(t._f("persianDateTime")(a.birthDate))+" ")]):t._e(),e("div",[t._v(" "+t._s(t._f("englishDateTime")(a.birthDate))+" ")])]}},{key:"item.nationalId",fn:function({item:a}){return[a.passportNO==a.nationalId?e("span",["IR"!=a.nationality?e("span",[t._v(" -- ")]):e("span",[t._v(" "+t._s(a.nationalId)+" ")])]):e("span",[t._v(" "+t._s(a.nationalId)+" ")])]}},{key:"item.passportNO",fn:function({item:a}){return[a.passportNO==a.nationalId?e("span",["IR"==a.nationality?e("span",[t._v(" -- ")]):e("span",[t._v(" "+t._s(a.passportNO)+" ")])]):e("span",[t._v(" "+t._s(a.passportNO)+" ")])]}},{key:"item.passportExpireDate",fn:function({item:a}){return[e("span",[t._v(" "+t._s(t._f("englishDateTime")(a.passportExpireDate))+" ")])]}},{key:"top",fn:function(){return[e(h["a"],{staticClass:"moreRadius input",attrs:{autofocus:"",label:t.$t("search"),"append-icon":"icon-Search icon-18",outlined:""},on:{input:t.getUsers},model:{value:t.usersSearch,callback:function(e){t.usersSearch=e},expression:"usersSearch"}})]},proxy:!0}],null,!0)}),t.pageCount>1?e("div",{staticClass:"text-center pt-2",class:{"mobile-paginate":t.$vuetify.breakpoint.mobile}},[e(u["a"],{attrs:{length:t.pageCount,"total-visible":"10"},on:{input:t.getUsers},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e()],1)],1)],1),e(s["a"],{staticClass:"mx-auto my-15",attrs:{width:"508px",color:"transparent",flat:"",rounded:"lg"}},[e(n["d"],{staticClass:"d-block text-center",class:{"px-0":t.$vuetify.breakpoint.mobile}},[t._v(" "+t._s(t.$t("addContract"))+" "),e(n["b"],{staticClass:"grey--text mt-0 pt-2",class:[t.$vuetify.breakpoint.mobile?"font-size-11":"subtitle2"]},[t._v(t._s(t.$t("addAFloatContractSub")))])],1),e(n["c"],{staticClass:"py-0",class:[t.$vuetify.breakpoint.mobile?"px-0":"mt-10"]},[e("div",{class:[t.$vuetify.breakpoint.mobile?"px-5":"pa-5"]},[e(f["a"],{model:{value:t.contractFloatType,callback:function(e){t.contractFloatType=e},expression:"contractFloatType"}},[e(p["a"],{staticClass:"px-4 theme-card",class:[0==t.contractFloatType?"floatContractRadioActive":"floatContractRadio"],staticStyle:{"border-radius":"15px",height:"65px"},attrs:{ripple:!1,color:"buttons",value:0},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{class:[t.$vuetify.rtl?"text-right":"text-left"]},[e("div",{staticClass:"font-weight-500 font-size-13",class:[0==t.contractFloatType?"black--text":""]},[t._v(" "+t._s(t.$t("newUser"))+" ")]),e("div",{staticClass:"grey--text font-size-12"},[t._v(" "+t._s(t.$t("newUserSub"))+" ")])])]},proxy:!0}],null,!1,3503670285)}),e(p["a"],{staticClass:"px-4 theme-card",class:[1==t.contractFloatType?"floatContractRadioActive":"floatContractRadio"],staticStyle:{"border-radius":"15px",height:"65px"},attrs:{ripple:!1,color:"buttons",value:1},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{class:[t.$vuetify.rtl?"text-right":"text-left"]},[e("div",{staticClass:"font-weight-500 font-size-13",class:[1==t.contractFloatType?"black--text":""]},[t._v(" "+t._s(t.$t("availableUser"))+" ")]),e("div",{staticClass:"grey--text font-size-12"},[t._v(" "+t._s(t.$t("availableUserSub"))+" ")])])]},proxy:!0}],null,!1,2659976268)}),e(p["a"],{staticClass:"px-4 theme-card",class:[2==t.contractFloatType?"floatContractRadioActive":"floatContractRadio"],staticStyle:{"border-radius":"15px",height:"65px"},attrs:{ripple:!1,color:"buttons",value:2},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{class:[t.$vuetify.rtl?"text-right":"text-left"]},[e("div",{staticClass:"font-weight-500 font-size-13",class:[2==t.contractFloatType?"black--text":""]},[t._v(" "+t._s(t.$t("currentUser"))+" ")]),e("div",{staticClass:"grey--text font-size-12"},[t._v(" "+t._s(t.user.name)+" "+t._s(t.user.family)+" "),e("span",[t._v("به عنوان خریدار")])])])]},proxy:!0}],null,!1,4038602866)})],1)],1),e("div",{staticClass:"d-flex mt-5"},[e(d["a"]),e(i["a"],{staticClass:"py-0",class:[t.$vuetify.breakpoint.mobile?"px-5":"px-6"],attrs:{cols:"12",md:"6"}},[e(o["a"],{staticClass:"buttons moreRadius button",attrs:{disabled:-1==t.contractFloatType,height:"56","max-height":"56","min-height":"56",depressed:"",loading:t.dataLoading,block:"",dark:-1!==t.contractFloatType},on:{click:t.automationContinue}},[e("span",{staticClass:"body-1"},[t._v(t._s(t.$t("continue")))])])],1)],1)])],1)],1)},m=[],g=a("2f62"),y=a("60a3"),v=a("3dd8"),x=function(){var t=function(e,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},t(e,a)};return function(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function o(){this.constructor=e}t(e,a),e.prototype=null===a?Object.create(a):(o.prototype=a.prototype,new o)}}(),_=function(){return _=Object.assign||function(t){for(var e,a=1,o=arguments.length;a<o;a++)for(var s in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},_.apply(this,arguments)},k=function(t,e,a,o){var s,n=arguments.length,i=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,a,o);else for(var r=t.length-1;r>=0;r--)(s=t[r])&&(i=(n<3?s(i):n>3?s(e,a,i):s(e,a))||i);return n>3&&i&&Object.defineProperty(e,a,i),i},w=function(t,e,a,o){function s(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,n){function i(t){try{l(o.next(t))}catch(e){n(e)}}function r(t){try{l(o["throw"](t))}catch(e){n(e)}}function l(t){t.done?a(t.value):s(t.value).then(i,r)}l((o=o.apply(t,e||[])).next())}))},C=function(t,e){var a,o,s,n,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:r(0),throw:r(1),return:r(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function r(t){return function(e){return l([t,e])}}function l(n){if(a)throw new TypeError("Generator is already executing.");while(i)try{if(a=1,o&&(s=2&n[0]?o["return"]:n[0]?o["throw"]||((s=o["return"])&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return i.label++,{value:n[1],done:!1};case 5:i.label++,o=n[1],n=[0];continue;case 7:n=i.ops.pop(),i.trys.pop();continue;default:if(s=i.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){i=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){i.label=n[1];break}if(6===n[0]&&i.label<s[1]){i.label=s[1],s=n;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(n);break}s[2]&&i.ops.pop(),i.trys.pop();continue}n=e.call(t,i)}catch(r){n=[6,r],o=0}finally{a=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}},$=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contractFloatType=-1,e.loginNewUser=!1,e.dataLoading=!1,e.mobile="",e.mobileError="",e.code="",e.loginState="login",e.counterState=!1,e.authDialog=!1,e.autoSeconds=120,e.usersDialog=!1,e.usersSearch="",e.users=[],e.usersHeaders=[],e.page=1,e.pageCount=0,e}return x(e,t),e.prototype.mounted=function(){this.initializeData()},e.prototype.goToHomePage=function(){window.location.href=this.differentLanguage?"/"+this.siteLanguage:"/"},e.prototype.initializeData=function(){this.$store.commit("automationStore/setIsAutomation",!0),this.$store.commit("automationStore/removeCart"),this.$store.commit("automationStore/setBookResponse",[]),this.$store.commit("globalStore/emptyBookInfo","all"),this.usersHeaders=[{text:"#",align:"center",value:"index",sortable:!1},{text:this.$t("userName"),align:"center",value:"Username",sortable:!1},{text:this.$t("mobile"),align:"center",value:"Mobile",sortable:!1},{text:this.$t("email"),align:"center",value:"Email",sortable:!1},{text:this.$t("firstName"),align:"center",value:"Name",sortable:!1},{text:this.$t("lastName"),align:"center",value:"Family",sortable:!1},{text:"",align:"center",value:"actions",sortable:!1}]},e.prototype.openAuthDialog=function(){this.$emit("openAuthDialog")},Object.defineProperty(e.prototype,"itemsPerPage",{get:function(){return this.$vuetify.breakpoint.mobile?10:30},enumerable:!1,configurable:!0}),e.prototype.getUsers=function(){var t=this;this.user&&(this.dataLoading=!0,this.axios(this.$store.state.baseUrl+"user?q="+this.usersSearch+"&perPage="+this.itemsPerPage+"&pageNumber="+this.page).then((function(e){t.dataLoading=!1,t.usersDialog=!0,t.users=e.data.Items,t.users.map((function(t,e){t.index=e+1,t.Email=t.Email||"--",t.Mobile=t.Mobile||"--",t.Name=t.Name||"--",t.Family=t.Family||"--",t.Username=t.Username||"--"})),t.pageCount=e.data.PageIndexes})))},e.prototype.automationContinue=function(){switch(this.contractFloatType){case 0:this.$store.commit("authStore/setAuthComponent","newLoginForm"),this.loginNewUser=!0;break;case 1:this.getUsers();break;case 2:this.selectUser(this.user);break}},e.prototype.selectUser=function(t){return w(this,void 0,void 0,(function(){return C(this,(function(e){switch(e.label){case 0:return this.$store.commit("automationStore/setSelectedUser",t),[4,this.timeout(500)];case 1:return e.sent(),this.$router.push("/dashboard/automation"),[2]}}))}))},Object.defineProperty(e.prototype,"hasNoAutomation",{get:function(){return!this.user||"visitor"==this.user.roleType||!this.$store.state.authStore.user.data.automation},enumerable:!1,configurable:!0}),e=k([Object(y["a"])({computed:_({},Object(g["b"])({user:"authStore/user",differentLanguage:"authStore/differentLanguage",siteLanguage:"authStore/siteLanguage",authComponent:"authStore/authComponent"}))})],e),e}(Object(y["b"])(v["a"])),S=$,T=S,U=(a("c8b8"),a("2877")),N=Object(U["a"])(T,b,m,!1,null,"66deaf69",null);e["default"]=N.exports},c8b8:function(t,e,a){"use strict";a("98b7")}}]);