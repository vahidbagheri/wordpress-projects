(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ShowPassenger"],{"3d84":function(t,a,s){},7133:function(t,a,s){"use strict";s.r(a);var e=s("b0af"),l=s("99d9"),n=s("cc20"),i=s("62ad"),r=s("a523"),o=s("ce7e"),c=s("adda"),d=s("490a"),p=s("0fd9"),f=s("2fa4"),H=s("8654"),V=function(){var t=this,a=t._self._c;t._self._setupProxy;return a(r["a"],{staticClass:"dir-ltr"},[a(e["a"],{staticClass:"moreRadius button ma-5 px-4 py-2",attrs:{flat:""}},[a("div",{staticClass:"d-flex align-center mb-8"},[a(l["d"],{staticClass:"pt-4 flex-column align-start",attrs:{flat:"",dark:"",color:"primary"}},[a("span",{staticClass:"d-flex align-center justify-start"},[a("span",{staticClass:"d-block headline mr-3"},[t._v("User confirmation")]),a(n["a"],{attrs:{color:"#EA1B661A","text-color":"#EA1B66",small:""}},[t._v(t._s(t.$route.query.at.toUpperCase()))])],1),a(l["b"],{staticClass:"pb-0 grey--text pt-1 px-0"},[t._v("Please search user by barcode.")])],1),a(f["a"]),a(H["a"],{ref:"searchId",staticClass:"moreRadius input mr-4 barcode-input-hidden",staticStyle:{"max-width":"400px",opacity:"0"},attrs:{"hide-details":"auto",label:"Search barcode"},model:{value:t.barcodeId,callback:function(a){t.barcodeId=a},expression:"barcodeId"}}),t.loadingData?a(d["a"],{staticClass:"d-block mb-10 mr-4 mb-n2",attrs:{size:"40",indeterminate:"",color:"blue"}}):a("div",{staticClass:"position-relative barcode-img",domProps:{innerHTML:t._s(t.barcodeSvg)}})],1),t.loadingData?t._e():a(l["c"],{staticClass:"pb-0"},[t.statusData?a(p["a"],{staticClass:"mb-8"},t._l(t.statusData,(function(s){return a(i["a"],{key:s.title+"Box",attrs:{cols:"3"}},[a("div",{staticClass:"d-flex flex-column moreRadius button pa-4",class:s.status?t.alreadyDone[s.realTitle]?"red lighten-5":"green-bg":"theme-element-bg-light"},[a("div",{staticClass:"d-flex align-center justify-space-between"},[a("span",{staticClass:"font-weight-500 black--text"},[t._v(t._s(s.title.toUpperCase()))]),a("span",{staticClass:"d-flex align-center",class:s.status?t.alreadyDone[s.realTitle]?"red--text":"green--text":""},[t._v(t._s(s.status?"Show":"No Show")),s.status?a("i",{staticClass:"icon-show icon-16 pl-1 pb-1"}):t._e()])])])])})),1):t._e(),t.passengerData?a(p["a"],[a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"3"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("Name")]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t.passengerData.GivenName)+" "+t._s(t.passengerData.SurName))])]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"2"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("Passport No.")]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t.passengerData.PassportNO))])]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"2"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v(t._s("IR"==t.passengerData.Nationality?"Nationality/ID":"Nationality"))]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t.passengerData.Nationality)+t._s("IR"==t.passengerData.Nationality?"/"+t.passengerData.NationalId:""))])]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"2"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("Age")]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t._f("human")(t.passengerData.PassengerTypeCode,"en")))])]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"3"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("Flight Date")]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t.passengerData.flightDateTime.split(" ")[0]))])]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"3"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("Flight Time")]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t.passengerData.flightDateTime.split(" ")[1]))])]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"3"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("Airport")]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t.passengerData.cipAirport)+" "),a(o["a"],{staticClass:"my-0 mx-1",attrs:{vertical:""}}),t._v(" "+t._s("outbound"==t.passengerData.flightType?"DEP":"ARR")+"/"+t._s("international"==t.passengerData.tripType?"INT":"DOM"))],1)]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"2"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("Airline")]),a("span",{staticClass:"font-size-14 mt-3"},[a(c["a"],{staticClass:"airline-logo",attrs:{src:t.imgUrl(t.passengerData.airline,"en"),"max-width":"70"}})],1)]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"2"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("Flight No.")]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t.passengerData.flightNumber))])]),a(i["a"],{staticClass:"d-flex flex-column",attrs:{cols:"2"}},[a("span",{staticClass:"font-weight-500 font-size-14 black--text"},[t._v("From/To")]),a("span",{staticClass:"font-size-14 mt-3"},[t._v(t._s(t.passengerData.airport))])])],1):t._e()],1)],1)],1)},u=[],h=s("60a3"),b=s("5c1f"),g=s("5df0"),m=function(){var t=function(a,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])},t(a,s)};return function(a,s){if("function"!==typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function e(){this.constructor=a}t(a,s),a.prototype=null===s?Object.create(s):(e.prototype=s.prototype,new e)}}(),k=function(t,a,s,e){var l,n=arguments.length,i=n<3?a:null===e?e=Object.getOwnPropertyDescriptor(a,s):e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,a,s,e);else for(var r=t.length-1;r>=0;r--)(l=t[r])&&(i=(n<3?l(i):n>3?l(a,s,i):l(a,s))||i);return n>3&&i&&Object.defineProperty(a,s,i),i},_=function(t){function a(){var a=null!==t&&t.apply(this,arguments)||this;return a.barcodeId="",a.errorMsg="",a.loadingData=!1,a.alreadyDone={cash:!1,security:!1,salon:!1},a.statusData=null,a.passengerData=null,a}return m(a,t),a.prototype.mounted=function(){var t=this;setInterval((function(){t.$refs.searchId.$refs.input.focus(),t.$vuetify.rtl=!1}),500),this.startChecking()},a.prototype.changeBarcodeStatus=function(){var t=this;if(this.barcodeId){var a=this.$store.state.baseUrl+"cip/manifest/changebarcodestatus",s={Barcode:parseInt(this.barcodeId),Type:this.$route.query.at,Status:1};this.loadingData=!0,this.axios.post(a,s).then((function(a){a.data.Success?(t.alreadyDone={cash:!1,security:!1,salon:!1},t.getPassengerData()):a.data.Items.includes("passenger not found")?(t.$toast.error("Passenger not found",{timeout:!1}),t.loadingData=!1,t.barcodeId=""):a.data.Items.includes("previous status")?(t.$toast.error("Previous status is not complete.",{timeout:!1}),t.getPassengerData()):a.data.Items.includes("already")?(t.$toast.error("This action is already done.",{timeout:!1}),t.alreadyDone[t.$route.query.at]=!0,t.getPassengerData()):(t.$toast.error("Error updating status."),t.loadingData=!1,t.barcodeId="")})).catch((function(a){t.loadingData=!1,t.barcodeId="",t.$toast.error("Error updating status.")}))}else this.$toast.error("Please try again.")},a.prototype.getPassengerData=function(){var t=this,a=(new this.$persianDate).calendar("g").toString(),s=(new this.$persianDate).calendar("g").addDay(1).toString(),e=a+" 00:00",l=s+" 23:59";if(this.barcodeId){var n="".concat(this.$store.state.baseUrl,"report/cipmanifest?StartDate=").concat(e,"&EndDate=").concat(l,"&Barcode=").concat(parseInt(this.barcodeId));this.axios.get(n).then((function(a){a.data.Success&&(t.passengerData=a.data.Items[0],t.statusData=[{title:"cash",realTitle:"cash",user:"--",date:"--",status:t.passengerData.cashStatus},{title:"security",realTitle:"security",user:"--",date:"--",status:t.passengerData.securityStatus},{title:"lounge",realTitle:"salon",user:"--",date:"--",status:t.passengerData.salonStatus}]),t.loadingData=!1,t.barcodeId=""})).catch((function(a){t.barcodeId="",t.loadingData=!1}))}else this.$toast.error("Please try again.")},a.prototype.startChecking=function(){var t=this,a=this.barcodeId.length;setInterval((function(){t.barcodeId.length!=a?a=t.barcodeId.length:t.barcodeId.length&&t.changeBarcodeStatus()}),500)},Object.defineProperty(a.prototype,"barcodeSvg",{get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="122" height="63" viewBox="0 0 122 63" fill="none">\n<path d="M1.32812 31.8499V62.8584H2.06094H2.79375V31.8499V0.841351H2.06094H1.32812V31.8499Z" fill="black"/>\n<path d="M3.83984 31.8499V62.8584H4.15391H4.46797V31.8499V0.841351H4.15391H3.83984V31.8499Z" fill="black"/>\n<path d="M6.25 31.8499V62.8584H6.56406H6.87813V31.8499V0.841351H6.56406H6.25V31.8499Z" fill="black"/>\n<path d="M10.4375 31.8499V62.8584H11.9555H13.4734V31.8499V0.841351H11.9555H10.4375V31.8499Z" fill="black"/>\n<path d="M14.5195 31.8499V62.8584H14.8336H15.1477V31.8499V0.841351H14.8336H14.5195V31.8499Z" fill="black"/>\n<path d="M16.1953 31.8499V62.8584H17.3469H18.4984V31.8499V0.841351H17.3469H16.1953V31.8499Z" fill="black"/>\n<path d="M19.543 31.8499V62.8584H20.6422H21.7414V31.8499V0.841351H20.6422H19.543V31.8499Z" fill="black"/>\n<path d="M22.7891 31.8499V62.8584H23.1031H23.4172V31.8499V0.841351H23.1031H22.7891V31.8499Z" fill="black"/>\n<path d="M26.0352 31.8499V62.8584H26.768H27.5008V31.8499V0.841351H26.768H26.0352V31.8499Z" fill="black"/>\n<path d="M28.5469 31.8499V62.8584H28.8609H29.175V31.8499V0.841351H28.8609H28.5469V31.8499Z" fill="black"/>\n<path d="M32.6289 31.8499V62.8584H33.3617H34.0945V31.8499V0.841351H33.3617H32.6289V31.8499Z" fill="black"/>\n<path d="M35.1406 31.8499V62.8584H35.4547H35.7688V31.8499V0.841351H35.4547H35.1406V31.8499Z" fill="black"/>\n<path d="M37.6562 31.8499V62.8584H38.3367H39.0172V31.8499V0.841351H38.3367H37.6562V31.8499Z" fill="black"/>\n<path d="M42.5742 31.8499V62.8584H42.8883H43.2023V31.8499V0.841351H42.8883H42.5742V31.8499Z" fill="black"/>\n<path d="M45.0859 31.8499V62.8584H45.4H45.7141V31.8499V0.841351H45.4H45.0859V31.8499Z" fill="black"/>\n<path d="M46.7617 31.8499V62.8584H47.0234H47.2852V31.8499V0.841351H47.0234H46.7617V31.8499Z" fill="black"/>\n<path d="M50.8438 31.8499V62.8584H51.5766H52.3094V31.8499V0.841351H51.5766H50.8438V31.8499Z" fill="black"/>\n<path d="M53.2539 31.8499V62.8584H53.568H53.882V31.8499V0.841351H53.568H53.2539V31.8499Z" fill="black"/>\n<path d="M55.7656 31.8499V62.8584H56.0797H56.3938V31.8499V0.841351H56.0797H55.7656V31.8499Z" fill="black"/>\n<path d="M57.4414 31.8499V62.8584H57.7555H58.0695V31.8499V0.841351H57.7555H57.4414V31.8499Z" fill="black"/>\n<path d="M59.8477 31.8499V62.8584H61.418H62.9883V31.8499V0.841351H61.418H59.8477V31.8499Z" fill="black"/>\n<path d="M64.875 31.8499V62.8584H65.1891H65.5031V31.8499V0.841351H65.1891H64.875V31.8499Z" fill="black"/>\n<path d="M66.5469 31.8499V62.8584H67.2273H67.9078V31.8499V0.841351H67.2273H66.5469V31.8499Z" fill="black"/>\n<path d="M69.793 31.8499V62.8584H70.107H70.4211V31.8499V0.841351H70.107H69.793V31.8499Z" fill="black"/>\n<path d="M73.875 31.8499V62.8584H74.1891H74.5031V31.8499V0.841351H74.1891H73.875V31.8499Z" fill="black"/>\n<path d="M77.9609 31.8499V62.8584H78.275H78.5891V31.8499V0.841351H78.275H77.9609V31.8499Z" fill="black"/>\n<path d="M80.4727 31.8499V62.8584H81.2055H81.9383V31.8499V0.841351H81.2055H80.4727V31.8499Z" fill="black"/>\n<path d="M82.9844 31.8499V62.8584H83.2984H83.6125V31.8499V0.841351H83.2984H82.9844V31.8499Z" fill="black"/>\n<path d="M87.0664 31.8499V62.8584H87.7992H88.532V31.8499V0.841351H87.7992H87.0664V31.8499Z" fill="black"/>\n<path d="M89.5781 31.8499V62.8584H89.8922H90.2063V31.8499V0.841351H89.8922H89.5781V31.8499Z" fill="black"/>\n<path d="M92.0391 31.8499V62.8584H92.3322H92.6148V31.8499V0.841351H92.3322H92.0391V31.8499Z" fill="black"/>\n<path d="M94.5 31.8499V62.8584H94.8141H95.1281V31.8499V0.841351H94.8141H94.5V31.8499Z" fill="black"/>\n<path d="M96.1758 31.8499V62.8584H96.9086H97.6414V31.8499V0.841351H96.9086H96.1758V31.8499Z" fill="black"/>\n<path d="M101.094 31.8499V62.8584H101.408H101.722V31.8499V0.841351H101.408H101.094V31.8499Z" fill="black"/>\n<path d="M102.77 31.8499V62.8584H104.288H105.805V31.8499V0.841351H104.288H102.77V31.8499Z" fill="black"/>\n<path d="M106.852 31.8499V62.8584H108.003H109.155V31.8499V0.841351H108.003H106.852V31.8499Z" fill="black"/>\n<path d="M110.203 31.8499V62.8584H110.936H111.669V31.8499V0.841351H110.936H110.203V31.8499Z" fill="black"/>\n<path d="M114.285 31.8499V62.8584H115.437H116.588V31.8499V0.841351H115.437H114.285V31.8499Z" fill="black"/>\n<path d="M117.531 31.8499V62.8584H117.845H118.159V31.8499V0.841351H117.845H117.531V31.8499Z" fill="black"/>\n<path d="M119.207 31.8499V62.8584H119.94H120.673V31.8499V0.841351H119.94H119.207V31.8499Z" fill="black"/>\n</svg>'},enumerable:!1,configurable:!0}),k([Object(h["c"])()],a.prototype,"value",void 0),a=k([Object(h["a"])({components:{datePicker:b["b"]}})],a),a}(Object(h["b"])(g["a"])),v=_,y=v,x=(s("fb92"),s("2877")),D=Object(x["a"])(y,V,u,!1,null,null,null);a["default"]=D.exports},fb92:function(t,a,s){"use strict";s("3d84")}}]);